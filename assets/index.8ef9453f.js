var w_=Object.defineProperty,S_=Object.defineProperties;var R_=Object.getOwnPropertyDescriptors;var Zf=Object.getOwnPropertySymbols;var O_=Object.prototype.hasOwnProperty,I_=Object.prototype.propertyIsEnumerable;var Jf=(n,e,t)=>e in n?w_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hu=(n,e)=>{for(var t in e||(e={}))O_.call(e,t)&&Jf(n,t,e[t]);if(Zf)for(var t of Zf(e))I_.call(e,t)&&Jf(n,t,e[t]);return n},Qf=(n,e)=>S_(n,R_(e));var P_=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var QP=P_(De=>{const A_=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}};A_();function Th(n,e){const t=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const b_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",L_=Th(b_);function qd(n){return!!n||n===""}function Ch(n){if(Pt(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=ze(i)?D_(i):Ch(i);if(r)for(const a in r)e[a]=r[a]}return e}else{if(ze(n))return n;if(Fe(n))return n}}const N_=/;(?![^(]*\))/g,F_=/:(.+)/;function D_(n){const e={};return n.split(N_).forEach(t=>{if(t){const i=t.split(F_);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function wh(n){let e="";if(ze(n))e=n;else if(Pt(n))for(let t=0;t<n.length;t++){const i=wh(n[t]);i&&(e+=i+" ")}else if(Fe(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function G_(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=zr(n[i],e[i]);return t}function zr(n,e){if(n===e)return!0;let t=tc(n),i=tc(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=Mo(n),i=Mo(e),t||i)return n===e;if(t=Pt(n),i=Pt(e),t||i)return t&&i?G_(n,e):!1;if(t=Fe(n),i=Fe(e),t||i){if(!t||!i)return!1;const r=Object.keys(n).length,a=Object.keys(e).length;if(r!==a)return!1;for(const o in n){const s=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(s&&!l||!s&&l||!zr(n[o],e[o]))return!1}}return String(n)===String(e)}function Sh(n,e){return n.findIndex(t=>zr(t,e))}const ra=n=>ze(n)?n:n==null?"":Pt(n)||Fe(n)&&(n.toString===Vd||!zt(n.toString))?JSON.stringify(n,Yd,2):String(n),Yd=(n,e)=>e&&e.__v_isRef?Yd(n,e.value):ma(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r])=>(t[`${i} =>`]=r,t),{})}:Na(e)?{[`Set(${e.size})`]:[...e.values()]}:Fe(e)&&!Pt(e)&&!Kd(e)?String(e):e,ce={},ya=[],Kn=()=>{},k_=()=>!1,j_=/^on[^a-z]/,gl=n=>j_.test(n),Rh=n=>n.startsWith("onUpdate:"),Qe=Object.assign,Oh=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},B_=Object.prototype.hasOwnProperty,Zt=(n,e)=>B_.call(n,e),Pt=Array.isArray,ma=n=>$o(n)==="[object Map]",Na=n=>$o(n)==="[object Set]",tc=n=>$o(n)==="[object Date]",zt=n=>typeof n=="function",ze=n=>typeof n=="string",Mo=n=>typeof n=="symbol",Fe=n=>n!==null&&typeof n=="object",Hd=n=>Fe(n)&&zt(n.then)&&zt(n.catch),Vd=Object.prototype.toString,$o=n=>Vd.call(n),$_=n=>$o(n).slice(8,-1),Kd=n=>$o(n)==="[object Object]",Ih=n=>ze(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Fs=Th(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_l=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},U_=/-(\w)/g,ci=_l(n=>n.replace(U_,(e,t)=>t?t.toUpperCase():"")),W_=/\B([A-Z])/g,Fa=_l(n=>n.replace(W_,"-$1").toLowerCase()),yl=_l(n=>n.charAt(0).toUpperCase()+n.slice(1)),fu=_l(n=>n?`on${yl(n)}`:""),qs=(n,e)=>!Object.is(n,e),Ds=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},Ys=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},Hs=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let ec;const z_=()=>ec||(ec=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ri;class X_{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&ri&&(this.parent=ri,this.index=(ri.scopes||(ri.scopes=[])).push(this)-1)}run(e){if(this.active){const t=ri;try{return ri=this,e()}finally{ri=t}}}on(){ri=this}off(){ri=this.parent}stop(e){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function q_(n,e=ri){e&&e.active&&e.effects.push(n)}const Ph=n=>{const e=new Set(n);return e.w=0,e.n=0,e},Zd=n=>(n.w&sr)>0,Jd=n=>(n.n&sr)>0,Y_=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=sr},H_=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const r=e[i];Zd(r)&&!Jd(r)?r.delete(n):e[t++]=r,r.w&=~sr,r.n&=~sr}e.length=t}},Du=new WeakMap;let ao=0,sr=1;const Gu=30;let qn;const Br=Symbol(""),ku=Symbol("");class Ah{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,q_(this,i)}run(){if(!this.active)return this.fn();let e=qn,t=ir;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=qn,qn=this,ir=!0,sr=1<<++ao,ao<=Gu?Y_(this):nc(this),this.fn()}finally{ao<=Gu&&H_(this),sr=1<<--ao,qn=this.parent,ir=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qn===this?this.deferStop=!0:this.active&&(nc(this),this.onStop&&this.onStop(),this.active=!1)}}function nc(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let ir=!0;const Qd=[];function Da(){Qd.push(ir),ir=!1}function Ga(){const n=Qd.pop();ir=n===void 0?!0:n}function Rn(n,e,t){if(ir&&qn){let i=Du.get(n);i||Du.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=Ph()),tp(r)}}function tp(n,e){let t=!1;ao<=Gu?Jd(n)||(n.n|=sr,t=!Zd(n)):t=!n.has(qn),t&&(n.add(qn),qn.deps.push(n))}function Ai(n,e,t,i,r,a){const o=Du.get(n);if(!o)return;let s=[];if(e==="clear")s=[...o.values()];else if(t==="length"&&Pt(n))o.forEach((l,h)=>{(h==="length"||h>=i)&&s.push(l)});else switch(t!==void 0&&s.push(o.get(t)),e){case"add":Pt(n)?Ih(t)&&s.push(o.get("length")):(s.push(o.get(Br)),ma(n)&&s.push(o.get(ku)));break;case"delete":Pt(n)||(s.push(o.get(Br)),ma(n)&&s.push(o.get(ku)));break;case"set":ma(n)&&s.push(o.get(Br));break}if(s.length===1)s[0]&&ju(s[0]);else{const l=[];for(const h of s)h&&l.push(...h);ju(Ph(l))}}function ju(n,e){const t=Pt(n)?n:[...n];for(const i of t)i.computed&&ic(i);for(const i of t)i.computed||ic(i)}function ic(n,e){(n!==qn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const V_=Th("__proto__,__v_isRef,__isVue"),ep=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Mo)),K_=bh(),Z_=bh(!1,!0),J_=bh(!0),rc=Q_();function Q_(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=ae(this);for(let a=0,o=this.length;a<o;a++)Rn(i,"get",a+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(ae)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Da();const i=ae(this)[e].apply(this,t);return Ga(),i}}),n}function bh(n=!1,e=!1){return function(i,r,a){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&a===(n?e?vy:op:e?ap:rp).get(i))return i;const o=Pt(i);if(!n&&o&&Zt(rc,r))return Reflect.get(rc,r,a);const s=Reflect.get(i,r,a);return(Mo(r)?ep.has(r):V_(r))||(n||Rn(i,"get",r),e)?s:Je(s)?o&&Ih(r)?s:s.value:Fe(s)?n?sp(s):Fh(s):s}}const ty=np(),ey=np(!0);function np(n=!1){return function(t,i,r,a){let o=t[i];if(To(o)&&Je(o)&&!Je(r))return!1;if(!n&&!To(r)&&(Bu(r)||(r=ae(r),o=ae(o)),!Pt(t)&&Je(o)&&!Je(r)))return o.value=r,!0;const s=Pt(t)&&Ih(i)?Number(i)<t.length:Zt(t,i),l=Reflect.set(t,i,r,a);return t===ae(a)&&(s?qs(r,o)&&Ai(t,"set",i,r):Ai(t,"add",i,r)),l}}function ny(n,e){const t=Zt(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&Ai(n,"delete",e,void 0),i}function iy(n,e){const t=Reflect.has(n,e);return(!Mo(e)||!ep.has(e))&&Rn(n,"has",e),t}function ry(n){return Rn(n,"iterate",Pt(n)?"length":Br),Reflect.ownKeys(n)}const ip={get:K_,set:ty,deleteProperty:ny,has:iy,ownKeys:ry},ay={get:J_,set(n,e){return!0},deleteProperty(n,e){return!0}},oy=Qe({},ip,{get:Z_,set:ey}),Lh=n=>n,ml=n=>Reflect.getPrototypeOf(n);function ps(n,e,t=!1,i=!1){n=n.__v_raw;const r=ae(n),a=ae(e);t||(e!==a&&Rn(r,"get",e),Rn(r,"get",a));const{has:o}=ml(r),s=i?Lh:t?kh:Gh;if(o.call(r,e))return s(n.get(e));if(o.call(r,a))return s(n.get(a));n!==r&&n.get(e)}function vs(n,e=!1){const t=this.__v_raw,i=ae(t),r=ae(n);return e||(n!==r&&Rn(i,"has",n),Rn(i,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function gs(n,e=!1){return n=n.__v_raw,!e&&Rn(ae(n),"iterate",Br),Reflect.get(n,"size",n)}function ac(n){n=ae(n);const e=ae(this);return ml(e).has.call(e,n)||(e.add(n),Ai(e,"add",n,n)),this}function oc(n,e){e=ae(e);const t=ae(this),{has:i,get:r}=ml(t);let a=i.call(t,n);a||(n=ae(n),a=i.call(t,n));const o=r.call(t,n);return t.set(n,e),a?qs(e,o)&&Ai(t,"set",n,e):Ai(t,"add",n,e),this}function sc(n){const e=ae(this),{has:t,get:i}=ml(e);let r=t.call(e,n);r||(n=ae(n),r=t.call(e,n)),i&&i.call(e,n);const a=e.delete(n);return r&&Ai(e,"delete",n,void 0),a}function lc(){const n=ae(this),e=n.size!==0,t=n.clear();return e&&Ai(n,"clear",void 0,void 0),t}function _s(n,e){return function(i,r){const a=this,o=a.__v_raw,s=ae(o),l=e?Lh:n?kh:Gh;return!n&&Rn(s,"iterate",Br),o.forEach((h,c)=>i.call(r,l(h),l(c),a))}}function ys(n,e,t){return function(...i){const r=this.__v_raw,a=ae(r),o=ma(a),s=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,h=r[n](...i),c=t?Lh:e?kh:Gh;return!e&&Rn(a,"iterate",l?ku:Br),{next(){const{value:d,done:g}=h.next();return g?{value:d,done:g}:{value:s?[c(d[0]),c(d[1])]:c(d),done:g}},[Symbol.iterator](){return this}}}}function $i(n){return function(...e){return n==="delete"?!1:this}}function sy(){const n={get(a){return ps(this,a)},get size(){return gs(this)},has:vs,add:ac,set:oc,delete:sc,clear:lc,forEach:_s(!1,!1)},e={get(a){return ps(this,a,!1,!0)},get size(){return gs(this)},has:vs,add:ac,set:oc,delete:sc,clear:lc,forEach:_s(!1,!0)},t={get(a){return ps(this,a,!0)},get size(){return gs(this,!0)},has(a){return vs.call(this,a,!0)},add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear"),forEach:_s(!0,!1)},i={get(a){return ps(this,a,!0,!0)},get size(){return gs(this,!0)},has(a){return vs.call(this,a,!0)},add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear"),forEach:_s(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=ys(a,!1,!1),t[a]=ys(a,!0,!1),e[a]=ys(a,!1,!0),i[a]=ys(a,!0,!0)}),[n,t,e,i]}const[ly,uy,hy,fy]=sy();function Nh(n,e){const t=e?n?fy:hy:n?uy:ly;return(i,r,a)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Zt(t,r)&&r in i?t:i,r,a)}const cy={get:Nh(!1,!1)},dy={get:Nh(!1,!0)},py={get:Nh(!0,!1)},rp=new WeakMap,ap=new WeakMap,op=new WeakMap,vy=new WeakMap;function gy(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _y(n){return n.__v_skip||!Object.isExtensible(n)?0:gy($_(n))}function Fh(n){return To(n)?n:Dh(n,!1,ip,cy,rp)}function yy(n){return Dh(n,!1,oy,dy,ap)}function sp(n){return Dh(n,!0,ay,py,op)}function Dh(n,e,t,i,r){if(!Fe(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=r.get(n);if(a)return a;const o=_y(n);if(o===0)return n;const s=new Proxy(n,o===2?i:t);return r.set(n,s),s}function xa(n){return To(n)?xa(n.__v_raw):!!(n&&n.__v_isReactive)}function To(n){return!!(n&&n.__v_isReadonly)}function Bu(n){return!!(n&&n.__v_isShallow)}function lp(n){return xa(n)||To(n)}function ae(n){const e=n&&n.__v_raw;return e?ae(e):n}function up(n){return Ys(n,"__v_skip",!0),n}const Gh=n=>Fe(n)?Fh(n):n,kh=n=>Fe(n)?sp(n):n;function my(n){ir&&qn&&(n=ae(n),tp(n.dep||(n.dep=Ph())))}function xy(n,e){n=ae(n),n.dep&&ju(n.dep)}function Je(n){return!!(n&&n.__v_isRef===!0)}function Ey(n){return Je(n)?n.value:n}const My={get:(n,e,t)=>Ey(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return Je(r)&&!Je(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function hp(n){return xa(n)?n:new Proxy(n,My)}class Ty{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Ah(e,()=>{this._dirty||(this._dirty=!0,xy(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=ae(this);return my(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Cy(n,e,t=!1){let i,r;const a=zt(n);return a?(i=n,r=Kn):(i=n.get,r=n.set),new Ty(i,r,a||!r,t)}function rr(n,e,t,i){let r;try{r=i?n(...i):n()}catch(a){xl(a,e,t)}return r}function Fn(n,e,t,i){if(zt(n)){const a=rr(n,e,t,i);return a&&Hd(a)&&a.catch(o=>{xl(o,e,t)}),a}const r=[];for(let a=0;a<n.length;a++)r.push(Fn(n[a],e,t,i));return r}function xl(n,e,t,i=!0){const r=e?e.vnode:null;if(e){let a=e.parent;const o=e.proxy,s=t;for(;a;){const h=a.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](n,o,s)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){rr(l,null,10,[n,o,s]);return}}wy(n,t,r,i)}function wy(n,e,t,i=!0){console.error(n)}let Vs=!1,$u=!1;const Sn=[];let Oi=0;const vo=[];let oo=null,aa=0;const go=[];let qi=null,oa=0;const fp=Promise.resolve();let jh=null,Uu=null;function Sy(n){const e=jh||fp;return n?e.then(this?n.bind(this):n):e}function Ry(n){let e=Oi+1,t=Sn.length;for(;e<t;){const i=e+t>>>1;Co(Sn[i])<n?e=i+1:t=i}return e}function cp(n){(!Sn.length||!Sn.includes(n,Vs&&n.allowRecurse?Oi+1:Oi))&&n!==Uu&&(n.id==null?Sn.push(n):Sn.splice(Ry(n.id),0,n),dp())}function dp(){!Vs&&!$u&&($u=!0,jh=fp.then(gp))}function Oy(n){const e=Sn.indexOf(n);e>Oi&&Sn.splice(e,1)}function pp(n,e,t,i){Pt(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&t.push(n),dp()}function Iy(n){pp(n,oo,vo,aa)}function Py(n){pp(n,qi,go,oa)}function El(n,e=null){if(vo.length){for(Uu=e,oo=[...new Set(vo)],vo.length=0,aa=0;aa<oo.length;aa++)oo[aa]();oo=null,aa=0,Uu=null,El(n,e)}}function vp(n){if(El(),go.length){const e=[...new Set(go)];if(go.length=0,qi){qi.push(...e);return}for(qi=e,qi.sort((t,i)=>Co(t)-Co(i)),oa=0;oa<qi.length;oa++)qi[oa]();qi=null,oa=0}}const Co=n=>n.id==null?1/0:n.id;function gp(n){$u=!1,Vs=!0,El(n),Sn.sort((t,i)=>Co(t)-Co(i));const e=Kn;try{for(Oi=0;Oi<Sn.length;Oi++){const t=Sn[Oi];t&&t.active!==!1&&rr(t,null,14)}}finally{Oi=0,Sn.length=0,vp(),Vs=!1,jh=null,(Sn.length||vo.length||go.length)&&gp(n)}}function Ay(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||ce;let r=t;const a=e.startsWith("update:"),o=a&&e.slice(7);if(o&&o in i){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:g}=i[c]||ce;g&&(r=t.map(y=>y.trim())),d&&(r=t.map(Hs))}let s,l=i[s=fu(e)]||i[s=fu(ci(e))];!l&&a&&(l=i[s=fu(Fa(e))]),l&&Fn(l,n,6,r);const h=i[s+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[s])return;n.emitted[s]=!0,Fn(h,n,6,r)}}function _p(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const a=n.emits;let o={},s=!1;if(!zt(n)){const l=h=>{const c=_p(h,e,!0);c&&(s=!0,Qe(o,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!a&&!s?(i.set(n,null),null):(Pt(a)?a.forEach(l=>o[l]=null):Qe(o,a),i.set(n,o),o)}function Ml(n,e){return!n||!gl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Zt(n,e[0].toLowerCase()+e.slice(1))||Zt(n,Fa(e))||Zt(n,e))}let Nn=null,Tl=null;function Ks(n){const e=Nn;return Nn=n,Tl=n&&n.type.__scopeId||null,e}function by(n){Tl=n}function Ly(){Tl=null}function Ny(n,e=Nn,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&mc(-1);const a=Ks(e),o=n(...r);return Ks(a),i._d&&mc(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function cu(n){const{type:e,vnode:t,proxy:i,withProxy:r,props:a,propsOptions:[o],slots:s,attrs:l,emit:h,render:c,renderCache:d,data:g,setupState:y,ctx:m,inheritAttrs:M}=n;let w,S;const A=Ks(n);try{if(t.shapeFlag&4){const L=r||i;w=ai(c.call(L,L,d,a,y,g,m)),S=l}else{const L=e;w=ai(L.length>1?L(a,{attrs:l,slots:s,emit:h}):L(a,null)),S=e.props?l:Fy(l)}}catch(L){_o.length=0,xl(L,n,1),w=Dn(Zn)}let b=w;if(S&&M!==!1){const L=Object.keys(S),{shapeFlag:j}=b;L.length&&j&7&&(o&&L.some(Rh)&&(S=Dy(S,o)),b=lr(b,S))}return t.dirs&&(b=lr(b),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&(b.transition=t.transition),w=b,Ks(A),w}const Fy=n=>{let e;for(const t in n)(t==="class"||t==="style"||gl(t))&&((e||(e={}))[t]=n[t]);return e},Dy=(n,e)=>{const t={};for(const i in n)(!Rh(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function Gy(n,e,t){const{props:i,children:r,component:a}=n,{props:o,children:s,patchFlag:l}=e,h=a.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?uc(i,o,h):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const g=c[d];if(o[g]!==i[g]&&!Ml(h,g))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===o?!1:i?o?uc(i,o,h):!0:!!o;return!1}function uc(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(e[a]!==n[a]&&!Ml(t,a))return!0}return!1}function ky({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const jy=n=>n.__isSuspense;function By(n,e){e&&e.pendingBranch?Pt(n)?e.effects.push(...n):e.effects.push(n):Py(n)}function $y(n,e){if(We){let t=We.provides;const i=We.parent&&We.parent.provides;i===t&&(t=We.provides=Object.create(i)),t[n]=e}}function du(n,e,t=!1){const i=We||Nn;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&zt(e)?e.call(i.proxy):e}}const hc={};function pu(n,e,t){return yp(n,e,t)}function yp(n,e,{immediate:t,deep:i,flush:r,onTrack:a,onTrigger:o}=ce){const s=We;let l,h=!1,c=!1;if(Je(n)?(l=()=>n.value,h=Bu(n)):xa(n)?(l=()=>n,i=!0):Pt(n)?(c=!0,h=n.some(S=>xa(S)||Bu(S)),l=()=>n.map(S=>{if(Je(S))return S.value;if(xa(S))return Fr(S);if(zt(S))return rr(S,s,2)})):zt(n)?e?l=()=>rr(n,s,2):l=()=>{if(!(s&&s.isUnmounted))return d&&d(),Fn(n,s,3,[g])}:l=Kn,e&&i){const S=l;l=()=>Fr(S())}let d,g=S=>{d=w.onStop=()=>{rr(S,s,4)}};if(So)return g=Kn,e?t&&Fn(e,s,3,[l(),c?[]:void 0,g]):l(),Kn;let y=c?[]:hc;const m=()=>{if(!!w.active)if(e){const S=w.run();(i||h||(c?S.some((A,b)=>qs(A,y[b])):qs(S,y)))&&(d&&d(),Fn(e,s,3,[S,y===hc?void 0:y,g]),y=S)}else w.run()};m.allowRecurse=!!e;let M;r==="sync"?M=m:r==="post"?M=()=>cn(m,s&&s.suspense):M=()=>Iy(m);const w=new Ah(l,M);return e?t?m():y=w.run():r==="post"?cn(w.run.bind(w),s&&s.suspense):w.run(),()=>{w.stop(),s&&s.scope&&Oh(s.scope.effects,w)}}function Uy(n,e,t){const i=this.proxy,r=ze(n)?n.includes(".")?mp(i,n):()=>i[n]:n.bind(i,i);let a;zt(e)?a=e:(a=e.handler,t=e);const o=We;Sa(this);const s=yp(r,a.bind(i),t);return o?Sa(o):$r(),s}function mp(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function Fr(n,e){if(!Fe(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Je(n))Fr(n.value,e);else if(Pt(n))for(let t=0;t<n.length;t++)Fr(n[t],e);else if(Na(n)||ma(n))n.forEach(t=>{Fr(t,e)});else if(Kd(n))for(const t in n)Fr(n[t],e);return n}function Wy(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tp(()=>{n.isMounted=!0}),Cp(()=>{n.isUnmounting=!0}),n}const Pn=[Function,Array],zy={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},setup(n,{slots:e}){const t=b0(),i=Wy();let r;return()=>{const a=e.default&&Ep(e.default(),!0);if(!a||!a.length)return;let o=a[0];if(a.length>1){for(const M of a)if(M.type!==Zn){o=M;break}}const s=ae(n),{mode:l}=s;if(i.isLeaving)return vu(o);const h=fc(o);if(!h)return vu(o);const c=Wu(h,s,i,t);zu(h,c);const d=t.subTree,g=d&&fc(d);let y=!1;const{getTransitionKey:m}=h.type;if(m){const M=m();r===void 0?r=M:M!==r&&(r=M,y=!0)}if(g&&g.type!==Zn&&(!Lr(h,g)||y)){const M=Wu(g,s,i,t);if(zu(g,M),l==="out-in")return i.isLeaving=!0,M.afterLeave=()=>{i.isLeaving=!1,t.update()},vu(o);l==="in-out"&&h.type!==Zn&&(M.delayLeave=(w,S,A)=>{const b=xp(i,g);b[String(g.key)]=g,w._leaveCb=()=>{S(),w._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=A})}return o}}},Xy=zy;function xp(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Wu(n,e,t,i){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:h,onEnterCancelled:c,onBeforeLeave:d,onLeave:g,onAfterLeave:y,onLeaveCancelled:m,onBeforeAppear:M,onAppear:w,onAfterAppear:S,onAppearCancelled:A}=e,b=String(n.key),L=xp(t,n),j=($,V)=>{$&&Fn($,i,9,V)},v=($,V)=>{const rt=V[1];j($,V),Pt($)?$.every(ct=>ct.length<=1)&&rt():$.length<=1&&rt()},H={mode:a,persisted:o,beforeEnter($){let V=s;if(!t.isMounted)if(r)V=M||s;else return;$._leaveCb&&$._leaveCb(!0);const rt=L[b];rt&&Lr(n,rt)&&rt.el._leaveCb&&rt.el._leaveCb(),j(V,[$])},enter($){let V=l,rt=h,ct=c;if(!t.isMounted)if(r)V=w||l,rt=S||h,ct=A||c;else return;let at=!1;const yt=$._enterCb=bt=>{at||(at=!0,bt?j(ct,[$]):j(rt,[$]),H.delayedLeave&&H.delayedLeave(),$._enterCb=void 0)};V?v(V,[$,yt]):yt()},leave($,V){const rt=String(n.key);if($._enterCb&&$._enterCb(!0),t.isUnmounting)return V();j(d,[$]);let ct=!1;const at=$._leaveCb=yt=>{ct||(ct=!0,V(),yt?j(m,[$]):j(y,[$]),$._leaveCb=void 0,L[rt]===n&&delete L[rt])};L[rt]=n,g?v(g,[$,at]):at()},clone($){return Wu($,e,t,i)}};return H}function vu(n){if(Cl(n))return n=lr(n),n.children=null,n}function fc(n){return Cl(n)?n.children?n.children[0]:void 0:n}function zu(n,e){n.shapeFlag&6&&n.component?zu(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Ep(n,e=!1,t){let i=[],r=0;for(let a=0;a<n.length;a++){let o=n[a];const s=t==null?o.key:String(t)+String(o.key!=null?o.key:a);o.type===Ze?(o.patchFlag&128&&r++,i=i.concat(Ep(o.children,e,s))):(e||o.type!==Zn)&&i.push(s!=null?lr(o,{key:s}):o)}if(r>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}const Gs=n=>!!n.type.__asyncLoader,Cl=n=>n.type.__isKeepAlive;function qy(n,e){Mp(n,"a",e)}function Yy(n,e){Mp(n,"da",e)}function Mp(n,e,t=We){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(wl(e,i,t),t){let r=t.parent;for(;r&&r.parent;)Cl(r.parent.vnode)&&Hy(i,e,t,r),r=r.parent}}function Hy(n,e,t,i){const r=wl(e,n,i,!0);wp(()=>{Oh(i[e],r)},t)}function wl(n,e,t=We,i=!1){if(t){const r=t[n]||(t[n]=[]),a=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;Da(),Sa(t);const s=Fn(e,t,n,o);return $r(),Ga(),s});return i?r.unshift(a):r.push(a),a}}const Ni=n=>(e,t=We)=>(!So||n==="sp")&&wl(n,e,t),Vy=Ni("bm"),Tp=Ni("m"),Ky=Ni("bu"),Zy=Ni("u"),Cp=Ni("bum"),wp=Ni("um"),Jy=Ni("sp"),Qy=Ni("rtg"),t0=Ni("rtc");function e0(n,e=We){wl("ec",n,e)}function Xu(n,e){const t=Nn;if(t===null)return n;const i=Rl(t)||t.proxy,r=n.dirs||(n.dirs=[]);for(let a=0;a<e.length;a++){let[o,s,l,h=ce]=e[a];zt(o)&&(o={mounted:o,updated:o}),o.deep&&Fr(s),r.push({dir:o,instance:i,value:s,oldValue:void 0,arg:l,modifiers:h})}return n}function Sr(n,e,t,i){const r=n.dirs,a=e&&e.dirs;for(let o=0;o<r.length;o++){const s=r[o];a&&(s.oldValue=a[o].value);let l=s.dir[i];l&&(Da(),Fn(l,t,8,[n.el,s,n,e]),Ga())}}const Sp="components";function gu(n,e){return i0(Sp,n,!0,e)||n}const n0=Symbol();function i0(n,e,t=!0,i=!1){const r=Nn||We;if(r){const a=r.type;if(n===Sp){const s=G0(a);if(s&&(s===e||s===ci(e)||s===yl(ci(e))))return a}const o=cc(r[n]||a[n],e)||cc(r.appContext[n],e);return!o&&i?a:o}}function cc(n,e){return n&&(n[e]||n[ci(e)]||n[yl(ci(e))])}function ks(n,e,t,i){let r;const a=t&&t[i];if(Pt(n)||ze(n)){r=new Array(n.length);for(let o=0,s=n.length;o<s;o++)r[o]=e(n[o],o,void 0,a&&a[o])}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=e(o+1,o,void 0,a&&a[o])}else if(Fe(n))if(n[Symbol.iterator])r=Array.from(n,(o,s)=>e(o,s,void 0,a&&a[s]));else{const o=Object.keys(n);r=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const h=o[s];r[s]=e(n[h],h,s,a&&a[s])}}else r=[];return t&&(t[i]=r),r}const qu=n=>n?kp(n)?Rl(n)||n.proxy:qu(n.parent):null,Zs=Qe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>qu(n.parent),$root:n=>qu(n.root),$emit:n=>n.emit,$options:n=>Op(n),$forceUpdate:n=>n.f||(n.f=()=>cp(n.update)),$nextTick:n=>n.n||(n.n=Sy.bind(n.proxy)),$watch:n=>Uy.bind(n)}),r0={get({_:n},e){const{ctx:t,setupState:i,data:r,props:a,accessCache:o,type:s,appContext:l}=n;let h;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return a[e]}else{if(i!==ce&&Zt(i,e))return o[e]=1,i[e];if(r!==ce&&Zt(r,e))return o[e]=2,r[e];if((h=n.propsOptions[0])&&Zt(h,e))return o[e]=3,a[e];if(t!==ce&&Zt(t,e))return o[e]=4,t[e];Yu&&(o[e]=0)}}const c=Zs[e];let d,g;if(c)return e==="$attrs"&&Rn(n,"get",e),c(n);if((d=s.__cssModules)&&(d=d[e]))return d;if(t!==ce&&Zt(t,e))return o[e]=4,t[e];if(g=l.config.globalProperties,Zt(g,e))return g[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:a}=n;return r!==ce&&Zt(r,e)?(r[e]=t,!0):i!==ce&&Zt(i,e)?(i[e]=t,!0):Zt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:a}},o){let s;return!!t[o]||n!==ce&&Zt(n,o)||e!==ce&&Zt(e,o)||(s=a[0])&&Zt(s,o)||Zt(i,o)||Zt(Zs,o)||Zt(r.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Zt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let Yu=!0;function a0(n){const e=Op(n),t=n.proxy,i=n.ctx;Yu=!1,e.beforeCreate&&dc(e.beforeCreate,n,"bc");const{data:r,computed:a,methods:o,watch:s,provide:l,inject:h,created:c,beforeMount:d,mounted:g,beforeUpdate:y,updated:m,activated:M,deactivated:w,beforeDestroy:S,beforeUnmount:A,destroyed:b,unmounted:L,render:j,renderTracked:v,renderTriggered:H,errorCaptured:$,serverPrefetch:V,expose:rt,inheritAttrs:ct,components:at,directives:yt,filters:bt}=e;if(h&&o0(h,i,null,n.appContext.config.unwrapInjectedRef),o)for(const ot in o){const _t=o[ot];zt(_t)&&(i[ot]=_t.bind(t))}if(r){const ot=r.call(t,t);Fe(ot)&&(n.data=Fh(ot))}if(Yu=!0,a)for(const ot in a){const _t=a[ot],Rt=zt(_t)?_t.bind(t,t):zt(_t.get)?_t.get.bind(t,t):Kn,Wt=!zt(_t)&&zt(_t.set)?_t.set.bind(t):Kn,kt=j0({get:Rt,set:Wt});Object.defineProperty(i,ot,{enumerable:!0,configurable:!0,get:()=>kt.value,set:Q=>kt.value=Q})}if(s)for(const ot in s)Rp(s[ot],i,t,ot);if(l){const ot=zt(l)?l.call(t):l;Reflect.ownKeys(ot).forEach(_t=>{$y(_t,ot[_t])})}c&&dc(c,n,"c");function vt(ot,_t){Pt(_t)?_t.forEach(Rt=>ot(Rt.bind(t))):_t&&ot(_t.bind(t))}if(vt(Vy,d),vt(Tp,g),vt(Ky,y),vt(Zy,m),vt(qy,M),vt(Yy,w),vt(e0,$),vt(t0,v),vt(Qy,H),vt(Cp,A),vt(wp,L),vt(Jy,V),Pt(rt))if(rt.length){const ot=n.exposed||(n.exposed={});rt.forEach(_t=>{Object.defineProperty(ot,_t,{get:()=>t[_t],set:Rt=>t[_t]=Rt})})}else n.exposed||(n.exposed={});j&&n.render===Kn&&(n.render=j),ct!=null&&(n.inheritAttrs=ct),at&&(n.components=at),yt&&(n.directives=yt)}function o0(n,e,t=Kn,i=!1){Pt(n)&&(n=Hu(n));for(const r in n){const a=n[r];let o;Fe(a)?"default"in a?o=du(a.from||r,a.default,!0):o=du(a.from||r):o=du(a),Je(o)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function dc(n,e,t){Fn(Pt(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function Rp(n,e,t,i){const r=i.includes(".")?mp(t,i):()=>t[i];if(ze(n)){const a=e[n];zt(a)&&pu(r,a)}else if(zt(n))pu(r,n.bind(t));else if(Fe(n))if(Pt(n))n.forEach(a=>Rp(a,e,t,i));else{const a=zt(n.handler)?n.handler.bind(t):e[n.handler];zt(a)&&pu(r,a,n)}}function Op(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=n.appContext,s=a.get(e);let l;return s?l=s:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(h=>Js(l,h,o,!0)),Js(l,e,o)),a.set(e,l),l}function Js(n,e,t,i=!1){const{mixins:r,extends:a}=e;a&&Js(n,a,t,!0),r&&r.forEach(o=>Js(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const s=s0[o]||t&&t[o];n[o]=s?s(n[o],e[o]):e[o]}return n}const s0={data:pc,props:Ar,emits:Ar,methods:Ar,computed:Ar,beforeCreate:rn,created:rn,beforeMount:rn,mounted:rn,beforeUpdate:rn,updated:rn,beforeDestroy:rn,beforeUnmount:rn,destroyed:rn,unmounted:rn,activated:rn,deactivated:rn,errorCaptured:rn,serverPrefetch:rn,components:Ar,directives:Ar,watch:u0,provide:pc,inject:l0};function pc(n,e){return e?n?function(){return Qe(zt(n)?n.call(this,this):n,zt(e)?e.call(this,this):e)}:e:n}function l0(n,e){return Ar(Hu(n),Hu(e))}function Hu(n){if(Pt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function rn(n,e){return n?[...new Set([].concat(n,e))]:e}function Ar(n,e){return n?Qe(Qe(Object.create(null),n),e):e}function u0(n,e){if(!n)return e;if(!e)return n;const t=Qe(Object.create(null),n);for(const i in e)t[i]=rn(n[i],e[i]);return t}function h0(n,e,t,i=!1){const r={},a={};Ys(a,Sl,1),n.propsDefaults=Object.create(null),Ip(n,e,r,a);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);t?n.props=i?r:yy(r):n.type.props?n.props=r:n.props=a,n.attrs=a}function f0(n,e,t,i){const{props:r,attrs:a,vnode:{patchFlag:o}}=n,s=ae(r),[l]=n.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let g=c[d];if(Ml(n.emitsOptions,g))continue;const y=e[g];if(l)if(Zt(a,g))y!==a[g]&&(a[g]=y,h=!0);else{const m=ci(g);r[m]=Vu(l,s,m,y,n,!1)}else y!==a[g]&&(a[g]=y,h=!0)}}}else{Ip(n,e,r,a)&&(h=!0);let c;for(const d in s)(!e||!Zt(e,d)&&((c=Fa(d))===d||!Zt(e,c)))&&(l?t&&(t[d]!==void 0||t[c]!==void 0)&&(r[d]=Vu(l,s,d,void 0,n,!0)):delete r[d]);if(a!==s)for(const d in a)(!e||!Zt(e,d)&&!0)&&(delete a[d],h=!0)}h&&Ai(n,"set","$attrs")}function Ip(n,e,t,i){const[r,a]=n.propsOptions;let o=!1,s;if(e)for(let l in e){if(Fs(l))continue;const h=e[l];let c;r&&Zt(r,c=ci(l))?!a||!a.includes(c)?t[c]=h:(s||(s={}))[c]=h:Ml(n.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,o=!0)}if(a){const l=ae(t),h=s||ce;for(let c=0;c<a.length;c++){const d=a[c];t[d]=Vu(r,l,d,h[d],n,!Zt(h,d))}}return o}function Vu(n,e,t,i,r,a){const o=n[t];if(o!=null){const s=Zt(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&zt(l)){const{propsDefaults:h}=r;t in h?i=h[t]:(Sa(r),i=h[t]=l.call(null,e),$r())}else i=l}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===Fa(t))&&(i=!0))}return i}function Pp(n,e,t=!1){const i=e.propsCache,r=i.get(n);if(r)return r;const a=n.props,o={},s=[];let l=!1;if(!zt(n)){const c=d=>{l=!0;const[g,y]=Pp(d,e,!0);Qe(o,g),y&&s.push(...y)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!a&&!l)return i.set(n,ya),ya;if(Pt(a))for(let c=0;c<a.length;c++){const d=ci(a[c]);vc(d)&&(o[d]=ce)}else if(a)for(const c in a){const d=ci(c);if(vc(d)){const g=a[c],y=o[d]=Pt(g)||zt(g)?{type:g}:g;if(y){const m=yc(Boolean,y.type),M=yc(String,y.type);y[0]=m>-1,y[1]=M<0||m<M,(m>-1||Zt(y,"default"))&&s.push(d)}}}const h=[o,s];return i.set(n,h),h}function vc(n){return n[0]!=="$"}function gc(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function _c(n,e){return gc(n)===gc(e)}function yc(n,e){return Pt(e)?e.findIndex(t=>_c(t,n)):zt(e)&&_c(e,n)?0:-1}const Ap=n=>n[0]==="_"||n==="$stable",Bh=n=>Pt(n)?n.map(ai):[ai(n)],c0=(n,e,t)=>{if(e._n)return e;const i=Ny((...r)=>Bh(e(...r)),t);return i._c=!1,i},bp=(n,e,t)=>{const i=n._ctx;for(const r in n){if(Ap(r))continue;const a=n[r];if(zt(a))e[r]=c0(r,a,i);else if(a!=null){const o=Bh(a);e[r]=()=>o}}},Lp=(n,e)=>{const t=Bh(e);n.slots.default=()=>t},d0=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ae(e),Ys(e,"_",t)):bp(e,n.slots={})}else n.slots={},e&&Lp(n,e);Ys(n.slots,Sl,1)},p0=(n,e,t)=>{const{vnode:i,slots:r}=n;let a=!0,o=ce;if(i.shapeFlag&32){const s=e._;s?t&&s===1?a=!1:(Qe(r,e),!t&&s===1&&delete r._):(a=!e.$stable,bp(e,r)),o=e}else e&&(Lp(n,e),o={default:1});if(a)for(const s in r)!Ap(s)&&!(s in o)&&delete r[s]};function Np(){return{app:null,config:{isNativeTag:k_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let v0=0;function g0(n,e){return function(i,r=null){zt(i)||(i=Object.assign({},i)),r!=null&&!Fe(r)&&(r=null);const a=Np(),o=new Set;let s=!1;const l=a.app={_uid:v0++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:B0,get config(){return a.config},set config(h){},use(h,...c){return o.has(h)||(h&&zt(h.install)?(o.add(h),h.install(l,...c)):zt(h)&&(o.add(h),h(l,...c))),l},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),l},component(h,c){return c?(a.components[h]=c,l):a.components[h]},directive(h,c){return c?(a.directives[h]=c,l):a.directives[h]},mount(h,c,d){if(!s){const g=Dn(i,r);return g.appContext=a,c&&e?e(g,h):n(g,h,d),s=!0,l._container=h,h.__vue_app__=l,Rl(g.component)||g.component.proxy}},unmount(){s&&(n(null,l._container),delete l._container.__vue_app__)},provide(h,c){return a.provides[h]=c,l}};return l}}function Ku(n,e,t,i,r=!1){if(Pt(n)){n.forEach((g,y)=>Ku(g,e&&(Pt(e)?e[y]:e),t,i,r));return}if(Gs(i)&&!r)return;const a=i.shapeFlag&4?Rl(i.component)||i.component.proxy:i.el,o=r?null:a,{i:s,r:l}=n,h=e&&e.r,c=s.refs===ce?s.refs={}:s.refs,d=s.setupState;if(h!=null&&h!==l&&(ze(h)?(c[h]=null,Zt(d,h)&&(d[h]=null)):Je(h)&&(h.value=null)),zt(l))rr(l,s,12,[o,c]);else{const g=ze(l),y=Je(l);if(g||y){const m=()=>{if(n.f){const M=g?c[l]:l.value;r?Pt(M)&&Oh(M,a):Pt(M)?M.includes(a)||M.push(a):g?(c[l]=[a],Zt(d,l)&&(d[l]=c[l])):(l.value=[a],n.k&&(c[n.k]=l.value))}else g?(c[l]=o,Zt(d,l)&&(d[l]=o)):Je(l)&&(l.value=o,n.k&&(c[n.k]=o))};o?(m.id=-1,cn(m,t)):m()}}}const cn=By;function _0(n){return y0(n)}function y0(n,e){const t=z_();t.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:o,createText:s,createComment:l,setText:h,setElementText:c,parentNode:d,nextSibling:g,setScopeId:y=Kn,cloneNode:m,insertStaticContent:M}=n,w=(R,F,W,k=null,X=null,nt=null,lt=!1,et=null,it=!!F.dynamicChildren)=>{if(R===F)return;R&&!Lr(R,F)&&(k=Ee(R),qt(R,X,nt,!0),R=null),F.patchFlag===-2&&(it=!1,F.dynamicChildren=null);const{type:K,ref:dt,shapeFlag:ut}=F;switch(K){case $h:S(R,F,W,k);break;case Zn:A(R,F,W,k);break;case _u:R==null&&b(F,W,k,lt);break;case Ze:yt(R,F,W,k,X,nt,lt,et,it);break;default:ut&1?v(R,F,W,k,X,nt,lt,et,it):ut&6?bt(R,F,W,k,X,nt,lt,et,it):(ut&64||ut&128)&&K.process(R,F,W,k,X,nt,lt,et,it,tn)}dt!=null&&X&&Ku(dt,R&&R.ref,nt,F||R,!F)},S=(R,F,W,k)=>{if(R==null)i(F.el=s(F.children),W,k);else{const X=F.el=R.el;F.children!==R.children&&h(X,F.children)}},A=(R,F,W,k)=>{R==null?i(F.el=l(F.children||""),W,k):F.el=R.el},b=(R,F,W,k)=>{[R.el,R.anchor]=M(R.children,F,W,k,R.el,R.anchor)},L=({el:R,anchor:F},W,k)=>{let X;for(;R&&R!==F;)X=g(R),i(R,W,k),R=X;i(F,W,k)},j=({el:R,anchor:F})=>{let W;for(;R&&R!==F;)W=g(R),r(R),R=W;r(F)},v=(R,F,W,k,X,nt,lt,et,it)=>{lt=lt||F.type==="svg",R==null?H(F,W,k,X,nt,lt,et,it):rt(R,F,X,nt,lt,et,it)},H=(R,F,W,k,X,nt,lt,et)=>{let it,K;const{type:dt,props:ut,shapeFlag:gt,transition:Mt,patchFlag:$t,dirs:Bt}=R;if(R.el&&m!==void 0&&$t===-1)it=R.el=m(R.el);else{if(it=R.el=o(R.type,nt,ut&&ut.is,ut),gt&8?c(it,R.children):gt&16&&V(R.children,it,null,k,X,nt&&dt!=="foreignObject",lt,et),Bt&&Sr(R,null,k,"created"),ut){for(const Yt in ut)Yt!=="value"&&!Fs(Yt)&&a(it,Yt,null,ut[Yt],nt,R.children,k,X,ue);"value"in ut&&a(it,"value",null,ut.value),(K=ut.onVnodeBeforeMount)&&ii(K,k,R)}$(it,R,R.scopeId,lt,k)}Bt&&Sr(R,null,k,"beforeMount");const Ut=(!X||X&&!X.pendingBranch)&&Mt&&!Mt.persisted;Ut&&Mt.beforeEnter(it),i(it,F,W),((K=ut&&ut.onVnodeMounted)||Ut||Bt)&&cn(()=>{K&&ii(K,k,R),Ut&&Mt.enter(it),Bt&&Sr(R,null,k,"mounted")},X)},$=(R,F,W,k,X)=>{if(W&&y(R,W),k)for(let nt=0;nt<k.length;nt++)y(R,k[nt]);if(X){let nt=X.subTree;if(F===nt){const lt=X.vnode;$(R,lt,lt.scopeId,lt.slotScopeIds,X.parent)}}},V=(R,F,W,k,X,nt,lt,et,it=0)=>{for(let K=it;K<R.length;K++){const dt=R[K]=et?Ki(R[K]):ai(R[K]);w(null,dt,F,W,k,X,nt,lt,et)}},rt=(R,F,W,k,X,nt,lt)=>{const et=F.el=R.el;let{patchFlag:it,dynamicChildren:K,dirs:dt}=F;it|=R.patchFlag&16;const ut=R.props||ce,gt=F.props||ce;let Mt;W&&Rr(W,!1),(Mt=gt.onVnodeBeforeUpdate)&&ii(Mt,W,F,R),dt&&Sr(F,R,W,"beforeUpdate"),W&&Rr(W,!0);const $t=X&&F.type!=="foreignObject";if(K?ct(R.dynamicChildren,K,et,W,k,$t,nt):lt||Rt(R,F,et,null,W,k,$t,nt,!1),it>0){if(it&16)at(et,F,ut,gt,W,k,X);else if(it&2&&ut.class!==gt.class&&a(et,"class",null,gt.class,X),it&4&&a(et,"style",ut.style,gt.style,X),it&8){const Bt=F.dynamicProps;for(let Ut=0;Ut<Bt.length;Ut++){const Yt=Bt[Ut],Ge=ut[Yt],oe=gt[Yt];(oe!==Ge||Yt==="value")&&a(et,Yt,Ge,oe,X,R.children,W,k,ue)}}it&1&&R.children!==F.children&&c(et,F.children)}else!lt&&K==null&&at(et,F,ut,gt,W,k,X);((Mt=gt.onVnodeUpdated)||dt)&&cn(()=>{Mt&&ii(Mt,W,F,R),dt&&Sr(F,R,W,"updated")},k)},ct=(R,F,W,k,X,nt,lt)=>{for(let et=0;et<F.length;et++){const it=R[et],K=F[et],dt=it.el&&(it.type===Ze||!Lr(it,K)||it.shapeFlag&70)?d(it.el):W;w(it,K,dt,null,k,X,nt,lt,!0)}},at=(R,F,W,k,X,nt,lt)=>{if(W!==k){for(const et in k){if(Fs(et))continue;const it=k[et],K=W[et];it!==K&&et!=="value"&&a(R,et,K,it,lt,F.children,X,nt,ue)}if(W!==ce)for(const et in W)!Fs(et)&&!(et in k)&&a(R,et,W[et],null,lt,F.children,X,nt,ue);"value"in k&&a(R,"value",W.value,k.value)}},yt=(R,F,W,k,X,nt,lt,et,it)=>{const K=F.el=R?R.el:s(""),dt=F.anchor=R?R.anchor:s("");let{patchFlag:ut,dynamicChildren:gt,slotScopeIds:Mt}=F;Mt&&(et=et?et.concat(Mt):Mt),R==null?(i(K,W,k),i(dt,W,k),V(F.children,W,dt,X,nt,lt,et,it)):ut>0&&ut&64&&gt&&R.dynamicChildren?(ct(R.dynamicChildren,gt,W,X,nt,lt,et),(F.key!=null||X&&F===X.subTree)&&Fp(R,F,!0)):Rt(R,F,W,dt,X,nt,lt,et,it)},bt=(R,F,W,k,X,nt,lt,et,it)=>{F.slotScopeIds=et,R==null?F.shapeFlag&512?X.ctx.activate(F,W,k,lt,it):mt(F,W,k,X,nt,lt,it):vt(R,F,it)},mt=(R,F,W,k,X,nt,lt)=>{const et=R.component=A0(R,k,X);if(Cl(R)&&(et.ctx.renderer=tn),L0(et),et.asyncDep){if(X&&X.registerDep(et,ot),!R.el){const it=et.subTree=Dn(Zn);A(null,it,F,W)}return}ot(et,R,F,W,X,nt,lt)},vt=(R,F,W)=>{const k=F.component=R.component;if(Gy(R,F,W))if(k.asyncDep&&!k.asyncResolved){_t(k,F,W);return}else k.next=F,Oy(k.update),k.update();else F.el=R.el,k.vnode=F},ot=(R,F,W,k,X,nt,lt)=>{const et=()=>{if(R.isMounted){let{next:dt,bu:ut,u:gt,parent:Mt,vnode:$t}=R,Bt=dt,Ut;Rr(R,!1),dt?(dt.el=$t.el,_t(R,dt,lt)):dt=$t,ut&&Ds(ut),(Ut=dt.props&&dt.props.onVnodeBeforeUpdate)&&ii(Ut,Mt,dt,$t),Rr(R,!0);const Yt=cu(R),Ge=R.subTree;R.subTree=Yt,w(Ge,Yt,d(Ge.el),Ee(Ge),R,X,nt),dt.el=Yt.el,Bt===null&&ky(R,Yt.el),gt&&cn(gt,X),(Ut=dt.props&&dt.props.onVnodeUpdated)&&cn(()=>ii(Ut,Mt,dt,$t),X)}else{let dt;const{el:ut,props:gt}=F,{bm:Mt,m:$t,parent:Bt}=R,Ut=Gs(F);if(Rr(R,!1),Mt&&Ds(Mt),!Ut&&(dt=gt&&gt.onVnodeBeforeMount)&&ii(dt,Bt,F),Rr(R,!0),ut&&ei){const Yt=()=>{R.subTree=cu(R),ei(ut,R.subTree,R,X,null)};Ut?F.type.__asyncLoader().then(()=>!R.isUnmounted&&Yt()):Yt()}else{const Yt=R.subTree=cu(R);w(null,Yt,W,k,R,X,nt),F.el=Yt.el}if($t&&cn($t,X),!Ut&&(dt=gt&&gt.onVnodeMounted)){const Yt=F;cn(()=>ii(dt,Bt,Yt),X)}(F.shapeFlag&256||Bt&&Gs(Bt.vnode)&&Bt.vnode.shapeFlag&256)&&R.a&&cn(R.a,X),R.isMounted=!0,F=W=k=null}},it=R.effect=new Ah(et,()=>cp(K),R.scope),K=R.update=()=>it.run();K.id=R.uid,Rr(R,!0),K()},_t=(R,F,W)=>{F.component=R;const k=R.vnode.props;R.vnode=F,R.next=null,f0(R,F.props,k,W),p0(R,F.children,W),Da(),El(void 0,R.update),Ga()},Rt=(R,F,W,k,X,nt,lt,et,it=!1)=>{const K=R&&R.children,dt=R?R.shapeFlag:0,ut=F.children,{patchFlag:gt,shapeFlag:Mt}=F;if(gt>0){if(gt&128){kt(K,ut,W,k,X,nt,lt,et,it);return}else if(gt&256){Wt(K,ut,W,k,X,nt,lt,et,it);return}}Mt&8?(dt&16&&ue(K,X,nt),ut!==K&&c(W,ut)):dt&16?Mt&16?kt(K,ut,W,k,X,nt,lt,et,it):ue(K,X,nt,!0):(dt&8&&c(W,""),Mt&16&&V(ut,W,k,X,nt,lt,et,it))},Wt=(R,F,W,k,X,nt,lt,et,it)=>{R=R||ya,F=F||ya;const K=R.length,dt=F.length,ut=Math.min(K,dt);let gt;for(gt=0;gt<ut;gt++){const Mt=F[gt]=it?Ki(F[gt]):ai(F[gt]);w(R[gt],Mt,W,null,X,nt,lt,et,it)}K>dt?ue(R,X,nt,!0,!1,ut):V(F,W,k,X,nt,lt,et,it,ut)},kt=(R,F,W,k,X,nt,lt,et,it)=>{let K=0;const dt=F.length;let ut=R.length-1,gt=dt-1;for(;K<=ut&&K<=gt;){const Mt=R[K],$t=F[K]=it?Ki(F[K]):ai(F[K]);if(Lr(Mt,$t))w(Mt,$t,W,null,X,nt,lt,et,it);else break;K++}for(;K<=ut&&K<=gt;){const Mt=R[ut],$t=F[gt]=it?Ki(F[gt]):ai(F[gt]);if(Lr(Mt,$t))w(Mt,$t,W,null,X,nt,lt,et,it);else break;ut--,gt--}if(K>ut){if(K<=gt){const Mt=gt+1,$t=Mt<dt?F[Mt].el:k;for(;K<=gt;)w(null,F[K]=it?Ki(F[K]):ai(F[K]),W,$t,X,nt,lt,et,it),K++}}else if(K>gt)for(;K<=ut;)qt(R[K],X,nt,!0),K++;else{const Mt=K,$t=K,Bt=new Map;for(K=$t;K<=gt;K++){const Kt=F[K]=it?Ki(F[K]):ai(F[K]);Kt.key!=null&&Bt.set(Kt.key,K)}let Ut,Yt=0;const Ge=gt-$t+1;let oe=!1,xn=0;const pe=new Array(Ge);for(K=0;K<Ge;K++)pe[K]=0;for(K=Mt;K<=ut;K++){const Kt=R[K];if(Yt>=Ge){qt(Kt,X,nt,!0);continue}let se;if(Kt.key!=null)se=Bt.get(Kt.key);else for(Ut=$t;Ut<=gt;Ut++)if(pe[Ut-$t]===0&&Lr(Kt,F[Ut])){se=Ut;break}se===void 0?qt(Kt,X,nt,!0):(pe[se-$t]=K+1,se>=xn?xn=se:oe=!0,w(Kt,F[se],W,null,X,nt,lt,et,it),Yt++)}const On=oe?m0(pe):ya;for(Ut=On.length-1,K=Ge-1;K>=0;K--){const Kt=$t+K,se=F[Kt],gi=Kt+1<dt?F[Kt+1].el:k;pe[K]===0?w(null,se,W,gi,X,nt,lt,et,it):oe&&(Ut<0||K!==On[Ut]?Q(se,W,gi,2):Ut--)}}},Q=(R,F,W,k,X=null)=>{const{el:nt,type:lt,transition:et,children:it,shapeFlag:K}=R;if(K&6){Q(R.component.subTree,F,W,k);return}if(K&128){R.suspense.move(F,W,k);return}if(K&64){lt.move(R,F,W,tn);return}if(lt===Ze){i(nt,F,W);for(let ut=0;ut<it.length;ut++)Q(it[ut],F,W,k);i(R.anchor,F,W);return}if(lt===_u){L(R,F,W);return}if(k!==2&&K&1&&et)if(k===0)et.beforeEnter(nt),i(nt,F,W),cn(()=>et.enter(nt),X);else{const{leave:ut,delayLeave:gt,afterLeave:Mt}=et,$t=()=>i(nt,F,W),Bt=()=>{ut(nt,()=>{$t(),Mt&&Mt()})};gt?gt(nt,$t,Bt):Bt()}else i(nt,F,W)},qt=(R,F,W,k=!1,X=!1)=>{const{type:nt,props:lt,ref:et,children:it,dynamicChildren:K,shapeFlag:dt,patchFlag:ut,dirs:gt}=R;if(et!=null&&Ku(et,null,W,R,!0),dt&256){F.ctx.deactivate(R);return}const Mt=dt&1&&gt,$t=!Gs(R);let Bt;if($t&&(Bt=lt&&lt.onVnodeBeforeUnmount)&&ii(Bt,F,R),dt&6)Xe(R.component,W,k);else{if(dt&128){R.suspense.unmount(W,k);return}Mt&&Sr(R,null,F,"beforeUnmount"),dt&64?R.type.remove(R,F,W,X,tn,k):K&&(nt!==Ze||ut>0&&ut&64)?ue(K,F,W,!1,!0):(nt===Ze&&ut&384||!X&&dt&16)&&ue(it,F,W),k&&At(R)}($t&&(Bt=lt&&lt.onVnodeUnmounted)||Mt)&&cn(()=>{Bt&&ii(Bt,F,R),Mt&&Sr(R,null,F,"unmounted")},W)},At=R=>{const{type:F,el:W,anchor:k,transition:X}=R;if(F===Ze){xe(W,k);return}if(F===_u){j(R);return}const nt=()=>{r(W),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(R.shapeFlag&1&&X&&!X.persisted){const{leave:lt,delayLeave:et}=X,it=()=>lt(W,nt);et?et(R.el,nt,it):it()}else nt()},xe=(R,F)=>{let W;for(;R!==F;)W=g(R),r(R),R=W;r(F)},Xe=(R,F,W)=>{const{bum:k,scope:X,update:nt,subTree:lt,um:et}=R;k&&Ds(k),X.stop(),nt&&(nt.active=!1,qt(lt,R,F,W)),et&&cn(et,F),cn(()=>{R.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},ue=(R,F,W,k=!1,X=!1,nt=0)=>{for(let lt=nt;lt<R.length;lt++)qt(R[lt],F,W,k,X)},Ee=R=>R.shapeFlag&6?Ee(R.component.subTree):R.shapeFlag&128?R.suspense.next():g(R.anchor||R.el),de=(R,F,W)=>{R==null?F._vnode&&qt(F._vnode,null,null,!0):w(F._vnode||null,R,F,null,null,null,W),vp(),F._vnode=R},tn={p:w,um:qt,m:Q,r:At,mt,mc:V,pc:Rt,pbc:ct,n:Ee,o:n};let Ye,ei;return e&&([Ye,ei]=e(tn)),{render:de,hydrate:Ye,createApp:g0(de,Ye)}}function Rr({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function Fp(n,e,t=!1){const i=n.children,r=e.children;if(Pt(i)&&Pt(r))for(let a=0;a<i.length;a++){const o=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=Ki(r[a]),s.el=o.el),t||Fp(o,s))}}function m0(n){const e=n.slice(),t=[0];let i,r,a,o,s;const l=n.length;for(i=0;i<l;i++){const h=n[i];if(h!==0){if(r=t[t.length-1],n[r]<h){e[i]=r,t.push(i);continue}for(a=0,o=t.length-1;a<o;)s=a+o>>1,n[t[s]]<h?a=s+1:o=s;h<n[t[a]]&&(a>0&&(e[i]=t[a-1]),t[a]=i)}}for(a=t.length,o=t[a-1];a-- >0;)t[a]=o,o=e[o];return t}const x0=n=>n.__isTeleport,Ze=Symbol(void 0),$h=Symbol(void 0),Zn=Symbol(void 0),_u=Symbol(void 0),_o=[];let Vn=null;function dn(n=!1){_o.push(Vn=n?null:[])}function E0(){_o.pop(),Vn=_o[_o.length-1]||null}let wo=1;function mc(n){wo+=n}function Dp(n){return n.dynamicChildren=wo>0?Vn||ya:null,E0(),wo>0&&Vn&&Vn.push(n),n}function wn(n,e,t,i,r,a){return Dp(Te(n,e,t,i,r,a,!0))}function M0(n,e,t,i,r){return Dp(Dn(n,e,t,i,r,!0))}function T0(n){return n?n.__v_isVNode===!0:!1}function Lr(n,e){return n.type===e.type&&n.key===e.key}const Sl="__vInternal",Gp=({key:n})=>n!=null?n:null,js=({ref:n,ref_key:e,ref_for:t})=>n!=null?ze(n)||Je(n)||zt(n)?{i:Nn,r:n,k:e,f:!!t}:n:null;function Te(n,e=null,t=null,i=0,r=null,a=n===Ze?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Gp(e),ref:e&&js(e),scopeId:Tl,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return s?(Uh(l,t),a&128&&n.normalize(l)):t&&(l.shapeFlag|=ze(t)?8:16),wo>0&&!o&&Vn&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Vn.push(l),l}const Dn=C0;function C0(n,e=null,t=null,i=0,r=null,a=!1){if((!n||n===n0)&&(n=Zn),T0(n)){const s=lr(n,e,!0);return t&&Uh(s,t),wo>0&&!a&&Vn&&(s.shapeFlag&6?Vn[Vn.indexOf(n)]=s:Vn.push(s)),s.patchFlag|=-2,s}if(k0(n)&&(n=n.__vccOpts),e){e=w0(e);let{class:s,style:l}=e;s&&!ze(s)&&(e.class=wh(s)),Fe(l)&&(lp(l)&&!Pt(l)&&(l=Qe({},l)),e.style=Ch(l))}const o=ze(n)?1:jy(n)?128:x0(n)?64:Fe(n)?4:zt(n)?2:0;return Te(n,e,t,i,r,o,a,!0)}function w0(n){return n?lp(n)||Sl in n?Qe({},n):n:null}function lr(n,e,t=!1){const{props:i,ref:r,patchFlag:a,children:o}=n,s=e?O0(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:s,key:s&&Gp(s),ref:e&&e.ref?t&&r?Pt(r)?r.concat(js(e)):[r,js(e)]:js(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ze?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&lr(n.ssContent),ssFallback:n.ssFallback&&lr(n.ssFallback),el:n.el,anchor:n.anchor}}function S0(n=" ",e=0){return Dn($h,null,n,e)}function R0(n="",e=!1){return e?(dn(),M0(Zn,null,n)):Dn(Zn,null,n)}function ai(n){return n==null||typeof n=="boolean"?Dn(Zn):Pt(n)?Dn(Ze,null,n.slice()):typeof n=="object"?Ki(n):Dn($h,null,String(n))}function Ki(n){return n.el===null||n.memo?n:lr(n)}function Uh(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Pt(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Uh(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(Sl in e)?e._ctx=Nn:r===3&&Nn&&(Nn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else zt(e)?(e={default:e,_ctx:Nn},t=32):(e=String(e),i&64?(t=16,e=[S0(e)]):t=8);n.children=e,n.shapeFlag|=t}function O0(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=wh([e.class,i.class]));else if(r==="style")e.style=Ch([e.style,i.style]);else if(gl(r)){const a=e[r],o=i[r];o&&a!==o&&!(Pt(a)&&a.includes(o))&&(e[r]=a?[].concat(a,o):o)}else r!==""&&(e[r]=i[r])}return e}function ii(n,e,t,i=null){Fn(n,e,7,[t,i])}const I0=Np();let P0=0;function A0(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||I0,a={uid:P0++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new X_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pp(i,r),emitsOptions:_p(i,r),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:i.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Ay.bind(null,a),n.ce&&n.ce(a),a}let We=null;const b0=()=>We||Nn,Sa=n=>{We=n,n.scope.on()},$r=()=>{We&&We.scope.off(),We=null};function kp(n){return n.vnode.shapeFlag&4}let So=!1;function L0(n,e=!1){So=e;const{props:t,children:i}=n.vnode,r=kp(n);h0(n,t,r,e),d0(n,i);const a=r?N0(n,e):void 0;return So=!1,a}function N0(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=up(new Proxy(n.ctx,r0));const{setup:i}=t;if(i){const r=n.setupContext=i.length>1?D0(n):null;Sa(n),Da();const a=rr(i,n,0,[n.props,r]);if(Ga(),$r(),Hd(a)){if(a.then($r,$r),e)return a.then(o=>{xc(n,o,e)}).catch(o=>{xl(o,n,0)});n.asyncDep=a}else xc(n,a,e)}else jp(n,e)}function xc(n,e,t){zt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Fe(e)&&(n.setupState=hp(e)),jp(n,t)}let Ec;function jp(n,e,t){const i=n.type;if(!n.render){if(!e&&Ec&&!i.render){const r=i.template;if(r){const{isCustomElement:a,compilerOptions:o}=n.appContext.config,{delimiters:s,compilerOptions:l}=i,h=Qe(Qe({isCustomElement:a,delimiters:s},o),l);i.render=Ec(r,h)}}n.render=i.render||Kn}Sa(n),Da(),a0(n),Ga(),$r()}function F0(n){return new Proxy(n.attrs,{get(e,t){return Rn(n,"get","$attrs"),e[t]}})}function D0(n){const e=i=>{n.exposed=i||{}};let t;return{get attrs(){return t||(t=F0(n))},slots:n.slots,emit:n.emit,expose:e}}function Rl(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(hp(up(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Zs)return Zs[t](n)}}))}function G0(n){return zt(n)&&n.displayName||n.name}function k0(n){return zt(n)&&"__vccOpts"in n}const j0=(n,e)=>Cy(n,e,So),B0="3.2.36",$0="http://www.w3.org/2000/svg",Nr=typeof document!="undefined"?document:null,Mc=Nr&&Nr.createElement("template"),U0={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e?Nr.createElementNS($0,n):Nr.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Nr.createTextNode(n),createComment:n=>Nr.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Nr.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,i,r,a){const o=t?t.previousSibling:e.lastChild;if(r&&(r===a||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===a||!(r=r.nextSibling)););else{Mc.innerHTML=i?`<svg>${n}</svg>`:n;const s=Mc.content;if(i){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function W0(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function z0(n,e,t){const i=n.style,r=ze(t);if(t&&!r){for(const a in t)Zu(i,a,t[a]);if(e&&!ze(e))for(const a in e)t[a]==null&&Zu(i,a,"")}else{const a=i.display;r?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=a)}}const Tc=/\s*!important$/;function Zu(n,e,t){if(Pt(t))t.forEach(i=>Zu(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=X0(n,e);Tc.test(t)?n.setProperty(Fa(i),t.replace(Tc,""),"important"):n[i]=t}}const Cc=["Webkit","Moz","ms"],yu={};function X0(n,e){const t=yu[e];if(t)return t;let i=ci(e);if(i!=="filter"&&i in n)return yu[e]=i;i=yl(i);for(let r=0;r<Cc.length;r++){const a=Cc[r]+i;if(a in n)return yu[e]=a}return e}const wc="http://www.w3.org/1999/xlink";function q0(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(wc,e.slice(6,e.length)):n.setAttributeNS(wc,e,t);else{const a=L_(e);t==null||a&&!qd(t)?n.removeAttribute(e):n.setAttribute(e,a?"":t)}}function Y0(n,e,t,i,r,a,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,r,a),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const l=t==null?"":t;(n.value!==l||n.tagName==="OPTION")&&(n.value=l),t==null&&n.removeAttribute(e);return}let s=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=qd(t):t==null&&l==="string"?(t="",s=!0):l==="number"&&(t=0,s=!0)}try{n[e]=t}catch{}s&&n.removeAttribute(e)}const[Bp,H0]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let Ju=0;const V0=Promise.resolve(),K0=()=>{Ju=0},Z0=()=>Ju||(V0.then(K0),Ju=Bp());function Ii(n,e,t,i){n.addEventListener(e,t,i)}function J0(n,e,t,i){n.removeEventListener(e,t,i)}function Q0(n,e,t,i,r=null){const a=n._vei||(n._vei={}),o=a[e];if(i&&o)o.value=i;else{const[s,l]=tm(e);if(i){const h=a[e]=em(i,r);Ii(n,s,h,l)}else o&&(J0(n,s,o,l),a[e]=void 0)}}const Sc=/(?:Once|Passive|Capture)$/;function tm(n){let e;if(Sc.test(n)){e={};let t;for(;t=n.match(Sc);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Fa(n.slice(2)),e]}function em(n,e){const t=i=>{const r=i.timeStamp||Bp();(H0||r>=t.attached-1)&&Fn(nm(i,t.value),e,5,[i])};return t.value=n,t.attached=Z0(),t}function nm(n,e){if(Pt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Rc=/^on[a-z]/,im=(n,e,t,i,r=!1,a,o,s,l)=>{e==="class"?W0(n,i,r):e==="style"?z0(n,t,i):gl(e)?Rh(e)||Q0(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rm(n,e,i,r))?Y0(n,e,i,a,o,s,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),q0(n,e,i,r))};function rm(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&Rc.test(e)&&zt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||Rc.test(e)&&ze(t)?!1:e in n}const am={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Xy.props;const ur=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Pt(e)?t=>Ds(e,t):e};function om(n){n.target.composing=!0}function Oc(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ic={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n._assign=ur(r);const a=i||r.props&&r.props.type==="number";Ii(n,e?"change":"input",o=>{if(o.target.composing)return;let s=n.value;t&&(s=s.trim()),a&&(s=Hs(s)),n._assign(s)}),t&&Ii(n,"change",()=>{n.value=n.value.trim()}),e||(Ii(n,"compositionstart",om),Ii(n,"compositionend",Oc),Ii(n,"change",Oc))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:r}},a){if(n._assign=ur(a),n.composing||document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===e||(r||n.type==="number")&&Hs(n.value)===e))return;const o=e==null?"":e;n.value!==o&&(n.value=o)}},sm={deep:!0,created(n,e,t){n._assign=ur(t),Ii(n,"change",()=>{const i=n._modelValue,r=Ra(n),a=n.checked,o=n._assign;if(Pt(i)){const s=Sh(i,r),l=s!==-1;if(a&&!l)o(i.concat(r));else if(!a&&l){const h=[...i];h.splice(s,1),o(h)}}else if(Na(i)){const s=new Set(i);a?s.add(r):s.delete(r),o(s)}else o($p(n,a))})},mounted:Pc,beforeUpdate(n,e,t){n._assign=ur(t),Pc(n,e,t)}};function Pc(n,{value:e,oldValue:t},i){n._modelValue=e,Pt(e)?n.checked=Sh(e,i.props.value)>-1:Na(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=zr(e,$p(n,!0)))}const lm={created(n,{value:e},t){n.checked=zr(e,t.props.value),n._assign=ur(t),Ii(n,"change",()=>{n._assign(Ra(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n._assign=ur(i),e!==t&&(n.checked=zr(e,i.props.value))}},Wh={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const r=Na(e);Ii(n,"change",()=>{const a=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Hs(Ra(o)):Ra(o));n._assign(n.multiple?r?new Set(a):a:a[0])}),n._assign=ur(i)},mounted(n,{value:e}){Ac(n,e)},beforeUpdate(n,e,t){n._assign=ur(t)},updated(n,{value:e}){Ac(n,e)}};function Ac(n,e){const t=n.multiple;if(!(t&&!Pt(e)&&!Na(e))){for(let i=0,r=n.options.length;i<r;i++){const a=n.options[i],o=Ra(a);if(t)Pt(e)?a.selected=Sh(e,o)>-1:a.selected=e.has(o);else if(zr(Ra(a),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Ra(n){return"_value"in n?n._value:n.value}function $p(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const um={created(n,e,t){ms(n,e,t,null,"created")},mounted(n,e,t){ms(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){ms(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){ms(n,e,t,i,"updated")}};function hm(n,e){switch(n){case"SELECT":return Wh;case"TEXTAREA":return Ic;default:switch(e){case"checkbox":return sm;case"radio":return lm;default:return Ic}}}function ms(n,e,t,i,r){const o=hm(n.tagName,t.props&&t.props.type)[r];o&&o(n,e,t,i)}const fm=Qe({patchProp:im},U0);let bc;function cm(){return bc||(bc=_0(fm))}const dm=(...n)=>{const e=cm().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=pm(i);if(!r)return;const a=e._component;!zt(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const o=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function pm(n){return ze(n)?document.querySelector(n):n}const vm={center:[41.4583,12.7059],zoom:5,mapTypeId:"topo",mapTypes:{streets:{name:"Streets",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}},terrain:{name:"Terrain",url:"https://{a-c}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | Map style: &copy; <a href="http://www.thunderforest.com/">Thunderforest</a>'}},satellite:{name:"Satellite",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{attribution:'Map data: &copy; <a href="http://www.esri.com/">Esri</a> &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'}},topo:{name:"Topo",url:"https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}}},drawingFeatures:["Point","LineString","Polygon","Circle"],fullscreenElement:"main"};var gm=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),Fi=gm,Oa={PROPERTYCHANGE:"propertychange"},_m=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),zh=_m;function ym(n,e,t){for(var i,r,a=t||Xr,o=0,s=n.length,l=!1;o<s;)i=o+(s-o>>1),r=+a(n[i],e),r<0?o=i+1:(s=i,l=!r);return l?o:~o}function Xr(n,e){return n>e?1:n<e?-1:0}function mm(n,e){return n.indexOf(e)>=0}function Xh(n,e,t){var i=n.length;if(n[0]<=e)return 0;if(e<=n[i-1])return i-1;var r=void 0;if(t>0){for(r=1;r<i;++r)if(n[r]<e)return r-1}else if(t<0){for(r=1;r<i;++r)if(n[r]<=e)return r}else for(r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return typeof t=="function"?t(e,n[r-1],n[r])>0?r-1:r:n[r-1]-e<e-n[r]?r-1:r}return i-1}function xm(n,e,t){for(;e<t;){var i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Gn(n,e){for(var t=Array.isArray(e)?e:[e],i=t.length,r=0;r<i;r++)n[n.length]=t[r]}function Kr(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function Em(n,e,t){var i=e||Xr;return n.every(function(r,a){if(a===0)return!0;var o=i(n[a-1],r);return!(o>0||t&&o===0)})}function Ea(){return!0}function Ol(){return!1}function qr(){}function Mm(n){var e=!1,t,i,r;return function(){var a=Array.prototype.slice.call(arguments);return(!e||this!==r||!Kr(a,i))&&(e=!0,r=this,i=a,t=n.apply(this,arguments)),t}}var Ie=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),i=1,r=arguments.length;i<r;++i){var a=arguments[i];if(a!=null)for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}return t};function Uo(n){for(var e in n)delete n[e]}var Up=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function Ro(n){var e;for(e in n)return!1;return!e}var Tm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cm=function(n){Tm(e,n);function e(t){var i=n.call(this)||this;return i.eventTarget_=t,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return e.prototype.addEventListener=function(t,i){if(!(!t||!i)){var r=this.listeners_||(this.listeners_={}),a=r[t]||(r[t]=[]);a.indexOf(i)===-1&&a.push(i)}},e.prototype.dispatchEvent=function(t){var i=typeof t=="string",r=i?t:t.type,a=this.listeners_&&this.listeners_[r];if(!!a){var o=i?new Fi(t):t;o.target||(o.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in s||(s[r]=0,l[r]=0),++s[r];for(var h,c=0,d=a.length;c<d;++c)if("handleEvent"in a[c]?h=a[c].handleEvent(o):h=a[c].call(this,o),h===!1||o.propagationStopped){h=!1;break}if(--s[r]===0){var g=l[r];for(delete l[r];g--;)this.removeEventListener(r,qr);delete s[r]}return h}},e.prototype.disposeInternal=function(){this.listeners_&&Uo(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,i){var r=this.listeners_&&this.listeners_[t];if(r){var a=r.indexOf(i);a!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[a]=qr,++this.pendingRemovals_[t]):(r.splice(a,1),r.length===0&&delete this.listeners_[t]))}},e}(zh),ka=Cm,jt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Jt(n,e,t,i,r){if(i&&i!==n&&(t=t.bind(i)),r){var a=t;t=function(){n.removeEventListener(e,t),a.apply(this,arguments)}}var o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function Qs(n,e,t,i){return Jt(n,e,t,i,!0)}function _e(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Uo(n))}var wm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Il=function(n){wm(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(jt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,i){if(Array.isArray(t)){for(var r=t.length,a=new Array(r),o=0;o<r;++o)a[o]=Jt(this,t[o],i);return a}else return Jt(this,t,i)},e.prototype.onceInternal=function(t,i){var r;if(Array.isArray(t)){var a=t.length;r=new Array(a);for(var o=0;o<a;++o)r[o]=Qs(this,t[o],i)}else r=Qs(this,t,i);return i.ol_key=r,r},e.prototype.unInternal=function(t,i){var r=i.ol_key;if(r)Sm(r);else if(Array.isArray(t))for(var a=0,o=t.length;a<o;++a)this.removeEventListener(t[a],i);else this.removeEventListener(t,i)},e}(ka);Il.prototype.on;Il.prototype.once;Il.prototype.un;function Sm(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)_e(n[e]);else _e(n)}var Wp=Il;function Nt(){return function(){throw new Error("Unimplemented abstract method.")}()}var Rm=0;function te(n){return n.ol_uid||(n.ol_uid=String(++Rm))}var Om="6.14.1",zp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lc=function(n){zp(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.key=i,a.oldValue=r,a}return e}(Fi),Im=function(n){zp(e,n);function e(t){var i=n.call(this)||this;return i.on,i.once,i.un,te(i),i.values_=null,t!==void 0&&i.setProperties(t),i}return e.prototype.get=function(t){var i;return this.values_&&this.values_.hasOwnProperty(t)&&(i=this.values_[t]),i},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Ie({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,i){var r;r="change:".concat(t),this.hasListener(r)&&this.dispatchEvent(new Lc(r,t,i)),r=Oa.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new Lc(r,t,i))},e.prototype.addChangeListener=function(t,i){this.addEventListener("change:".concat(t),i)},e.prototype.removeChangeListener=function(t,i){this.removeEventListener("change:".concat(t),i)},e.prototype.set=function(t,i,r){var a=this.values_||(this.values_={});if(r)a[t]=i;else{var o=a[t];a[t]=i,o!==i&&this.notify(t,o)}},e.prototype.setProperties=function(t,i){for(var r in t)this.set(r,t[r],i)},e.prototype.applyProperties=function(t){!t.values_||Ie(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,i){if(this.values_&&t in this.values_){var r=this.values_[t];delete this.values_[t],Ro(this.values_)&&(this.values_=null),i||this.notify(t,r)}},e}(Wp),vi=Im,Dt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ja={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},di={};di[ja.RADIANS]=6370997/(2*Math.PI);di[ja.DEGREES]=2*Math.PI*6370997/360;di[ja.FEET]=.3048;di[ja.METERS]=1;di[ja.USFEET]=1200/3937;var ui=ja,Ve={ANIMATING:0,INTERACTING:1},Wn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Pm=42,qh=256,Am=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||di[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),Yh=Am;function Pe(n,e,t){return Math.min(Math.max(n,e),t)}var bm=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),Lm=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function Nm(n,e,t,i,r,a){var o=r-t,s=a-i;if(o!==0||s!==0){var l=((n-t)*o+(e-i)*s)/(o*o+s*s);l>1?(t=r,i=a):l>0&&(t+=o*l,i+=s*l)}return Ur(n,e,t,i)}function Ur(n,e,t,i){var r=t-n,a=i-e;return r*r+a*a}function Fm(n){for(var e=n.length,t=0;t<e;t++){for(var i=t,r=Math.abs(n[t][t]),a=t+1;a<e;a++){var o=Math.abs(n[a][t]);o>r&&(r=o,i=a)}if(r===0)return null;var s=n[i];n[i]=n[t],n[t]=s;for(var l=t+1;l<e;l++)for(var h=-n[l][t]/n[t][t],c=t;c<e+1;c++)t==c?n[l][c]=0:n[l][c]+=h*n[t][c]}for(var d=new Array(e),g=e-1;g>=0;g--){d[g]=n[g][e]/n[g][g];for(var y=g-1;y>=0;y--)n[y][e]-=n[y][g]*d[g]}return d}function Bs(n){return n*Math.PI/180}function Ma(n,e){var t=n%e;return t*e<0?t+e:t}function Ri(n,e,t){return n+t*(e-n)}function Xp(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function xs(n,e){return Math.floor(Xp(n,e))}function Es(n,e){return Math.ceil(Xp(n,e))}var Dm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wo=6378137,ca=Math.PI*Wo,Gm=[-ca,-ca,ca,ca],km=[-180,-85,180,85],Ms=Wo*Math.log(Math.tan(Math.PI/2)),ta=function(n){Dm(e,n);function e(t){return n.call(this,{code:t,units:ui.METERS,extent:Gm,global:!0,worldExtent:km,getPointResolution:function(i,r){return i/bm(r[1]/Wo)}})||this}return e}(Yh),Nc=[new ta("EPSG:3857"),new ta("EPSG:102100"),new ta("EPSG:102113"),new ta("EPSG:900913"),new ta("http://www.opengis.net/def/crs/EPSG/0/3857"),new ta("http://www.opengis.net/gml/srs/epsg.xml#3857")];function jm(n,e,t){var i=n.length,r=t>1?t:2,a=e;a===void 0&&(r>2?a=n.slice():a=new Array(i));for(var o=0;o<i;o+=r){a[o]=ca*n[o]/180;var s=Wo*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));s>Ms?s=Ms:s<-Ms&&(s=-Ms),a[o+1]=s}return a}function Bm(n,e,t){var i=n.length,r=t>1?t:2,a=e;a===void 0&&(r>2?a=n.slice():a=new Array(i));for(var o=0;o<i;o+=r)a[o]=180*n[o]/ca,a[o+1]=360*Math.atan(Math.exp(n[o+1]/Wo))/Math.PI-90;return a}var $m=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Um=6378137,Fc=[-180,-90,180,90],Wm=Math.PI*Um/180,Or=function(n){$m(e,n);function e(t,i){return n.call(this,{code:t,units:ui.DEGREES,extent:Fc,axisOrientation:i,global:!0,metersPerUnit:Wm,worldExtent:Fc})||this}return e}(Yh),Dc=[new Or("CRS:84"),new Or("EPSG:4326","neu"),new Or("urn:ogc:def:crs:OGC:1.3:CRS84"),new Or("urn:ogc:def:crs:OGC:2:84"),new Or("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Or("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Or("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Qu={};function zm(n){return Qu[n]||Qu[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Xm(n,e){Qu[n]=e}var Ta={};function Ia(n,e,t){var i=n.getCode(),r=e.getCode();i in Ta||(Ta[i]={}),Ta[i][r]=t}function qp(n,e){var t;return n in Ta&&e in Ta[n]&&(t=Ta[n][e]),t}var so={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ue={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},qm=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ym=function(n){qm(e,n);function e(t){var i=this,r="v"+Om.split("-")[0],a="Assertion failed. See https://openlayers.org/en/"+r+"/doc/errors/#"+t+" for details.";return i=n.call(this,a)||this,i.code=t,i.name="AssertionError",i.message=a,i}return e}(Error),Yp=Ym;function Ht(n,e){if(!n)throw new Yp(e)}function Gc(n){for(var e=kn(),t=0,i=n.length;t<i;++t)yo(e,n[t]);return e}function Hm(n,e,t){var i=Math.min.apply(null,n),r=Math.min.apply(null,e),a=Math.max.apply(null,n),o=Math.max.apply(null,e);return Qn(i,r,a,o,t)}function Hh(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Hp(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Ba(n,e,t){var i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function zo(n,e){return Vh(n,e[0],e[1])}function da(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Vh(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function th(n,e){var t=n[0],i=n[1],r=n[2],a=n[3],o=e[0],s=e[1],l=Ue.UNKNOWN;return o<t?l=l|Ue.LEFT:o>r&&(l=l|Ue.RIGHT),s<i?l=l|Ue.BELOW:s>a&&(l=l|Ue.ABOVE),l===Ue.UNKNOWN&&(l=Ue.INTERSECTING),l}function kn(){return[1/0,1/0,-1/0,-1/0]}function Qn(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function Pl(n){return Qn(1/0,1/0,-1/0,-1/0,n)}function Vm(n,e){var t=n[0],i=n[1];return Qn(t,i,t,i,e)}function Vp(n,e,t,i,r){var a=Pl(r);return Kp(a,n,e,t,i)}function Oo(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function Km(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function yo(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Kp(n,e,t,i,r){for(;t<i;t+=r)Zm(n,e[t],e[t+1]);return n}function Zm(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Zp(n,e){var t;return t=e(Al(n)),t||(t=e(bl(n)),t)||(t=e(Ll(n)),t)||(t=e(Zr(n)),t)?t:!1}function eh(n){var e=0;return Kh(n)||(e=Ce(n)*ti(n)),e}function Al(n){return[n[0],n[1]]}function bl(n){return[n[2],n[1]]}function Pa(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Jm(n,e){var t;return e===so.BOTTOM_LEFT?t=Al(n):e===so.BOTTOM_RIGHT?t=bl(n):e===so.TOP_LEFT?t=Zr(n):e===so.TOP_RIGHT?t=Ll(n):Ht(!1,13),t}function nh(n,e,t,i,r){var a=e*i[0]/2,o=e*i[1]/2,s=Math.cos(t),l=Math.sin(t),h=a*s,c=a*l,d=o*s,g=o*l,y=n[0],m=n[1],M=y-h+g,w=y-h-g,S=y+h-g,A=y+h+g,b=m-c-d,L=m-c+d,j=m+c+d,v=m+c-d;return Qn(Math.min(M,w,S,A),Math.min(b,L,j,v),Math.max(M,w,S,A),Math.max(b,L,j,v),r)}function ti(n){return n[3]-n[1]}function mo(n,e,t){var i=t||kn();return pn(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):Pl(i),i}function Zr(n){return[n[0],n[3]]}function Ll(n){return[n[2],n[3]]}function Ce(n){return n[2]-n[0]}function pn(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Kh(n){return n[2]<n[0]||n[3]<n[1]}function Qm(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function t1(n,e,t){var i=!1,r=th(n,e),a=th(n,t);if(r===Ue.INTERSECTING||a===Ue.INTERSECTING)i=!0;else{var o=n[0],s=n[1],l=n[2],h=n[3],c=e[0],d=e[1],g=t[0],y=t[1],m=(y-d)/(g-c),M=void 0,w=void 0;!!(a&Ue.ABOVE)&&!(r&Ue.ABOVE)&&(M=g-(y-h)/m,i=M>=o&&M<=l),!i&&!!(a&Ue.RIGHT)&&!(r&Ue.RIGHT)&&(w=y-(g-l)*m,i=w>=s&&w<=h),!i&&!!(a&Ue.BELOW)&&!(r&Ue.BELOW)&&(M=g-(y-s)/m,i=M>=o&&M<=l),!i&&!!(a&Ue.LEFT)&&!(r&Ue.LEFT)&&(w=y-(g-o)*m,i=w>=s&&w<=h)}return i}function e1(n,e,t,i){var r=[];if(i>1)for(var a=n[2]-n[0],o=n[3]-n[1],s=0;s<i;++s)r.push(n[0]+a*s/i,n[1],n[2],n[1]+o*s/i,n[2]-a*s/i,n[3],n[0],n[3]-o*s/i);else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);for(var l=[],h=[],s=0,c=r.length;s<c;s+=2)l.push(r[s]),h.push(r[s+1]);return Hm(l,h,t)}function n1(n,e){var t=e.getExtent(),i=Pa(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){var r=Ce(t),a=Math.floor((i[0]-t[0])/r),o=a*r;n[0]-=o,n[2]-=o}return n}function i1(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function tl(n,e){for(var t=!0,i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Zh(n,e){var t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,a=n[1]*t+n[0]*i;return n[0]=r,n[1]=a,n}function r1(n,e){return n[0]*=e,n[1]*=e,n}function Jp(n,e){if(e.canWrapX()){var t=Ce(e.getExtent()),i=Qp(n,e,t);i&&(n[0]-=i*t)}return n}function Qp(n,e,t){var i=e.getExtent(),r=0;if(e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])){var a=t||Ce(i);r=Math.floor((n[0]-i[0])/a)}return r}var a1=63710088e-1;function kc(n,e,t){var i=t||a1,r=Bs(n[1]),a=Bs(e[1]),o=(a-r)/2,s=Bs(e[0]-n[0])/2,l=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var ih=!0;function tv(n){var e=n===void 0?!0:n;ih=!e}function Jh(n,e,t){var i;if(e!==void 0){for(var r=0,a=n.length;r<a;++r)e[r]=n[r];i=e}else i=n.slice();return i}function ev(n,e,t){if(e!==void 0&&n!==e){for(var i=0,r=n.length;i<r;++i)e[i]=n[i];n=e}return n}function nv(n){Xm(n.getCode(),n),Ia(n,n,Jh)}function o1(n){n.forEach(nv)}function me(n){return typeof n=="string"?zm(n):n||null}function jc(n,e,t,i){n=me(n);var r,a=n.getPointResolutionFunc();if(a){if(r=a(e,t),i&&i!==n.getUnits()){var o=n.getMetersPerUnit();o&&(r=r*o/di[i])}}else{var s=n.getUnits();if(s==ui.DEGREES&&!i||i==ui.DEGREES)r=e;else{var l=tf(n,me("EPSG:4326"));if(l===ev&&s!==ui.DEGREES)r=e*n.getMetersPerUnit();else{var h=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];h=l(h,h,2);var c=kc(h.slice(0,2),h.slice(2,4)),d=kc(h.slice(4,6),h.slice(6,8));r=(c+d)/2}var o=i?di[i]:n.getMetersPerUnit();o!==void 0&&(r/=o)}}return r}function rh(n){o1(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Ia(e,t,Jh)})})}function s1(n,e,t,i){n.forEach(function(r){e.forEach(function(a){Ia(r,a,t),Ia(a,r,i)})})}function Qh(n,e){return n?typeof n=="string"?me(n):n:me(e)}function Bc(n){return function(e,t,i){for(var r=e.length,a=i!==void 0?i:2,o=t!==void 0?t:new Array(r),s=0;s<r;s+=a){var l=n([e[s],e[s+1]]);o[s]=l[0],o[s+1]=l[1];for(var h=a-1;h>=2;--h)o[s+h]=e[s+h]}return o}}function l1(n,e,t,i){var r=me(n),a=me(e);Ia(r,a,Bc(t)),Ia(a,r,Bc(i))}function u1(n,e){return tv(),iv(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function Qi(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var i=tf(n,e);return i===Jh&&t}function tf(n,e){var t=n.getCode(),i=e.getCode(),r=qp(t,i);return r||(r=ev),r}function Io(n,e){var t=me(n),i=me(e);return tf(t,i)}function iv(n,e,t){var i=Io(e,t);return i(n,void 0,n.length)}function h1(n,e,t,i){var r=Io(e,t);return e1(n,r,void 0,i)}var f1=null;function c1(){return f1}function ah(n,e){return n}function wi(n,e){return ih&&!tl(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(ih=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function rv(n,e){return n}function Dr(n,e){return n}function $c(n,e,t){return function(i){var r=i[0],a=i[1],o,s;if(n.canWrapX()){var l=n.getExtent(),h=Ce(l);s=Qp(i,n,h),s&&(r=r-s*h),r=Pe(r,l[0],l[2]),a=Pe(a,l[1],l[3]),o=t([r,a])}else o=t(i);return s&&e.canWrapX()&&(o[0]+=s*Ce(e.getExtent())),o}}function d1(){rh(Nc),rh(Dc),s1(Dc,Nc,jm,Bm)}d1();function Uc(n,e,t){return function(i,r,a,o,s){if(!!i){if(!r&&!e)return i;var l=e?0:a[0]*r,h=e?0:a[1]*r,c=s?s[0]:0,d=s?s[1]:0,g=n[0]+l/2+c,y=n[2]-l/2+c,m=n[1]+h/2+d,M=n[3]-h/2+d;g>y&&(g=(y+g)/2,y=g),m>M&&(m=(M+m)/2,M=m);var w=Pe(i[0],g,y),S=Pe(i[1],m,M);if(o&&t&&r){var A=30*r;w+=-A*Math.log(1+Math.max(0,g-i[0])/A)+A*Math.log(1+Math.max(0,i[0]-y)/A),S+=-A*Math.log(1+Math.max(0,m-i[1])/A)+A*Math.log(1+Math.max(0,i[1]-M)/A)}return[w,S]}}}function p1(n){return n}function ef(n,e,t,i){var r=Ce(e)/t[0],a=ti(e)/t[1];return i?Math.min(n,Math.max(r,a)):Math.min(n,Math.min(r,a))}function nf(n,e,t){var i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Pe(i,t/2,e*2)}function v1(n,e,t,i){return function(r,a,o,s){if(r!==void 0){var l=n[0],h=n[n.length-1],c=t?ef(l,t,o,i):l;if(s){var d=e!==void 0?e:!0;return d?nf(r,c,h):Pe(r,h,c)}var g=Math.min(c,r),y=Math.floor(Xh(n,g,a));return n[y]>c&&y<n.length-1?n[y+1]:n[y]}else return}}function g1(n,e,t,i,r,a){return function(o,s,l,h){if(o!==void 0){var c=r?ef(e,r,l,a):e,d=t!==void 0?t:0;if(h){var g=i!==void 0?i:!0;return g?nf(o,c,d):Pe(o,d,c)}var y=1e-9,m=Math.ceil(Math.log(e/c)/Math.log(n)-y),M=-s*(.5-y)+.5,w=Math.min(c,o),S=Math.floor(Math.log(e/w)/Math.log(n)+M),A=Math.max(m,S),b=e/Math.pow(n,A);return Pe(b,d,c)}else return}}function Wc(n,e,t,i,r){return function(a,o,s,l){if(a!==void 0){var h=i?ef(n,i,s,r):n,c=t!==void 0?t:!0;return!c||!l?Pe(a,e,h):nf(a,h,e)}else return}}function rf(n){if(n!==void 0)return 0}function zc(n){if(n!==void 0)return n}function _1(n){var e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function y1(n){var e=n||Bs(5);return function(t,i){if(i)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function av(n){return Math.pow(n,3)}function $a(n){return 1-av(1-n)}function m1(n){return 3*n*n-2*n*n*n}function x1(n){return n}var ye={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},hr=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",E1=hr.indexOf("firefox")!==-1,M1=hr.indexOf("safari")!==-1&&hr.indexOf("chrom")==-1;M1&&(hr.indexOf("version/15.4")>=0||hr.match(/cpu (os|iphone os) 15_4 like mac os x/));var T1=hr.indexOf("webkit")!==-1&&hr.indexOf("edge")==-1,C1=hr.indexOf("macintosh")!==-1,ov=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Nl=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,w1=typeof Image!="undefined"&&Image.prototype.decode,sv=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function hi(){return[1,0,0,1,0,0]}function S1(n,e,t,i,r,a,o){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=a,n[5]=o,n}function R1(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Ne(n,e){var t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function O1(n,e,t){return S1(n,e,0,0,t,0,0)}function bi(n,e,t,i,r,a,o,s){var l=Math.sin(a),h=Math.cos(a);return n[0]=i*h,n[1]=r*l,n[2]=-i*l,n[3]=r*h,n[4]=o*i*h-s*i*l+e,n[5]=o*r*l+s*r*h+t,n}function af(n,e){var t=I1(e);Ht(t!==0,32);var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5];return n[0]=o/t,n[1]=-r/t,n[2]=-a/t,n[3]=i/t,n[4]=(a*l-o*s)/t,n[5]=-(i*l-r*s)/t,n}function I1(n){return n[0]*n[3]-n[1]*n[2]}var Xc;function lv(n){var e="matrix("+n.join(", ")+")";if(Nl)return e;var t=Xc||(Xc=document.createElement("div"));return t.style.transform=e,t.style.transform}function Wr(n,e,t,i,r,a){for(var o=a||[],s=0,l=e;l<t;l+=i){var h=n[l],c=n[l+1];o[s++]=r[0]*h+r[2]*c+r[4],o[s++]=r[1]*h+r[3]*c+r[5]}return a&&o.length!=s&&(o.length=s),o}function uv(n,e,t,i,r,a,o){for(var s=o||[],l=Math.cos(r),h=Math.sin(r),c=a[0],d=a[1],g=0,y=e;y<t;y+=i){var m=n[y]-c,M=n[y+1]-d;s[g++]=c+m*l-M*h,s[g++]=d+m*h+M*l;for(var w=y+2;w<y+i;++w)s[g++]=n[w]}return o&&s.length!=g&&(s.length=g),s}function P1(n,e,t,i,r,a,o,s){for(var l=s||[],h=o[0],c=o[1],d=0,g=e;g<t;g+=i){var y=n[g]-h,m=n[g+1]-c;l[d++]=h+r*y,l[d++]=c+a*m;for(var M=g+2;M<g+i;++M)l[d++]=n[M]}return s&&l.length!=d&&(l.length=d),l}function A1(n,e,t,i,r,a,o){for(var s=o||[],l=0,h=e;h<t;h+=i){s[l++]=n[h]+r,s[l++]=n[h+1]+a;for(var c=h+2;c<h+i;++c)s[l++]=n[c]}return o&&s.length!=l&&(s.length=l),s}var b1=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qc=hi(),L1=function(n){b1(e,n);function e(){var t=n.call(this)||this;return t.extent_=kn(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Mm(function(i,r,a){if(!a)return this.getSimplifiedGeometry(r);var o=this.clone();return o.applyTransform(a),o.getSimplifiedGeometry(r)}),t}return e.prototype.simplifyTransformed=function(t,i){return this.simplifyTransformedInternal(this.getRevision(),t,i)},e.prototype.clone=function(){return Nt()},e.prototype.closestPointXY=function(t,i,r,a){return Nt()},e.prototype.containsXY=function(t,i){var r=this.getClosestPoint([t,i]);return r[0]===t&&r[1]===i},e.prototype.getClosestPoint=function(t,i){var r=i||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Nt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&Pl(i),this.extentRevision_=this.getRevision()}return Qm(this.extent_,t)},e.prototype.rotate=function(t,i){Nt()},e.prototype.scale=function(t,i,r){Nt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Nt()},e.prototype.getType=function(){return Nt()},e.prototype.applyTransform=function(t){Nt()},e.prototype.intersectsExtent=function(t){return Nt()},e.prototype.translate=function(t,i){Nt()},e.prototype.transform=function(t,i){var r=me(t),a=r.getUnits()==ui.TILE_PIXELS?function(o,s,l){var h=r.getExtent(),c=r.getWorldExtent(),d=ti(c)/ti(h);return bi(qc,c[0],c[3],d,-d,0,0,0),Wr(o,0,o.length,l,qc,s),Io(r,i)(o,s,l)}:Io(r,i);return this.applyTransform(a),this},e}(vi),N1=L1,F1=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),D1=function(n){F1(e,n);function e(){var t=n.call(this)||this;return t.layout=ye.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return Vp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Nt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=this.getSimplifiedGeometryInternal(t),r=i.getFlatCoordinates();return r.length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,i){this.stride=Yc(t),this.layout=t,this.flatCoordinates=i},e.prototype.setCoordinates=function(t,i){Nt()},e.prototype.setLayout=function(t,i,r){var a;if(t)a=Yc(t);else{for(var o=0;o<r;++o)if(i.length===0){this.layout=ye.XY,this.stride=2;return}else i=i[0];a=i.length,t=G1(a)}this.layout=t,this.stride=a},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,i){var r=this.getFlatCoordinates();if(r){var a=this.getStride();uv(r,0,r.length,a,t,i,r),this.changed()}},e.prototype.scale=function(t,i,r){var a=i;a===void 0&&(a=t);var o=r;o||(o=Pa(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();P1(s,0,s.length,l,t,a,o,s),this.changed()}},e.prototype.translate=function(t,i){var r=this.getFlatCoordinates();if(r){var a=this.getStride();A1(r,0,r.length,a,t,i,r),this.changed()}},e}(N1);function G1(n){var e;return n==2?e=ye.XY:n==3?e=ye.XYZ:n==4&&(e=ye.XYZM),e}function Yc(n){var e;return n==ye.XY?e=2:n==ye.XYZ||n==ye.XYM?e=3:n==ye.XYZM&&(e=4),e}function k1(n,e,t){var i=n.getFlatCoordinates();if(i){var r=n.getStride();return Wr(i,0,i.length,r,e,t)}else return null}var Jr=D1;function Hc(n,e,t,i,r,a,o){var s=n[e],l=n[e+1],h=n[t]-s,c=n[t+1]-l,d;if(h===0&&c===0)d=e;else{var g=((r-s)*h+(a-l)*c)/(h*h+c*c);if(g>1)d=t;else if(g>0){for(var y=0;y<i;++y)o[y]=Ri(n[e+y],n[t+y],g);o.length=i;return}else d=e}for(var y=0;y<i;++y)o[y]=n[d+y];o.length=i}function of(n,e,t,i,r){var a=n[e],o=n[e+1];for(e+=i;e<t;e+=i){var s=n[e],l=n[e+1],h=Ur(a,o,s,l);h>r&&(r=h),a=s,o=l}return r}function sf(n,e,t,i,r){for(var a=0,o=t.length;a<o;++a){var s=t[a];r=of(n,e,s,i,r),e=s}return r}function j1(n,e,t,i,r){for(var a=0,o=t.length;a<o;++a){var s=t[a];r=sf(n,e,s,i,r),e=s[s.length-1]}return r}function lf(n,e,t,i,r,a,o,s,l,h,c){if(e==t)return h;var d,g;if(r===0)if(g=Ur(o,s,n[e],n[e+1]),g<h){for(d=0;d<i;++d)l[d]=n[e+d];return l.length=i,g}else return h;for(var y=c||[NaN,NaN],m=e+i;m<t;)if(Hc(n,m-i,m,i,o,s,y),g=Ur(o,s,y[0],y[1]),g<h){for(h=g,d=0;d<i;++d)l[d]=y[d];l.length=i,m+=i}else m+=i*Math.max((Math.sqrt(g)-Math.sqrt(h))/r|0,1);if(a&&(Hc(n,t-i,e,i,o,s,y),g=Ur(o,s,y[0],y[1]),g<h)){for(h=g,d=0;d<i;++d)l[d]=y[d];l.length=i}return h}function uf(n,e,t,i,r,a,o,s,l,h,c){for(var d=c||[NaN,NaN],g=0,y=t.length;g<y;++g){var m=t[g];h=lf(n,e,m,i,r,a,o,s,l,h,d),e=m}return h}function B1(n,e,t,i,r,a,o,s,l,h,c){for(var d=c||[NaN,NaN],g=0,y=t.length;g<y;++g){var m=t[g];h=uf(n,e,m,i,r,a,o,s,l,h,d),e=m[m.length-1]}return h}function $1(n,e,t,i){for(var r=0,a=t.length;r<a;++r)n[e++]=t[r];return e}function Fl(n,e,t,i){for(var r=0,a=t.length;r<a;++r)for(var o=t[r],s=0;s<i;++s)n[e++]=o[s];return e}function hf(n,e,t,i,r){for(var a=r||[],o=0,s=0,l=t.length;s<l;++s){var h=Fl(n,e,t[s],i);a[o++]=h,e=h}return a.length=o,a}function U1(n,e,t,i,r){for(var a=r||[],o=0,s=0,l=t.length;s<l;++s){var h=hf(n,e,t[s],i,a[o]);a[o++]=h,e=h[h.length-1]}return a.length=o,a}function ff(n,e,t,i,r,a,o){var s=(t-e)/i;if(s<3){for(;e<t;e+=i)a[o++]=n[e],a[o++]=n[e+1];return o}var l=new Array(s);l[0]=1,l[s-1]=1;for(var h=[e,t-i],c=0;h.length>0;){for(var d=h.pop(),g=h.pop(),y=0,m=n[g],M=n[g+1],w=n[d],S=n[d+1],A=g+i;A<d;A+=i){var b=n[A],L=n[A+1],j=Nm(b,L,m,M,w,S);j>y&&(c=A,y=j)}y>r&&(l[(c-e)/i]=1,g+i<c&&h.push(g,c),c+i<d&&h.push(c,d))}for(var A=0;A<s;++A)l[A]&&(a[o++]=n[e+A*i],a[o++]=n[e+A*i+1]);return o}function W1(n,e,t,i,r,a,o,s){for(var l=0,h=t.length;l<h;++l){var c=t[l];o=ff(n,e,c,i,r,a,o),s.push(o),e=c}return o}function br(n,e){return e*Math.round(n/e)}function z1(n,e,t,i,r,a,o){if(e==t)return o;var s=br(n[e],r),l=br(n[e+1],r);e+=i,a[o++]=s,a[o++]=l;var h,c;do if(h=br(n[e],r),c=br(n[e+1],r),e+=i,e==t)return a[o++]=h,a[o++]=c,o;while(h==s&&c==l);for(;e<t;){var d=br(n[e],r),g=br(n[e+1],r);if(e+=i,!(d==h&&g==c)){var y=h-s,m=c-l,M=d-s,w=g-l;if(y*w==m*M&&(y<0&&M<y||y==M||y>0&&M>y)&&(m<0&&w<m||m==w||m>0&&w>m)){h=d,c=g;continue}a[o++]=h,a[o++]=c,s=h,l=c,h=d,c=g}}return a[o++]=h,a[o++]=c,o}function hv(n,e,t,i,r,a,o,s){for(var l=0,h=t.length;l<h;++l){var c=t[l];o=z1(n,e,c,i,r,a,o),s.push(o),e=c}return o}function X1(n,e,t,i,r,a,o,s){for(var l=0,h=t.length;l<h;++l){var c=t[l],d=[];o=hv(n,e,c,i,r,a,o,d),s.push(d),e=c[c.length-1]}return o}function er(n,e,t,i,r){for(var a=r!==void 0?r:[],o=0,s=e;s<t;s+=i)a[o++]=n.slice(s,s+i);return a.length=o,a}function Po(n,e,t,i,r){for(var a=r!==void 0?r:[],o=0,s=0,l=t.length;s<l;++s){var h=t[s];a[o++]=er(n,e,h,i,a[o]),e=h}return a.length=o,a}function oh(n,e,t,i,r){for(var a=r!==void 0?r:[],o=0,s=0,l=t.length;s<l;++s){var h=t[s];a[o++]=Po(n,e,h,i,a[o]),e=h[h.length-1]}return a.length=o,a}function fv(n,e,t,i){for(var r=0,a=n[t-i],o=n[t-i+1];e<t;e+=i){var s=n[e],l=n[e+1];r+=o*s-a*l,a=s,o=l}return r/2}function cv(n,e,t,i){for(var r=0,a=0,o=t.length;a<o;++a){var s=t[a];r+=fv(n,e,s,i),e=s}return r}function q1(n,e,t,i){for(var r=0,a=0,o=t.length;a<o;++a){var s=t[a];r+=cv(n,e,s,i),e=s[s.length-1]}return r}var Y1=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),H1=function(n){Y1(e,n);function e(t,i){var r=n.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(i,t):r.setCoordinates(t,i),r}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,i,r,a){return a<Ba(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(of(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,i,r,a))},e.prototype.getArea=function(){return fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return er(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=ff(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,ye.XY)},e.prototype.getType=function(){return Dt.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Fl(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr),sh=H1,V1=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),K1=function(n){V1(e,n);function e(t,i){var r=n.call(this)||this;return r.setCoordinates(t,i),r}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){var o=this.flatCoordinates,s=Ur(t,i,o[0],o[1]);if(s<a){for(var l=this.stride,h=0;h<l;++h)r[h]=o[h];return r.length=l,s}else return a},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Vm(this.flatCoordinates,t)},e.prototype.getType=function(){return Dt.POINT},e.prototype.intersectsExtent=function(t){return Vh(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$1(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr),el=K1;function Z1(n,e,t,i,r){var a=Zp(r,function(o){return!Gr(n,e,t,i,o[0],o[1])});return!a}function Gr(n,e,t,i,r,a){for(var o=0,s=n[t-i],l=n[t-i+1];e<t;e+=i){var h=n[e],c=n[e+1];l<=a?c>a&&(h-s)*(a-l)-(r-s)*(c-l)>0&&o++:c<=a&&(h-s)*(a-l)-(r-s)*(c-l)<0&&o--,s=h,l=c}return o!==0}function cf(n,e,t,i,r,a){if(t.length===0||!Gr(n,e,t[0],i,r,a))return!1;for(var o=1,s=t.length;o<s;++o)if(Gr(n,t[o-1],t[o],i,r,a))return!1;return!0}function J1(n,e,t,i,r,a){if(t.length===0)return!1;for(var o=0,s=t.length;o<s;++o){var l=t[o];if(cf(n,e,l,i,r,a))return!0;e=l[l.length-1]}return!1}function dv(n,e,t,i,r,a,o){for(var s,l,h,c,d,g,y,m=r[a+1],M=[],w=0,S=t.length;w<S;++w){var A=t[w];for(c=n[A-i],g=n[A-i+1],s=e;s<A;s+=i)d=n[s],y=n[s+1],(m<=g&&y<=m||g<=m&&m<=y)&&(h=(m-g)/(y-g)*(d-c)+c,M.push(h)),c=d,g=y}var b=NaN,L=-1/0;for(M.sort(Xr),c=M[0],s=1,l=M.length;s<l;++s){d=M[s];var j=Math.abs(d-c);j>L&&(h=(c+d)/2,cf(n,e,t,i,h,m)&&(b=h,L=j)),c=d}return isNaN(b)&&(b=r[a]),o?(o.push(b,m,L),o):[b,m,L]}function Q1(n,e,t,i,r){for(var a=[],o=0,s=t.length;o<s;++o){var l=t[o];a=dv(n,e,l,i,r,2*o,a),e=l[l.length-1]}return a}function pv(n,e,t,i,r){var a;for(e+=i;e<t;e+=i)if(a=r(n.slice(e-i,e),n.slice(e,e+i)),a)return a;return!1}function Dl(n,e,t,i,r){var a=Kp(kn(),n,e,t,i);return pn(r,a)?da(r,a)||a[0]>=r[0]&&a[2]<=r[2]||a[1]>=r[1]&&a[3]<=r[3]?!0:pv(n,e,t,i,function(o,s){return t1(r,o,s)}):!1}function tx(n,e,t,i,r){for(var a=0,o=t.length;a<o;++a){if(Dl(n,e,t[a],i,r))return!0;e=t[a]}return!1}function ex(n,e,t,i,r){return!!(Dl(n,e,t,i,r)||Gr(n,e,t,i,r[0],r[1])||Gr(n,e,t,i,r[0],r[3])||Gr(n,e,t,i,r[2],r[1])||Gr(n,e,t,i,r[2],r[3]))}function vv(n,e,t,i,r){if(!ex(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(var a=1,o=t.length;a<o;++a)if(Z1(n,t[a-1],t[a],i,r)&&!Dl(n,t[a-1],t[a],i,r))return!1;return!0}function nx(n,e,t,i,r){for(var a=0,o=t.length;a<o;++a){var s=t[a];if(vv(n,e,s,i,r))return!0;e=s[s.length-1]}return!1}function ix(n,e,t,i){for(;e<t-i;){for(var r=0;r<i;++r){var a=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=a}e+=i,t-=i}}function gv(n,e,t,i){for(var r=0,a=n[t-i],o=n[t-i+1];e<t;e+=i){var s=n[e],l=n[e+1];r+=(s-a)*(l+o),a=s,o=l}return r===0?void 0:r>0}function _v(n,e,t,i,r){for(var a=r!==void 0?r:!1,o=0,s=t.length;o<s;++o){var l=t[o],h=gv(n,e,l,i);if(o===0){if(a&&h||!a&&!h)return!1}else if(a&&!h||!a&&h)return!1;e=l}return!0}function rx(n,e,t,i,r){for(var a=0,o=t.length;a<o;++a){var s=t[a];if(!_v(n,e,s,i,r))return!1;s.length&&(e=s[s.length-1])}return!0}function lh(n,e,t,i,r){for(var a=r!==void 0?r:!1,o=0,s=t.length;o<s;++o){var l=t[o],h=gv(n,e,l,i),c=o===0?a&&h||!a&&!h:a&&!h||!a&&h;c&&ix(n,e,l,i),e=l}return e}function Vc(n,e,t,i,r){for(var a=0,o=t.length;a<o;++a)e=lh(n,e,t[a],i,r);return e}var ax=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ao=function(n){ax(e,n);function e(t,i,r){var a=n.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,i!==void 0&&r?(a.setFlatCoordinates(i,t),a.ends_=r):a.setCoordinates(t,i),a}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Gn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){return a<Ba(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sf(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),uf(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,r,a))},e.prototype.containsXY=function(t,i){return cf(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,i)},e.prototype.getArea=function(){return cv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var i;return t!==void 0?(i=this.getOrientedFlatCoordinates().slice(),lh(i,0,this.ends_,this.stride,t)):i=this.flatCoordinates,Po(i,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Pa(this.getExtent());this.flatInteriorPoint_=dv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new el(this.getFlatInteriorPoint(),ye.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new sh(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,i=this.flatCoordinates,r=this.ends_,a=[],o=0,s=0,l=r.length;s<l;++s){var h=r[s],c=new sh(i.slice(o,h),t);a.push(c),o=h}return a},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;_v(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=lh(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=hv(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,r),new e(i,ye.XY,r)},e.prototype.getType=function(){return Dt.POLYGON},e.prototype.intersectsExtent=function(t){return vv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=hf(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(Jr);function Kc(n){var e=n[0],t=n[1],i=n[2],r=n[3],a=[e,t,e,r,i,r,i,t,e,t];return new Ao(a,ye.XY,[a.length])}var ox=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mu=0,sx=function(n){ox(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un;var r=Ie({},t);return i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=Qh(r.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.nextCenter_=null,i.nextResolution_,i.nextRotation_,i.cancelAnchor_=void 0,r.projection&&tv(),r.center&&(r.center=wi(r.center,i.projection_)),r.extent&&(r.extent=Dr(r.extent,i.projection_)),i.applyOptions_(r),i}return e.prototype.applyOptions_=function(t){var i=Ie({},t);for(var r in Wn)delete i[r];this.setProperties(i,!0);var a=ux(t);this.maxResolution_=a.maxResolution,this.minResolution_=a.minResolution,this.zoomFactor_=a.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=a.minZoom;var o=lx(t),s=a.constraint,l=hx(t);this.constraints_={center:o,resolution:s,rotation:l},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var i=this.padding_;this.padding_=t;var r=this.getCenter();if(r){var a=t||[0,0,0,0];i=i||[0,0,0,0];var o=this.getResolution(),s=o/2*(a[3]-i[3]+i[1]-a[1]),l=o/2*(a[0]-i[0]+i[2]-a[2]);this.setCenterInternal([r[0]+s,r[1]-l])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Ie({},i,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var i=new Array(arguments.length),r=0;r<i.length;++r){var a=arguments[r];a.center&&(a=Ie({},a),a.center=wi(a.center,this.getProjection())),a.anchor&&(a=Ie({},a),a.anchor=wi(a.anchor,this.getProjection())),i[r]=a}this.animateInternal.apply(this,i)},e.prototype.animateInternal=function(t){var i=arguments.length,r;i>1&&typeof arguments[i-1]=="function"&&(r=arguments[i-1],--i);for(var a=0;a<i&&!this.isDef();++a){var o=arguments[a];o.center&&this.setCenterInternal(o.center),o.zoom!==void 0?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),o.rotation!==void 0&&this.setRotation(o.rotation)}if(a===i){r&&Ts(r,!0);return}for(var s=Date.now(),l=this.targetCenter_.slice(),h=this.targetResolution_,c=this.targetRotation_,d=[];a<i;++a){var g=arguments[a],y={start:s,complete:!1,anchor:g.anchor,duration:g.duration!==void 0?g.duration:1e3,easing:g.easing||m1,callback:r};if(g.center&&(y.sourceCenter=l,y.targetCenter=g.center.slice(),l=y.targetCenter),g.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(g.zoom),h=y.targetResolution):g.resolution&&(y.sourceResolution=h,y.targetResolution=g.resolution,h=y.targetResolution),g.rotation!==void 0){y.sourceRotation=c;var m=Ma(g.rotation-c+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=c+m,c=y.targetRotation}fx(y)?y.complete=!0:s+=y.duration,d.push(y)}this.animations_.push(d),this.setHint(Ve.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Ve.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Ve.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Ve.ANIMATING,-this.hints_[Ve.ANIMATING]);for(var t,i=0,r=this.animations_.length;i<r;++i){var a=this.animations_[i];if(a[0].callback&&Ts(a[0].callback,!1),!t)for(var o=0,s=a.length;o<s;++o){var l=a[o];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),i=!1,r=this.animations_.length-1;r>=0;--r){for(var a=this.animations_[r],o=!0,s=0,l=a.length;s<l;++s){var h=a[s];if(!h.complete){var c=t-h.start,d=h.duration>0?c/h.duration:1;d>=1?(h.complete=!0,d=1):o=!1;var g=h.easing(d);if(h.sourceCenter){var y=h.sourceCenter[0],m=h.sourceCenter[1],M=h.targetCenter[0],w=h.targetCenter[1];this.nextCenter_=h.targetCenter;var S=y+g*(M-y),A=m+g*(w-m);this.targetCenter_=[S,A]}if(h.sourceResolution&&h.targetResolution){var b=g===1?h.targetResolution:h.sourceResolution+g*(h.targetResolution-h.sourceResolution);if(h.anchor){var L=this.getViewportSize_(this.getRotation()),j=this.constraints_.resolution(b,0,L,!0);this.targetCenter_=this.calculateCenterZoom(j,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=b,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var v=g===1?Ma(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+g*(h.targetRotation-h.sourceRotation);if(h.anchor){var H=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(H,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),i=!0,!h.complete)break}}if(o){this.animations_[r]=null,this.setHint(Ve.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var $=a[0].callback;$&&Ts($,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,i){var r,a=this.getCenterInternal();return a!==void 0&&(r=[a[0]-i[0],a[1]-i[1]],Zh(r,t-this.getRotation()),i1(r,i)),r},e.prototype.calculateCenterZoom=function(t,i){var r,a=this.getCenterInternal(),o=this.getResolution();if(a!==void 0&&o!==void 0){var s=i[0]-t*(i[0]-a[0])/o,l=i[1]-t*(i[1]-a[1])/o;r=[s,l]}return r},e.prototype.getViewportSize_=function(t){var i=this.viewportSize_;if(t){var r=i[0],a=i[1];return[Math.abs(r*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(a*Math.cos(t))]}else return i},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&ah(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Wn.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var i=this.calculateExtentInternal(t);return rv(i,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var i=t||this.getViewportSizeMinusPadding_(),r=this.getCenterInternal();Ht(r,1);var a=this.getResolution();Ht(a!==void 0,2);var o=this.getRotation();return Ht(o!==void 0,3),nh(r,a,o,i)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Wn.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,i){return this.getResolutionForExtentInternal(Dr(t,this.getProjection()),i)},e.prototype.getResolutionForExtentInternal=function(t,i){var r=i||this.getViewportSizeMinusPadding_(),a=Ce(t)/r[0],o=ti(t)/r[1];return Math.max(a,o)},e.prototype.getResolutionForValueFunction=function(t){var i=t||2,r=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(r/a)/Math.log(i);return function(s){var l=r/Math.pow(i,s*o);return l}},e.prototype.getRotation=function(){return this.get(Wn.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var i=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(r/a)/i;return function(s){var l=Math.log(r/s)/i/o;return l}},e.prototype.getViewportSizeMinusPadding_=function(t){var i=this.getViewportSize_(t),r=this.padding_;return r&&(i=[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i},e.prototype.getState=function(){var t=this.getProjection(),i=this.getResolution(),r=this.getRotation(),a=this.getCenterInternal(),o=this.padding_;if(o){var s=this.getViewportSizeMinusPadding_();a=xu(a,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],i,r)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,i=this.getResolution();return i!==void 0&&(t=this.getZoomForResolution(i)),t},e.prototype.getZoomForResolution=function(t){var i=this.minZoom_||0,r,a;if(this.resolutions_){var o=Xh(this.resolutions_,t,1);i=o,r=this.resolutions_[o],o==this.resolutions_.length-1?a=2:a=r/this.resolutions_[o+1]}else r=this.maxResolution_,a=this.zoomFactor_;return i+Math.log(r/t)/Math.log(a)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var i=Pe(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,Pe(t-i,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,i){var r;if(Ht(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Ht(!Kh(t),25);var a=Dr(t,this.getProjection());r=Kc(a)}else if(t.getType()===Dt.CIRCLE){var a=Dr(t.getExtent(),this.getProjection());r=Kc(a),r.rotate(this.getRotation(),Pa(a))}else{var o=c1();o?r=t.clone().transform(o,this.getProjection()):r=t}this.fitInternal(r,i)},e.prototype.rotatedExtentForGeometry=function(t){for(var i=this.getRotation(),r=Math.cos(i),a=Math.sin(-i),o=t.getFlatCoordinates(),s=t.getStride(),l=1/0,h=1/0,c=-1/0,d=-1/0,g=0,y=o.length;g<y;g+=s){var m=o[g]*r-o[g+1]*a,M=o[g]*a+o[g+1]*r;l=Math.min(l,m),h=Math.min(h,M),c=Math.max(c,m),d=Math.max(d,M)}return[l,h,c,d]},e.prototype.fitInternal=function(t,i){var r=i||{},a=r.size;a||(a=this.getViewportSizeMinusPadding_());var o=r.padding!==void 0?r.padding:[0,0,0,0],s=r.nearest!==void 0?r.nearest:!1,l;r.minResolution!==void 0?l=r.minResolution:r.maxZoom!==void 0?l=this.getResolutionForZoom(r.maxZoom):l=0;var h=this.rotatedExtentForGeometry(t),c=this.getResolutionForExtentInternal(h,[a[0]-o[1]-o[3],a[1]-o[0]-o[2]]);c=isNaN(c)?l:Math.max(c,l),c=this.getConstrainedResolution(c,s?0:1);var d=this.getRotation(),g=Math.sin(d),y=Math.cos(d),m=Pa(h);m[0]+=(o[1]-o[3])/2*c,m[1]+=(o[0]-o[2])/2*c;var M=m[0]*y-m[1]*g,w=m[1]*y+m[0]*g,S=this.getConstrainedCenter([M,w],c),A=r.callback?r.callback:qr;r.duration!==void 0?this.animateInternal({resolution:c,center:S,duration:r.duration,easing:r.easing},A):(this.targetResolution_=c,this.targetCenter_=S,this.applyTargetState_(!1,!0),Ts(A,!0))},e.prototype.centerOn=function(t,i,r){this.centerOnInternal(wi(t,this.getProjection()),i,r)},e.prototype.centerOnInternal=function(t,i,r){this.setCenterInternal(xu(t,i,r,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,i,r,a){var o,s=this.padding_;if(s&&t){var l=this.getViewportSizeMinusPadding_(-r),h=xu(t,a,[l[0]/2+s[3],l[1]/2+s[0]],i,r);o=[t[0]-h[0],t[1]-h[1]]}return o},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var i=ah(this.targetCenter_,this.getProjection());this.setCenter([i[0]+t[0],i[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var i=this.targetCenter_;this.setCenterInternal([i[0]+t[0],i[1]+t[1]])},e.prototype.adjustResolution=function(t,i){var r=i&&wi(i,this.getProjection());this.adjustResolutionInternal(t,r)},e.prototype.adjustResolutionInternal=function(t,i){var r=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,a,r);i&&(this.targetCenter_=this.calculateCenterZoom(o,i)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,i){this.adjustResolution(Math.pow(this.zoomFactor_,-t),i)},e.prototype.adjustRotation=function(t,i){i&&(i=wi(i,this.getProjection())),this.adjustRotationInternal(t,i)},e.prototype.adjustRotationInternal=function(t,i){var r=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,r);i&&(this.targetCenter_=this.calculateCenterRotate(a,i)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&wi(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,i){return this.hints_[t]+=i,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,i){var r=this.getAnimating()||this.getInteracting()||i,a=this.constraints_.rotation(this.targetRotation_,r),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,0,o,r),l=this.constraints_.center(this.targetCenter_,s,o,r,this.calculateCenterShift(this.targetCenter_,s,a,o));this.get(Wn.ROTATION)!==a&&this.set(Wn.ROTATION,a),this.get(Wn.RESOLUTION)!==s&&(this.set(Wn.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Wn.CENTER)||!tl(this.get(Wn.CENTER),l))&&this.set(Wn.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,i,r){var a=t!==void 0?t:200,o=i||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),h=this.constraints_.resolution(this.targetResolution_,o,l),c=this.constraints_.center(this.targetCenter_,h,l,!1,this.calculateCenterShift(this.targetCenter_,h,s,l));if(a===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}var d=r||(a===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==s||!this.getCenterInternal()||!tl(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:h,duration:a,easing:$a,anchor:d}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ve.INTERACTING,1)},e.prototype.endInteraction=function(t,i,r){var a=r&&wi(r,this.getProjection());this.endInteractionInternal(t,i,a)},e.prototype.endInteractionInternal=function(t,i,r){this.setHint(Ve.INTERACTING,-1),this.resolveConstraints(t,i,r)},e.prototype.getConstrainedCenter=function(t,i){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,i||this.getResolution(),r)},e.prototype.getConstrainedZoom=function(t,i){var r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,i))},e.prototype.getConstrainedResolution=function(t,i){var r=i||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,r,a)},e}(vi);function Ts(n,e){setTimeout(function(){n(e)},0)}function lx(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Uc(n.extent,n.constrainOnlyCenter,e)}var t=Qh(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var i=t.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Uc(i,!1,!1)}return p1}function ux(n){var e,t,i,r=28,a=2,o=n.minZoom!==void 0?n.minZoom:mu,s=n.maxZoom!==void 0?n.maxZoom:r,l=n.zoomFactor!==void 0?n.zoomFactor:a,h=n.multiWorld!==void 0?n.multiWorld:!1,c=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,d=n.showFullExtent!==void 0?n.showFullExtent:!1,g=Qh(n.projection,"EPSG:3857"),y=g.getExtent(),m=n.constrainOnlyCenter,M=n.extent;if(!h&&!M&&g.isGlobal()&&(m=!1,M=y),n.resolutions!==void 0){var w=n.resolutions;t=w[o],i=w[s]!==void 0?w[s]:w[w.length-1],n.constrainResolution?e=v1(w,c,!m&&M,d):e=Wc(t,i,c,!m&&M,d)}else{var S=y?Math.max(Ce(y),ti(y)):360*di[ui.DEGREES]/g.getMetersPerUnit(),A=S/qh/Math.pow(a,mu),b=A/Math.pow(a,r-mu);t=n.maxResolution,t!==void 0?o=0:t=A/Math.pow(l,o),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,s):i=A/Math.pow(l,s):i=b),s=o+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,s-o),n.constrainResolution?e=g1(l,t,i,c,!m&&M,d):e=Wc(t,i,c,!m&&M,d)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:o,zoomFactor:l}}function hx(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?y1():t===!1?zc:typeof t=="number"?_1(t):zc}else return rf}function fx(n){return!(n.sourceCenter&&n.targetCenter&&!tl(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function xu(n,e,t,i,r){var a=Math.cos(-r),o=Math.sin(-r),s=n[0]*a-n[1]*o,l=n[1]*a+n[0]*o;s+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,o=-o;var h=s*a-l*o,c=l*a+s*o;return[h,c]}var tr=sx,cx=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,dx=/^([a-z]*)$|^hsla?\(.*\)$/i;function yv(n){return typeof n=="string"?n:mv(n)}function px(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var vx=function(){var n=1024,e={},t=0;return function(i){var r;if(e.hasOwnProperty(i))r=e[i];else{if(t>=n){var a=0;for(var o in e)(a++&3)===0&&(delete e[o],--t)}r=gx(i),e[i]=r,++t}return r}}();function nl(n){return Array.isArray(n)?n:vx(n)}function gx(n){var e,t,i,r,a;if(dx.exec(n)&&(n=px(n)),cx.exec(n)){var o=n.length-1,s=void 0;o<=4?s=1:s=2;var l=o===4||o===8;e=parseInt(n.substr(1+0*s,s),16),t=parseInt(n.substr(1+1*s,s),16),i=parseInt(n.substr(1+2*s,s),16),l?r=parseInt(n.substr(1+3*s,s),16):r=255,s==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,l&&(r=(r<<4)+r)),a=[e,t,i,r/255]}else n.indexOf("rgba(")==0?(a=n.slice(5,-1).split(",").map(Number),Zc(a)):n.indexOf("rgb(")==0?(a=n.slice(4,-1).split(",").map(Number),a.push(1),Zc(a)):Ht(!1,14);return a}function Zc(n){return n[0]=Pe(n[0]+.5|0,0,255),n[1]=Pe(n[1]+.5|0,0,255),n[2]=Pe(n[2]+.5|0,0,255),n[3]=Pe(n[3],0,1),n}function mv(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var i=n[2];i!=(i|0)&&(i=i+.5|0);var r=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+i+","+r+")"}var _x=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,i){var r=Jc(e,t,i);return r in this.cache_?this.cache_[r]:null},n.prototype.set=function(e,t,i,r){var a=Jc(e,t,i);this.cache_[a]=r,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function Jc(n,e,t){var i=t?yv(t):"null";return e+":"+n+":"+i}var il=new _x,re={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},yx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mx=function(n){yx(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un,i.background_=t.background;var r=Ie({},t);return typeof t.properties=="object"&&(delete r.properties,Ie(r,t.properties)),r[re.OPACITY]=t.opacity!==void 0?t.opacity:1,Ht(typeof r[re.OPACITY]=="number",64),r[re.VISIBLE]=t.visible!==void 0?t.visible:!0,r[re.Z_INDEX]=t.zIndex,r[re.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,r[re.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,r[re.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,r[re.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,i.className_=r.className!==void 0?r.className:"ol-layer",delete r.className,i.setProperties(r),i.state_=null,i}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var i=this.state_||{layer:this,managed:t===void 0?!0:t},r=this.getZIndex();return i.opacity=Pe(Math.round(this.getOpacity()*100)/100,0,1),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=r===void 0&&!i.managed?1/0:r,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i},e.prototype.getLayersArray=function(t){return Nt()},e.prototype.getLayerStatesArray=function(t){return Nt()},e.prototype.getExtent=function(){return this.get(re.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(re.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(re.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(re.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(re.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(re.OPACITY)},e.prototype.getSourceState=function(){return Nt()},e.prototype.getVisible=function(){return this.get(re.VISIBLE)},e.prototype.getZIndex=function(){return this.get(re.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(re.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(re.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(re.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(re.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(re.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Ht(typeof t=="number",64),this.set(re.OPACITY,t)},e.prototype.setVisible=function(t){this.set(re.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(re.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(vi),xv=mx,ar={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Yr={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},xx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ex=function(n){xx(e,n);function e(t){var i=this,r=Ie({},t);delete r.source,i=n.call(this,r)||this,i.on,i.once,i.un,i.mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,i.rendered=!1,t.render&&(i.render=t.render),t.map&&i.setMap(t.map),i.addChangeListener(re.SOURCE,i.handleSourcePropertyChange_);var a=t.source?t.source:null;return i.setSource(a),i}return e.prototype.getLayersArray=function(t){var i=t||[];return i.push(this),i},e.prototype.getLayerStatesArray=function(t){var i=t||[];return i.push(this.getLayerState()),i},e.prototype.getSource=function(){return this.get(re.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Yr.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(_e(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Jt(t,jt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(i){return i([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,i){var r=this.getRenderer();if(r.prepareFrame(t))return this.rendered=!0,r.renderFrame(t,i)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(re.MAP,t)},e.prototype.getMapInternal=function(){return this.get(re.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(_e(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(_e(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Jt(t,ar.PRECOMPOSE,function(i){var r=i,a=r.frameState.layerStatesArray,o=this.getLayerState(!1);Ht(!a.some(function(s){return s.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=Jt(this,jt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(re.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(xv);function rl(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var Gl=Ex,Mx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tx=function(n){Mx(e,n);function e(t){var i=n.call(this)||this;return i.map_=t,i}return e.prototype.dispatchRenderEvent=function(t,i){Nt()},e.prototype.calculateMatrices2D=function(t){var i=t.viewState,r=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;bi(r,t.size[0]/2,t.size[1]/2,1/i.resolution,-1/i.resolution,-i.rotation,-i.center[0],-i.center[1]),af(a,r)},e.prototype.forEachFeatureAtCoordinate=function(t,i,r,a,o,s,l,h){var c,d=i.viewState;function g(mt,vt,ot,_t){return o.call(s,vt,mt?ot:null,_t)}var y=d.projection,m=Jp(t.slice(),y),M=[[0,0]];if(y.canWrapX()&&a){var w=y.getExtent(),S=Ce(w);M.push([-S,0],[S,0])}for(var A=i.layerStatesArray,b=A.length,L=[],j=[],v=0;v<M.length;v++)for(var H=b-1;H>=0;--H){var $=A[H],V=$.layer;if(V.hasRenderer()&&rl($,d)&&l.call(h,V)){var rt=V.getRenderer(),ct=V.getSource();if(rt&&ct){var at=ct.getWrapX()?m:t,yt=g.bind(null,$.managed);j[0]=at[0]+M[v][0],j[1]=at[1]+M[v][1],c=rt.forEachFeatureAtCoordinate(j,i,r,yt,L)}if(c)return c}}if(L.length!==0){var bt=1/L.length;return L.forEach(function(mt,vt){return mt.distanceSq+=vt*bt}),L.sort(function(mt,vt){return mt.distanceSq-vt.distanceSq}),L.some(function(mt){return c=mt.callback(mt.feature,mt.layer,mt.geometry)}),c}},e.prototype.forEachLayerAtPixel=function(t,i,r,a,o){return Nt()},e.prototype.hasFeatureAtCoordinate=function(t,i,r,a,o,s){var l=this.forEachFeatureAtCoordinate(t,i,r,a,Ea,this,o,s);return l!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Nt()},e.prototype.scheduleExpireIconCache=function(t){il.canExpireCache()&&t.postRenderFunctions.push(Cx)},e}(zh);function Cx(n,e){il.expire()}var wx=Tx,Sx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Rx=function(n){Sx(e,n);function e(t,i,r,a){var o=n.call(this,t)||this;return o.inversePixelTransform=i,o.frameState=r,o.context=a,o}return e}(Fi),Ev=Rx,Cs="ol-hidden",Xo="ol-unselectable",Qc="ol-unsupported",kl="ol-control",td="ol-collapsed",Ox=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),ed=["style","variant","weight","size","lineHeight","family"],Mv=function(n){var e=n.match(Ox);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=ed.length;i<r;++i){var a=e[i+1];a!==void 0&&(t[ed[i]]=a)}return t.families=t.family.split(/,\s?/),t};function Tv(n){return n===1?"":String(Math.round(n*100)/100)}function jn(n,e,t,i){var r;return t&&t.length?r=t.shift():Nl?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}function al(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function uh(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function Ix(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function Px(n,e){for(var t=n.childNodes,i=0;;++i){var r=t[i],a=e[i];if(!r&&!a)break;if(r!==a){if(!r){n.appendChild(a);continue}if(!a){n.removeChild(r),--i;continue}n.insertBefore(a,r)}}}var Cv="10px sans-serif",Pi="#000",ol="round",bo=[],Lo=0,Aa="round",No=10,Fo="#000",Do="center",sl="middle",kr=[0,0,0,0],Go=1,Si=new vi,Ax=new ka;Ax.setSize=function(){console.warn("labelCache is deprecated.")};var sa=null,hh,fh={},bx=function(){var n=100,e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",a,o;function s(h,c,d){for(var g=!0,y=0;y<i;++y){var m=t[y];if(o=ll(h+" "+c+" "+e+m,r),d!=m){var M=ll(h+" "+c+" "+e+d+","+m,r);g=g&&M!=o}}return!!g}function l(){for(var h=!0,c=Si.getKeys(),d=0,g=c.length;d<g;++d){var y=c[d];Si.get(y)<n&&(s.apply(this,y.split(`
`))?(Uo(fh),sa=null,hh=void 0,Si.set(y,n)):(Si.set(y,Si.get(y)+1,!0),h=!1))}h&&(clearInterval(a),a=void 0)}return function(h){var c=Mv(h);if(!!c)for(var d=c.families,g=0,y=d.length;g<y;++g){var m=d[g],M=c.style+`
`+c.weight+`
`+m;Si.get(M)===void 0&&(Si.set(M,n,!0),s(c.style,c.weight,m)||(Si.set(M,0,!0),a===void 0&&(a=setInterval(l,32))))}}}(),Lx=function(){var n;return function(e){var t=fh[e];if(t==null){if(Nl){var i=Mv(e),r=wv(e,"\u017Dg"),a=isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight);t=a*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);fh[e]=t}return t}}();function wv(n,e){return sa||(sa=jn(1,1)),n!=hh&&(sa.font=n,hh=sa.font),sa.measureText(e)}function ll(n,e){return wv(n,e).width}function nd(n,e,t){if(e in t)return t[e];var i=ll(n,e);return t[e]=i,i}function Nx(n,e){for(var t=[],i=[],r=[],a=0,o=0,s=0,l=0,h=0,c=e.length;h<=c;h+=2){var d=e[h];if(d===`
`||h===c){a=Math.max(a,o),r.push(o),o=0,s+=l;continue}var g=e[h+1]||n.font,y=ll(g,d);t.push(y),o+=y;var m=Lx(g);i.push(m),l=Math.max(l,m)}return{width:a,height:s,widths:t,heights:i,lineWidths:r}}function Fx(n,e,t,i,r,a,o,s,l,h,c){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),i.contextInstructions?(n.translate(l,h),n.scale(c[0],c[1]),Dx(i,n)):c[0]<0||c[1]<0?(n.translate(l,h),n.scale(c[0],c[1]),n.drawImage(i,r,a,o,s,0,0,o,s)):n.drawImage(i,r,a,o,s,l,h,o*c[0],s*c[1]),n.restore()}function Dx(n,e){for(var t=n.contextInstructions,i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var Gx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kx=function(n){Gx(e,n);function e(t){var i=n.call(this,t)||this;i.fontChangeListenerKey_=Jt(Si,Oa.PROPERTYCHANGE,t.redrawText.bind(t)),i.element_=document.createElement("div");var r=i.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",i.element_.className=Xo+" ol-layers";var a=t.getViewport();return a.insertBefore(i.element_,a.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return e.prototype.dispatchRenderEvent=function(t,i){var r=this.getMap();if(r.hasListener(t)){var a=new Ev(t,void 0,i);r.dispatchEvent(a)}},e.prototype.disposeInternal=function(){_e(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(ar.PRECOMPOSE,t);var i=t.layerStatesArray.sort(function(y,m){return y.zIndex-m.zIndex}),r=t.viewState;this.children_.length=0;for(var a=[],o=null,s=0,l=i.length;s<l;++s){var h=i[s];t.layerIndex=s;var c=h.layer,d=c.getSourceState();if(!rl(h,r)||d!=Yr.READY&&d!=Yr.UNDEFINED){c.unrender();continue}var g=c.render(t,o);!g||(g!==o&&(this.children_.push(g),o=g),"getDeclutter"in c&&a.push(c))}for(var s=a.length-1;s>=0;--s)a[s].renderDeclutter(t);Px(this.element_,this.children_),this.dispatchRenderEvent(ar.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,i,r,a,o){for(var s=i.viewState,l=i.layerStatesArray,h=l.length,c=h-1;c>=0;--c){var d=l[c],g=d.layer;if(g.hasRenderer()&&rl(d,s)&&o(g)){var y=g.getRenderer(),m=y.getDataAtPixel(t,i,r);if(m){var M=a(g,m);if(M)return M}}}},e}(wx),jx=kx,vn={ADD:"add",REMOVE:"remove"},Sv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),id={LENGTH:"length"},ws=function(n){Sv(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.element=i,a.index=r,a}return e}(Fi),Bx=function(n){Sv(e,n);function e(t,i){var r=n.call(this)||this;r.on,r.once,r.un;var a=i||{};if(r.unique_=!!a.unique,r.array_=t||[],r.unique_)for(var o=0,s=r.array_.length;o<s;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var i=0,r=t.length;i<r;++i)this.push(t[i]);return this},e.prototype.forEach=function(t){for(var i=this.array_,r=0,a=i.length;r<a;++r)t(i[r],r,i)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(id.LENGTH)},e.prototype.insertAt=function(t,i){this.unique_&&this.assertUnique_(i),this.array_.splice(t,0,i),this.updateLength_(),this.dispatchEvent(new ws(vn.ADD,i,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var i=this.getLength();return this.insertAt(i,t),this.getLength()},e.prototype.remove=function(t){for(var i=this.array_,r=0,a=i.length;r<a;++r)if(i[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var i=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new ws(vn.REMOVE,i,t)),i},e.prototype.setAt=function(t,i){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(i,t);var a=this.array_[t];this.array_[t]=i,this.dispatchEvent(new ws(vn.REMOVE,a,t)),this.dispatchEvent(new ws(vn.ADD,i,t))}else{for(var o=r;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,i)}},e.prototype.updateLength_=function(){this.set(id.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,i){for(var r=0,a=this.array_.length;r<a;++r)if(this.array_[r]===t&&r!==i)throw new Yp(58)},e}(vi),gn=Bx,Rv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zi=function(n){Rv(e,n);function e(t,i){var r=n.call(this,t)||this;return r.layer=i,r}return e}(Fi),Eu={LAYERS:"layers"},$x=function(n){Rv(e,n);function e(t){var i=this,r=t||{},a=Ie({},r);delete a.layers;var o=r.layers;return i=n.call(this,a)||this,i.on,i.once,i.un,i.layersListenerKeys_=[],i.listenerKeys_={},i.addChangeListener(Eu.LAYERS,i.handleLayersChanged_),o?Array.isArray(o)?o=new gn(o.slice(),{unique:!0}):Ht(typeof o.getArray=="function",43):o=new gn(void 0,{unique:!0}),i.setLayers(o),i}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(_e),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Jt(t,vn.ADD,this.handleLayersAdd_,this),Jt(t,vn.REMOVE,this.handleLayersRemove_,this));for(var i in this.listenerKeys_)this.listenerKeys_[i].forEach(_e);Uo(this.listenerKeys_);for(var r=t.getArray(),a=0,o=r.length;a<o;a++){var s=r[a];this.registerLayerListeners_(s),this.dispatchEvent(new Zi("addlayer",s))}this.changed()},e.prototype.registerLayerListeners_=function(t){var i=[Jt(t,Oa.PROPERTYCHANGE,this.handleLayerChange_,this),Jt(t,jt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&i.push(Jt(t,"addlayer",this.handleLayerGroupAdd_,this),Jt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[te(t)]=i},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new Zi("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new Zi("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var i=t.element;this.registerLayerListeners_(i),this.dispatchEvent(new Zi("addlayer",i)),this.changed()},e.prototype.handleLayersRemove_=function(t){var i=t.element,r=te(i);this.listenerKeys_[r].forEach(_e),delete this.listenerKeys_[r],this.dispatchEvent(new Zi("removelayer",i)),this.changed()},e.prototype.getLayers=function(){return this.get(Eu.LAYERS)},e.prototype.setLayers=function(t){var i=this.getLayers();if(i)for(var r=i.getArray(),a=0,o=r.length;a<o;++a)this.dispatchEvent(new Zi("removelayer",r[a]));this.set(Eu.LAYERS,t)},e.prototype.getLayersArray=function(t){var i=t!==void 0?t:[];return this.getLayers().forEach(function(r){r.getLayersArray(i)}),i},e.prototype.getLayerStatesArray=function(t){var i=t!==void 0?t:[],r=i.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(i)});var a=this.getLayerState(),o=a.zIndex;!t&&a.zIndex===void 0&&(o=0);for(var s=r,l=i.length;s<l;s++){var h=i[s];h.opacity*=a.opacity,h.visible=h.visible&&a.visible,h.maxResolution=Math.min(h.maxResolution,a.maxResolution),h.minResolution=Math.max(h.minResolution,a.minResolution),h.minZoom=Math.max(h.minZoom,a.minZoom),h.maxZoom=Math.min(h.maxZoom,a.maxZoom),a.extent!==void 0&&(h.extent!==void 0?h.extent=mo(h.extent,a.extent):h.extent=a.extent),h.zIndex===void 0&&(h.zIndex=o)}return i},e.prototype.getSourceState=function(){return Yr.READY},e}(xv),Li=$x,Ux=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wx=function(n){Ux(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.map=i,a.frameState=r!==void 0?r:null,a}return e}(Fi),la=Wx,zx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Xx=function(n){zx(e,n);function e(t,i,r,a,o){var s=n.call(this,t,i,o)||this;return s.originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=a!==void 0?a:!1,s}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(la),Yi=Xx,ge={SINGLECLICK:"singleclick",CLICK:jt.CLICK,DBLCLICK:jt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ch={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},qx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yx=function(n){qx(e,n);function e(t,i){var r=n.call(this,t)||this;r.map_=t,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=i===void 0?1:i,r.down_=null;var a=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=a,r.pointerdownListenerKey_=Jt(a,ch.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=Jt(a,ch.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(jt.TOUCHMOVE,r.boundHandleTouchMove_,sv?{passive:!1}:!1),r}return e.prototype.emulateClick_=function(t){var i=new Yi(ge.CLICK,this.map_,t);this.dispatchEvent(i),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,i=new Yi(ge.DBLCLICK,this.map_,t),this.dispatchEvent(i)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var r=new Yi(ge.SINGLECLICK,this.map_,t);this.dispatchEvent(r)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var i=t;i.type==ge.POINTERUP||i.type==ge.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==ge.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var i=new Yi(ge.POINTERUP,this.map_,t);this.dispatchEvent(i),this.emulateClicks_&&!i.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(_e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var i=new Yi(ge.POINTERDOWN,this.map_,t);this.dispatchEvent(i),this.down_={};for(var r in t){var a=t[r];this.down_[r]=typeof a=="function"?qr:a}if(this.dragListenerKeys_.length===0){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Jt(o,ge.POINTERMOVE,this.handlePointerMove_,this),Jt(o,ge.POINTERUP,this.handlePointerUp_,this),Jt(this.element_,ge.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(Jt(this.element_.getRootNode(),ge.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var i=new Yi(ge.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(i)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var i=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Yi(t.type,this.map_,t,i))},e.prototype.handleTouchMove_=function(t){var i=this.originalPointerMoveEvent_;(!i||i.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(_e(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(jt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(_e(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(_e),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(ka),Hx=Yx,Hi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},$e={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ul=1/0,Vx=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Uo(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var r=this.keyFunction_(i);return delete this.queuedElements_[r],i},n.prototype.enqueue=function(e){Ht(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=ul?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,i=this.priorities_,r=t.length,a=t[e],o=i[e],s=e;e<r>>1;){var l=this.getLeftChildIndex_(e),h=this.getRightChildIndex_(e),c=h<r&&i[h]<i[l]?h:l;t[e]=t[c],i[e]=i[c],e=c}t[e]=a,i[e]=o,this.siftDown_(s,e)},n.prototype.siftDown_=function(e,t){for(var i=this.elements_,r=this.priorities_,a=i[t],o=r[t];t>e;){var s=this.getParentIndex_(t);if(r[s]>o)i[t]=i[s],r[t]=r[s],t=s;else break}i[t]=a,r[t]=o},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,a=t.length,o,s,l;for(s=0;s<a;++s)o=t[s],l=e(o),l==ul?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,t[r++]=o);t.length=r,i.length=r,this.heapify_()},n}(),Kx=Vx,Ot={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Zx=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Jx=function(n){Zx(e,n);function e(t,i){var r=n.call(this,function(a){return t.apply(null,a)},function(a){return a[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=i,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return e.prototype.enqueue=function(t){var i=n.prototype.enqueue.call(this,t);if(i){var r=t[0];r.addEventListener(jt.CHANGE,this.boundHandleTileChange_)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var i=t.target,r=i.getState();if(r===Ot.LOADED||r===Ot.ERROR||r===Ot.EMPTY){i.removeEventListener(jt.CHANGE,this.boundHandleTileChange_);var a=i.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,i){for(var r=0,a,o,s;this.tilesLoading_<t&&r<i&&this.getCount()>0;)o=this.dequeue()[0],s=o.getKey(),a=o.getState(),a===Ot.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,o.load())},e}(Kx),Qx=Jx;function tE(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return ul;var a=n.viewState.center,o=i[0]-a[0],s=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(o*o+s*s)/r}function rd(n){return n[0]>0&&n[1]>0}function eE(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Yn(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var nE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();function Ov(n){if(n instanceof Gl){n.setMapInternal(null);return}n instanceof Li&&n.getLayers().forEach(Ov)}function Iv(n,e){if(n instanceof Gl){n.setMapInternal(e);return}if(n instanceof Li)for(var t=n.getLayers().getArray(),i=0,r=t.length;i<r;++i)Iv(t[i],e)}var iE=function(n){nE(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un;var r=rE(t);i.renderComplete_,i.loaded_=!0,i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(i),i.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,i.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:ov,i.postRenderTimeoutHandle_,i.animationDelayKey_,i.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(i),i.coordinateToPixelTransform_=hi(),i.pixelToCoordinateTransform_=hi(),i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=t.moveTolerance,i.keyboardEventTarget_=r.keyboardEventTarget,i.targetChangeHandlerKeys_=null,i.controls=r.controls||new gn,i.interactions=r.interactions||new gn,i.overlays_=r.overlays,i.overlayIdIndex_={},i.renderer_=null,i.postRenderFunctions_=[],i.tileQueue_=new Qx(i.getTilePriority.bind(i),i.handleTileChange_.bind(i)),i.addChangeListener($e.LAYERGROUP,i.handleLayerGroupChanged_),i.addChangeListener($e.VIEW,i.handleViewChanged_),i.addChangeListener($e.SIZE,i.handleSizeChanged_),i.addChangeListener($e.TARGET,i.handleTargetChanged_),i.setProperties(r.values);var a=i;return t.view&&!(t.view instanceof tr)&&t.view.then(function(o){a.setView(new tr(o))}),i.controls.addEventListener(vn.ADD,function(o){o.element.setMap(this)}.bind(i)),i.controls.addEventListener(vn.REMOVE,function(o){o.element.setMap(null)}.bind(i)),i.interactions.addEventListener(vn.ADD,function(o){o.element.setMap(this)}.bind(i)),i.interactions.addEventListener(vn.REMOVE,function(o){o.element.setMap(null)}.bind(i)),i.overlays_.addEventListener(vn.ADD,function(o){this.addOverlayInternal_(o.element)}.bind(i)),i.overlays_.addEventListener(vn.REMOVE,function(o){var s=o.element,l=s.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],o.element.setMap(null)}.bind(i)),i.controls.forEach(function(o){o.setMap(this)}.bind(i)),i.interactions.forEach(function(o){o.setMap(this)}.bind(i)),i.overlays_.forEach(i.addOverlayInternal_.bind(i)),i}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var i=this.getLayerGroup().getLayers();i.push(t)},e.prototype.handleLayerAdd_=function(t){Iv(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var i=t.getId();i!==void 0&&(this.overlayIdIndex_[i.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,i,r){if(!(!this.frameState_||!this.renderer_)){var a=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var o=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.layerFilter!==void 0?r.layerFilter:Ea,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,o,l,i,null,s,null)}},e.prototype.getFeaturesAtPixel=function(t,i){var r=[];return this.forEachFeatureAtPixel(t,function(a){r.push(a)},i),r},e.prototype.getAllLayers=function(){var t=[];function i(r){r.forEach(function(a){a instanceof Li?i(a.getLayers()):t.push(a)})}return i(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,i,r){if(!(!this.frameState_||!this.renderer_)){var a=r||{},o=a.hitTolerance!==void 0?a.hitTolerance:0,s=a.layerFilter||Ea;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,i,s)}},e.prototype.hasFeatureAtPixel=function(t,i){if(!this.frameState_||!this.renderer_)return!1;var r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var a=i.layerFilter!==void 0?i.layerFilter:Ea,o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,o,s,a,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var i=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-i.left,r.clientY-i.top]},e.prototype.getTarget=function(){return this.get($e.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return ah(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var i=this.frameState_;return i?Ne(i.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var i=this.overlayIdIndex_[t.toString()];return i!==void 0?i:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get($e.LAYERGROUP)},e.prototype.setLayers=function(t){var i=this.getLayerGroup();if(t instanceof gn){i.setLayers(t);return}var r=i.getLayers();r.clear(),r.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),i=0,r=t.length;i<r;++i){var a=t[i];if(!!a.visible){var o=a.layer.getRenderer();if(o&&!o.ready)return!0;var s=a.layer.getSource();if(s&&s.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var i=wi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(i)},e.prototype.getPixelFromCoordinateInternal=function(t){var i=this.frameState_;return i?Ne(i.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get($e.SIZE)},e.prototype.getView=function(){return this.get($e.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,i,r,a){return tE(this.frameState_,t,i,r,a)},e.prototype.handleBrowserEvent=function(t,i){var r=i||t.type,a=new Yi(r,this,t);this.handleMapBrowserEvent(a)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var i=t.originalEvent,r=i.type;if(r===ch.POINTERDOWN||r===jt.WHEEL||r===jt.KEYDOWN){var a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,s=i.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===a?a.documentElement:o).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var l=this.getInteractions().getArray().slice(),h=l.length-1;h>=0;h--){var c=l[h];if(!(c.getMap()!==this||!c.getActive()||!this.getTargetElement())){var d=c.handleEvent(t);if(!d||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,i=this.tileQueue_;if(!i.isEmpty()){var r=this.maxTilesLoading_,a=r;if(t){var o=t.viewHints;if(o[Ve.ANIMATING]||o[Ve.INTERACTING]){var s=Date.now()-t.time>8;r=s?0:8,a=s?0:2}}i.getTilesLoading()<r&&(i.reprioritize(),i.loadMoreTiles(r,a))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(ar.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ar.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new la(Hi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new la(Hi.LOADSTART,this,t))));for(var l=this.postRenderFunctions_,h=0,c=l.length;h<c;++h)l[h](this,t);l.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,i=this.targetChangeHandlerKeys_.length;t<i;++t)_e(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(jt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(jt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,uh(this.viewport_)}var r=this.getTargetElement();if(!r)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{r.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Hx(this,this.moveTolerance_);for(var a in ge)this.mapBrowserEventHandler_.addEventListener(ge[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(jt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(jt.WHEEL,this.boundHandleBrowserEvent_,sv?{passive:!1}:!1);var o=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[Jt(s,jt.KEYDOWN,this.handleBrowserEvent,this),Jt(s,jt.KEYPRESS,this.handleBrowserEvent,this),Jt(o,jt.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(_e(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(_e(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Jt(t,Oa.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Jt(t,jt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Zi("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Jt(t,Oa.PROPERTYCHANGE,this.render,this),Jt(t,jt.CHANGE,this.render,this),Jt(t,"addlayer",this.handleLayerAdd_,this),Jt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),i=0,r=t.length;i<r;++i){var a=t[i].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var i=this.getLayerGroup().getLayers();return i.remove(t)},e.prototype.handleLayerRemove_=function(t){Ov(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var i=this,r=this.getSize(),a=this.getView(),o=this.frameState_,s=null;if(r!==void 0&&rd(r)&&a&&a.isDef()){var l=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=a.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:nh(h.center,h.resolution,h.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:l,wantedTiles:{},mapId:te(this),renderTargets:{}},h.nextCenter&&h.nextResolution){var c=isNaN(h.nextRotation)?h.rotation:h.nextRotation;s.nextExtent=nh(h.nextCenter,h.nextResolution,c,r)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o){var d=!this.previousExtent_||!Kh(this.previousExtent_)&&!Oo(s.extent,this.previousExtent_);d&&(this.dispatchEvent(new la(Hi.MOVESTART,this,o)),this.previousExtent_=Pl(this.previousExtent_))}var g=this.previousExtent_&&!s.viewHints[Ve.ANIMATING]&&!s.viewHints[Ve.INTERACTING]&&!Oo(s.extent,this.previousExtent_);g&&(this.dispatchEvent(new la(Hi.MOVEEND,this,s)),Hp(s.extent,this.previousExtent_))}this.dispatchEvent(new la(Hi.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Hi.LOADSTART)||this.hasListener(Hi.LOADEND)||this.hasListener(ar.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){i.postRenderTimeoutHandle_=void 0,i.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var i=this.getLayerGroup();i&&this.handleLayerRemove_(new Zi("removelayer",i)),this.set($e.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set($e.SIZE,t)},e.prototype.setTarget=function(t){this.set($e.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof tr){this.set($e.VIEW,t);return}this.set($e.VIEW,new tr);var i=this;t.then(function(r){i.setView(new tr(r))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),i=void 0;if(t){var r=getComputedStyle(t),a=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(a)&&!isNaN(o)&&(i=[a,o],!rd(i)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(i),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var i=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(i=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(i)}},e}(vi);function rE(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Li({layers:n.layers});t[$e.LAYERGROUP]=i,t[$e.TARGET]=n.target,t[$e.VIEW]=n.view instanceof tr?n.view:new tr;var r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new gn(n.controls.slice()):(Ht(typeof n.controls.getArray=="function",47),r=n.controls));var a;n.interactions!==void 0&&(Array.isArray(n.interactions)?a=new gn(n.interactions.slice()):(Ht(typeof n.interactions.getArray=="function",48),a=n.interactions));var o;return n.overlays!==void 0?Array.isArray(n.overlays)?o=new gn(n.overlays.slice()):(Ht(typeof n.overlays.getArray=="function",49),o=n.overlays):o=new gn,{controls:r,interactions:a,keyboardEventTarget:e,overlays:o,values:t}}var aE=iE,oE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sE=function(n){oE(e,n);function e(t){var i=n.call(this)||this,r=t.element;return r&&!t.target&&!r.style.pointerEvents&&(r.style.pointerEvents="auto"),i.element=r||null,i.target_=null,i.map_=null,i.listenerKeys=[],t.render&&(i.render=t.render),t.target&&i.setTarget(t.target),i}return e.prototype.disposeInternal=function(){uh(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&uh(this.element);for(var i=0,r=this.listenerKeys.length;i<r;++i)_e(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=t,t){var a=this.target_?this.target_:t.getOverlayContainerStopEvent();a.appendChild(this.element),this.render!==qr&&this.listenerKeys.push(Jt(t,Hi.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(vi),jl=sE,lE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uE=function(n){lE(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,i.ulElement_=document.createElement("ul"),i.collapsed_=r.collapsed!==void 0?r.collapsed:!0,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=r.collapsible!==void 0,i.collapsible_=r.collapsible!==void 0?r.collapsible:!0,i.collapsible_||(i.collapsed_=!1);var a=r.className!==void 0?r.className:"ol-attribution",o=r.tipLabel!==void 0?r.tipLabel:"Attributions",s=r.expandClassName!==void 0?r.expandClassName:a+"-expand",l=r.collapseLabel!==void 0?r.collapseLabel:"\u203A",h=r.collapseClassName!==void 0?r.collapseClassName:a+"-collapse";typeof l=="string"?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=l,i.collapseLabel_.className=h):i.collapseLabel_=l;var c=r.label!==void 0?r.label:"i";typeof c=="string"?(i.label_=document.createElement("span"),i.label_.textContent=c,i.label_.className=s):i.label_=c;var d=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_;i.toggleButton_=document.createElement("button"),i.toggleButton_.setAttribute("type","button"),i.toggleButton_.setAttribute("aria-expanded",String(!i.collapsed_)),i.toggleButton_.title=o,i.toggleButton_.appendChild(d),i.toggleButton_.addEventListener(jt.CLICK,i.handleClick_.bind(i),!1);var g=a+" "+Xo+" "+kl+(i.collapsed_&&i.collapsible_?" "+td:"")+(i.collapsible_?"":" ol-uncollapsible"),y=i.element;return y.className=g,y.appendChild(i.toggleButton_),y.appendChild(i.ulElement_),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return e.prototype.collectSourceAttributions_=function(t){for(var i={},r=[],a=!0,o=t.layerStatesArray,s=0,l=o.length;s<l;++s){var h=o[s];if(!!rl(h,t.viewState)){var c=h.layer.getSource();if(!!c){var d=c.getAttributions();if(!!d){var g=d(t);if(!!g)if(a=a&&c.getAttributionsCollapsible()!==!1,Array.isArray(g))for(var y=0,m=g.length;y<m;++y)g[y]in i||(r.push(g[y]),i[g[y]]=!0);else g in i||(r.push(g),i[g]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),r},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var i=this.collectSourceAttributions_(t),r=i.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Kr(i,this.renderedAttributions_)){Ix(this.ulElement_);for(var a=0,o=i.length;a<o;++a){var s=document.createElement("li");s.innerHTML=i[a],this.ulElement_.appendChild(s)}this.renderedAttributions_=i}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(td),this.collapsed_?al(this.collapseLabel_,this.label_):al(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(jl),hE=uE,fE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cE=function(n){fE(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var a=r.className!==void 0?r.className:"ol-rotate",o=r.label!==void 0?r.label:"\u21E7",s=r.compassClassName!==void 0?r.compassClassName:"ol-compass";i.label_=null,typeof o=="string"?(i.label_=document.createElement("span"),i.label_.className=s,i.label_.textContent=o):(i.label_=o,i.label_.classList.add(s));var l=r.tipLabel?r.tipLabel:"Reset rotation",h=document.createElement("button");h.className=a+"-reset",h.setAttribute("type","button"),h.title=l,h.appendChild(i.label_),h.addEventListener(jt.CLICK,i.handleClick_.bind(i),!1);var c=a+" "+Xo+" "+kl,d=i.element;return d.className=c,d.appendChild(h),i.callResetNorth_=r.resetNorth?r.resetNorth:void 0,i.duration_=r.duration!==void 0?r.duration:250,i.autoHide_=r.autoHide!==void 0?r.autoHide:!0,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(Cs),i}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),i=t.getView();if(!!i){var r=i.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?i.animate({rotation:0,duration:this.duration_,easing:$a}):i.setRotation(0))}},e.prototype.render=function(t){var i=t.frameState;if(!!i){var r=i.viewState.rotation;if(r!=this.rotation_){var a="rotate("+r+"rad)";if(this.autoHide_){var o=this.element.classList.contains(Cs);!o&&r===0?this.element.classList.add(Cs):o&&r!==0&&this.element.classList.remove(Cs)}this.label_.style.transform=a}this.rotation_=r}},e}(jl),dE=cE,pE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vE=function(n){pE(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),target:r.target})||this;var a=r.className!==void 0?r.className:"ol-zoom",o=r.delta!==void 0?r.delta:1,s=r.zoomInClassName!==void 0?r.zoomInClassName:a+"-in",l=r.zoomOutClassName!==void 0?r.zoomOutClassName:a+"-out",h=r.zoomInLabel!==void 0?r.zoomInLabel:"+",c=r.zoomOutLabel!==void 0?r.zoomOutLabel:"\u2013",d=r.zoomInTipLabel!==void 0?r.zoomInTipLabel:"Zoom in",g=r.zoomOutTipLabel!==void 0?r.zoomOutTipLabel:"Zoom out",y=document.createElement("button");y.className=s,y.setAttribute("type","button"),y.title=d,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(jt.CLICK,i.handleClick_.bind(i,o),!1);var m=document.createElement("button");m.className=l,m.setAttribute("type","button"),m.title=g,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(jt.CLICK,i.handleClick_.bind(i,-o),!1);var M=a+" "+Xo+" "+kl,w=i.element;return w.className=M,w.appendChild(y),w.appendChild(m),i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleClick_=function(t,i){i.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var i=this.getMap(),r=i.getView();if(!!r){var a=r.getZoom();if(a!==void 0){var o=r.getConstrainedZoom(a+t);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:o,duration:this.duration_,easing:$a})):r.setZoom(o)}}},e}(jl),gE=vE,_E=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ad=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],od={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},yE=function(n){_E(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),target:r.target})||this,i.on,i.once,i.un,i.keys_=r.keys!==void 0?r.keys:!1,i.source_=r.source,i.isInFullscreen_=!1,i.boundHandleMapTargetChange_=i.handleMapTargetChange_.bind(i),i.cssClassName_=r.className!==void 0?r.className:"ol-full-screen",i.documentListeners_=[],i.activeClassName_=r.activeClassName!==void 0?r.activeClassName.split(" "):[i.cssClassName_+"-true"],i.inactiveClassName_=r.inactiveClassName!==void 0?r.inactiveClassName.split(" "):[i.cssClassName_+"-false"];var a=r.label!==void 0?r.label:"\u2922";i.labelNode_=typeof a=="string"?document.createTextNode(a):a;var o=r.labelActive!==void 0?r.labelActive:"\xD7";i.labelActiveNode_=typeof o=="string"?document.createTextNode(o):o;var s=r.tipLabel?r.tipLabel:"Toggle full-screen";return i.button_=document.createElement("button"),i.button_.title=s,i.button_.setAttribute("type","button"),i.button_.appendChild(i.labelNode_),i.button_.addEventListener(jt.CLICK,i.handleClick_.bind(i),!1),i.setClassName_(i.button_,i.isInFullscreen_),i.element.className="".concat(i.cssClassName_," ").concat(Xo," ").concat(kl),i.element.appendChild(i.button_),i}return e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){var t=this.getMap();if(!!t){var i=t.getOwnerDocument();if(!!sd(i))if(ld(i))xE(i);else{var r=void 0;this.source_?r=typeof this.source_=="string"?i.getElementById(this.source_):this.source_:r=t.getTargetElement(),this.keys_?mE(r):Pv(r)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(!!t){var i=this.isInFullscreen_;this.isInFullscreen_=ld(t.getOwnerDocument()),i!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(al(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(od.ENTERFULLSCREEN)):(al(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(od.LEAVEFULLSCREEN)),t.updateSize())}},e.prototype.setClassName_=function(t,i){var r,a,o,s;i?((r=t.classList).remove.apply(r,this.inactiveClassName_),(a=t.classList).add.apply(a,this.activeClassName_)):((o=t.classList).remove.apply(o,this.activeClassName_),(s=t.classList).add.apply(s,this.inactiveClassName_))},e.prototype.setMap=function(t){var i=this.getMap();i&&i.removeChangeListener($e.TARGET,this.boundHandleMapTargetChange_),n.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener($e.TARGET,this.boundHandleMapTargetChange_)},e.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,i=0,r=t.length;i<r;++i)_e(t[i]);t.length=0;var a=this.getMap();if(a){var o=a.getOwnerDocument();sd(o)?this.element.classList.remove(Qc):this.element.classList.add(Qc);for(var i=0,r=ad.length;i<r;++i)t.push(Jt(o,ad[i],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},e}(jl);function sd(n){var e=n.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&n.msFullscreenEnabled||e.requestFullscreen&&n.fullscreenEnabled)}function ld(n){return!!(n.webkitIsFullScreen||n.msFullscreenElement||n.fullscreenElement)}function Pv(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function mE(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():Pv(n)}function xE(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}var EE=yE;function Av(n){var e=n||{},t=new gn,i=e.zoom!==void 0?e.zoom:!0;i&&t.push(new gE(e.zoomOptions));var r=e.rotate!==void 0?e.rotate:!0;r&&t.push(new dE(e.rotateOptions));var a=e.attribution!==void 0?e.attribution:!0;return a&&t.push(new hE(e.attributionOptions)),t}var ud={ACTIVE:"active"},ME=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),TE=function(n){ME(e,n);function e(t){var i=n.call(this)||this;return i.on,i.once,i.un,t&&t.handleEvent&&(i.handleEvent=t.handleEvent),i.map_=null,i.setActive(!0),i}return e.prototype.getActive=function(){return this.get(ud.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(ud.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(vi);function CE(n,e,t){var i=n.getCenterInternal();if(i){var r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:x1,center:n.getConstrainedCenter(r)})}}function df(n,e,t,i){var r=n.getZoom();if(r!==void 0){var a=n.getConstrainedZoom(r+e),o=n.getResolutionForZoom(a);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:t,duration:i!==void 0?i:250,easing:$a})}}var qo=TE,wE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SE=function(n){wE(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.delta_=r.delta?r.delta:1,i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleEvent=function(t){var i=!1;if(t.type==ge.DBLCLICK){var r=t.originalEvent,a=t.map,o=t.coordinate,s=r.shiftKey?-this.delta_:this.delta_,l=a.getView();df(l,s,o,this.duration_),r.preventDefault(),i=!0}return!i},e}(qo),RE=SE,OE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),IE=function(n){OE(e,n);function e(t){var i=this,r=t||{};return i=n.call(this,r)||this,r.handleDownEvent&&(i.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(i.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(i.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(i.handleUpEvent=r.handleUpEvent),r.stopDown&&(i.stopDown=r.stopDown),i.handlingDownUpSequence=!1,i.trackedPointers_={},i.targetPointers=[],i}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var i=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ge.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ge.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==ge.POINTERDOWN){var a=this.handleDownEvent(t);this.handlingDownUpSequence=a,i=this.stopDown(a)}else t.type==ge.POINTERMOVE&&this.handleMoveEvent(t);return!i},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(PE(t)){var i=t.originalEvent,r=i.pointerId.toString();t.type==ge.POINTERUP?delete this.trackedPointers_[r]:t.type==ge.POINTERDOWN?this.trackedPointers_[r]=i:r in this.trackedPointers_&&(this.trackedPointers_[r]=i),this.targetPointers=Up(this.trackedPointers_)}},e}(qo);function pf(n){for(var e=n.length,t=0,i=0,r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return[t/e,i/e]}function PE(n){var e=n.type;return e===ge.POINTERDOWN||e===ge.POINTERDRAG||e===ge.POINTERUP}var Ua=IE;function dh(n){var e=arguments;return function(t){for(var i=!0,r=0,a=e.length;r<a&&(i=i&&e[r](t),!!i);++r);return i}}var AE=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},bE=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},bv=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?bE(n):!0},LE=Ea,Lv=function(n){var e=n.originalEvent;return e.button==0&&!(T1&&C1&&e.ctrlKey)},Nv=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Fv=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Dv=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Ca=function(n){var e=n.originalEvent;return Ht(e!==void 0,56),e.pointerType=="mouse"},NE=function(n){var e=n.originalEvent;return Ht(e!==void 0,56),e.isPrimary&&e.button===0},FE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),DE=function(n){FE(e,n);function e(t){var i=n.call(this,{stopDown:Ol})||this,r=t||{};i.kinetic_=r.kinetic,i.lastCentroid=null,i.lastPointersCount_,i.panning_=!1;var a=r.condition?r.condition:dh(Nv,NE);return i.condition_=r.onFocusOnly?dh(bv,a):a,i.noKinetic_=!1,i}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var i=this.targetPointers,r=pf(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var a=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=t.map,s=o.getView();r1(a,s.getResolution()),Zh(a,s.getRotation()),s.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var i=t.map,r=i.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=r.getCenterInternal(),l=i.getPixelFromCoordinateInternal(s),h=i.getCoordinateFromPixelInternal([l[0]-a*Math.cos(o),l[1]-a*Math.sin(o)]);r.animateInternal({center:r.getConstrainedCenter(h),duration:500,easing:$a})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var i=t.map,r=i.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(Ua),GE=DE,kE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jE=function(n){kE(e,n);function e(t){var i=this,r=t||{};return i=n.call(this,{stopDown:Ol})||this,i.condition_=r.condition?r.condition:AE,i.lastAngle_=void 0,i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleDragEvent=function(t){if(!!Ca(t)){var i=t.map,r=i.getView();if(r.getConstraints().rotation!==rf){var a=i.getSize(),o=t.pixel,s=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){if(!Ca(t))return!0;var i=t.map,r=i.getView();return r.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Ca(t))return!1;if(Lv(t)&&this.condition_(t)){var i=t.map;return i.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(Ua),BE=jE,$E=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),UE=function(n){$E(e,n);function e(t){var i=n.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+t,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,i=this.endPixel_,r="px",a=this.element_.style;a.left=Math.min(t[0],i[0])+r,a.top=Math.min(t[1],i[1])+r,a.width=Math.abs(i[0]-t[0])+r,a.height=Math.abs(i[1]-t[1])+r},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var i=this.element_.style;i.left="inherit",i.top="inherit",i.width="inherit",i.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,i){this.startPixel_=t,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,i=this.endPixel_,r=[t,[t[0],i[1]],i,[i[0],t[1]]],a=r.map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new Ao([a])},e.prototype.getGeometry=function(){return this.geometry_},e}(zh),WE=UE,Gv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ss={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Mu=function(n){Gv(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.coordinate=i,a.mapBrowserEvent=r,a}return e}(Fi),zE=function(n){Gv(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un;var r=t||{};return i.box_=new WE(r.className||"ol-dragbox"),i.minArea_=r.minArea!==void 0?r.minArea:64,r.onBoxEnd&&(i.onBoxEnd=r.onBoxEnd),i.startPixel_=null,i.condition_=r.condition?r.condition:Lv,i.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:i.defaultBoxEndCondition,i}return e.prototype.defaultBoxEndCondition=function(t,i,r){var a=r[0]-i[0],o=r[1]-i[1];return a*a+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Mu(Ss.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var i=this.boxEndCondition_(t,this.startPixel_,t.pixel);return i&&this.onBoxEnd(t),this.dispatchEvent(new Mu(i?Ss.BOXEND:Ss.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Mu(Ss.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(Ua),XE=zE,qE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),YE=function(n){qE(e,n);function e(t){var i=this,r=t||{},a=r.condition?r.condition:Fv;return i=n.call(this,{condition:a,className:r.className||"ol-dragzoom",minArea:r.minArea})||this,i.duration_=r.duration!==void 0?r.duration:200,i.out_=r.out!==void 0?r.out:!1,i}return e.prototype.onBoxEnd=function(t){var i=this.getMap(),r=i.getView(),a=this.getGeometry();if(this.out_){var o=r.rotatedExtentForGeometry(a),s=r.getResolutionForExtentInternal(o),l=r.getResolution()/s;a=a.clone(),a.scale(l*l)}r.fitInternal(a,{duration:this.duration_,easing:$a})},e}(XE),HE=YE,Ir={LEFT:37,UP:38,RIGHT:39,DOWN:40},VE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),KE=function(n){VE(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.defaultCondition_=function(a){return Nv(a)&&Dv(a)},i.condition_=r.condition!==void 0?r.condition:i.defaultCondition_,i.duration_=r.duration!==void 0?r.duration:100,i.pixelDelta_=r.pixelDelta!==void 0?r.pixelDelta:128,i}return e.prototype.handleEvent=function(t){var i=!1;if(t.type==jt.KEYDOWN){var r=t.originalEvent,a=r.keyCode;if(this.condition_(t)&&(a==Ir.DOWN||a==Ir.LEFT||a==Ir.RIGHT||a==Ir.UP)){var o=t.map,s=o.getView(),l=s.getResolution()*this.pixelDelta_,h=0,c=0;a==Ir.DOWN?c=-l:a==Ir.LEFT?h=-l:a==Ir.RIGHT?h=l:c=l;var d=[h,c];Zh(d,s.getRotation()),CE(s,d,this.duration_),r.preventDefault(),i=!0}}return!i},e}(qo),ZE=KE,JE=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),QE=function(n){JE(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.condition_=r.condition?r.condition:Dv,i.delta_=r.delta?r.delta:1,i.duration_=r.duration!==void 0?r.duration:100,i}return e.prototype.handleEvent=function(t){var i=!1;if(t.type==jt.KEYDOWN||t.type==jt.KEYPRESS){var r=t.originalEvent,a=r.charCode;if(this.condition_(t)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var o=t.map,s=a=="+".charCodeAt(0)?this.delta_:-this.delta_,l=o.getView();df(l,s,void 0,this.duration_),r.preventDefault(),i=!0}}return!i},e}(qo),tM=QE,eM=function(){function n(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var i=t-3;i>0&&this.points_[i+2]>e;)i-=3;var r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;var a=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,a),this.initialVelocity_=Math.sqrt(a*a+o*o)/r,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),nM=eM,iM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tu={TRACKPAD:"trackpad",WHEEL:"wheel"},rM=function(n){iM(e,n);function e(t){var i=this,r=t||{};i=n.call(this,r)||this,i.totalDelta_=0,i.lastDelta_=0,i.maxDelta_=r.maxDelta!==void 0?r.maxDelta:1,i.duration_=r.duration!==void 0?r.duration:250,i.timeout_=r.timeout!==void 0?r.timeout:80,i.useAnchor_=r.useAnchor!==void 0?r.useAnchor:!0,i.constrainResolution_=r.constrainResolution!==void 0?r.constrainResolution:!1;var a=r.condition?r.condition:LE;return i.condition_=r.onFocusOnly?dh(bv,a):a,i.lastAnchor_=null,i.startTime_=void 0,i.timeoutId_,i.mode_=void 0,i.trackpadEventGap_=400,i.trackpadTimeoutId_,i.deltaPerZoom_=300,i}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var i=t.type;if(i!==jt.WHEEL)return!0;var r=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var o;if(t.type==jt.WHEEL&&(o=a.deltaY,E1&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=ov),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?Tu.TRACKPAD:Tu.WHEEL);var l=r.getView();if(this.mode_===Tu.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;var h=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),h),!1},e.prototype.handleWheelZoom_=function(t){var i=t.getView();i.getAnimating()&&i.cancelAnimations();var r=-Pe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),df(i,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(qo),aM=rM,oM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sM=function(n){oM(e,n);function e(t){var i=this,r=t||{},a=r;return a.stopDown||(a.stopDown=Ol),i=n.call(this,a)||this,i.anchor_=null,i.lastAngle_=void 0,i.rotating_=!1,i.rotationDelta_=0,i.threshold_=r.threshold!==void 0?r.threshold:.3,i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleDragEvent=function(t){var i=0,r=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-r.clientY,a.clientX-r.clientX);if(this.lastAngle_!==void 0){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=s}this.lastAngle_=o;var l=t.map,h=l.getView();if(h.getConstraints().rotation!==rf){var c=l.getViewport().getBoundingClientRect(),d=pf(this.targetPointers);d[0]-=c.left,d[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(d),this.rotating_&&(l.render(),h.adjustRotationInternal(i,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var i=t.map,r=i.getView();return r.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var i=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}else return!1},e}(Ua),lM=sM,uM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hM=function(n){uM(e,n);function e(t){var i=this,r=t||{},a=r;return a.stopDown||(a.stopDown=Ol),i=n.call(this,a)||this,i.anchor_=null,i.duration_=r.duration!==void 0?r.duration:400,i.lastDistance_=void 0,i.lastScaleDelta_=1,i}return e.prototype.handleDragEvent=function(t){var i=1,r=this.targetPointers[0],a=this.targetPointers[1],o=r.clientX-a.clientX,s=r.clientY-a.clientY,l=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(i=this.lastDistance_/l),this.lastDistance_=l;var h=t.map,c=h.getView();i!=1&&(this.lastScaleDelta_=i);var d=h.getViewport().getBoundingClientRect(),g=pf(this.targetPointers);g[0]-=d.left,g[1]-=d.top,this.anchor_=h.getCoordinateFromPixelInternal(g),h.render(),c.adjustResolutionInternal(i,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var i=t.map,r=i.getView(),a=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,a),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var i=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}else return!1},e}(Ua),fM=hM,ua={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},cM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dM=function(n){cM(e,n);function e(t){var i=this,r=t||{};return i=n.call(this,r)||this,i.condition_=r.condition?r.condition:Fv,i.lastAngle_=void 0,i.lastMagnitude_=void 0,i.lastScaleDelta_=0,i.duration_=r.duration!==void 0?r.duration:400,i}return e.prototype.handleDragEvent=function(t){if(!!Ca(t)){var i=t.map,r=i.getSize(),a=t.pixel,o=a[0]-r[0]/2,s=r[1]/2-a[1],l=Math.atan2(s,o),h=Math.sqrt(o*o+s*s),c=i.getView();if(this.lastAngle_!==void 0){var d=this.lastAngle_-l;c.adjustRotationInternal(d)}this.lastAngle_=l,this.lastMagnitude_!==void 0&&c.adjustResolutionInternal(this.lastMagnitude_/h),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},e.prototype.handleUpEvent=function(t){if(!Ca(t))return!0;var i=t.map,r=i.getView(),a=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,a),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return Ca(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},e}(Ua),pM=dM,vM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gM=function(n){vM(e,n);function e(t){var i=n.call(this)||this;if(i.on,i.once,i.un,i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addChangeListener(i.geometryName_,i.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var r=t;i.setGeometry(r)}else{var a=t;i.setProperties(a)}return i}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(_e(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Jt(t,jt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?_M(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(vi);function _M(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{Ht(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var yM=gM;function kv(n,e,t,i,r,a,o){var s,l,h=(t-e)/i;if(h===1)s=e;else if(h===2)s=e,l=r;else if(h!==0){for(var c=n[e],d=n[e+1],g=0,y=[0],m=e+i;m<t;m+=i){var M=n[m],w=n[m+1];g+=Math.sqrt((M-c)*(M-c)+(w-d)*(w-d)),y.push(g),c=M,d=w}var S=r*g,A=ym(y,S);A<0?(l=(S-y[-A-2])/(y[-A-1]-y[-A-2]),s=e+(-A-2)*i):s=e+A*i}for(var b=o>1?o:2,L=a||new Array(b),m=0;m<b;++m)L[m]=s===void 0?NaN:l===void 0?n[s+m]:Ri(n[s+m],n[s+i+m],l);return L}function ph(n,e,t,i,r,a){if(t==e)return null;var o;if(r<n[e+i-1])return a?(o=n.slice(e,e+i),o[i-1]=r,o):null;if(n[t-1]<r)return a?(o=n.slice(t-i,t),o[i-1]=r,o):null;if(r==n[e+i-1])return n.slice(e,e+i);for(var s=e/i,l=t/i;s<l;){var h=s+l>>1;r<n[(h+1)*i-1]?l=h:s=h+1}var c=n[s*i-1];if(r==c)return n.slice((s-1)*i,(s-1)*i+i);var d=n[(s+1)*i-1],g=(r-c)/(d-c);o=[];for(var y=0;y<i-1;++y)o.push(Ri(n[(s-1)*i+y],n[s*i+y],g));return o.push(r),o}function mM(n,e,t,i,r,a,o){if(o)return ph(n,e,t[t.length-1],i,r,a);var s;if(r<n[i-1])return a?(s=n.slice(0,i),s[i-1]=r,s):null;if(n[n.length-1]<r)return a?(s=n.slice(n.length-i),s[i-1]=r,s):null;for(var l=0,h=t.length;l<h;++l){var c=t[l];if(e!=c){if(r<n[e+i-1])return null;if(r<=n[c-1])return ph(n,e,c,i,r,!1);e=c}}return null}function jv(n,e,t,i){for(var r=n[e],a=n[e+1],o=0,s=e+i;s<t;s+=i){var l=n[s],h=n[s+1];o+=Math.sqrt((l-r)*(l-r)+(h-a)*(h-a)),r=l,a=h}return o}var xM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),EM=function(n){xM(e,n);function e(t,i){var r=n.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(i,t):r.setCoordinates(t,i),r}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?Gn(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){return a<Ba(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(of(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,i,r,a))},e.prototype.forEachSegment=function(t){return pv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,i){if(this.layout!=ye.XYM&&this.layout!=ye.XYZM)return null;var r=i!==void 0?i:!1;return ph(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return er(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,i){return kv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,this.stride)},e.prototype.getLength=function(){return jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=ff(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,ye.XY)},e.prototype.getType=function(){return Dt.LINE_STRING},e.prototype.intersectsExtent=function(t){return Dl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Fl(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr),vh=EM,MM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),TM=function(n){MM(e,n);function e(t,i,r){var a=n.call(this)||this;if(a.ends_=[],a.maxDelta_=-1,a.maxDeltaRevision_=-1,Array.isArray(t[0]))a.setCoordinates(t,i);else if(i!==void 0&&r)a.setFlatCoordinates(i,t),a.ends_=r;else{for(var o=a.getLayout(),s=t,l=[],h=[],c=0,d=s.length;c<d;++c){var g=s[c];c===0&&(o=g.getLayout()),Gn(l,g.getFlatCoordinates()),h.push(l.length)}a.setFlatCoordinates(o,l),a.ends_=h}return a}return e.prototype.appendLineString=function(t){this.flatCoordinates?Gn(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){return a<Ba(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sf(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),uf(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,i,r,a))},e.prototype.getCoordinateAtM=function(t,i,r){if(this.layout!=ye.XYM&&this.layout!=ye.XYZM||this.flatCoordinates.length===0)return null;var a=i!==void 0?i:!1,o=r!==void 0?r:!1;return mM(this.flatCoordinates,0,this.ends_,this.stride,t,a,o)},e.prototype.getCoordinates=function(){return Po(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new vh(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,i=this.ends_,r=this.layout,a=[],o=0,s=0,l=i.length;s<l;++s){var h=i[s],c=new vh(t.slice(o,h),r);a.push(c),o=h}return a},e.prototype.getFlatMidpoints=function(){for(var t=[],i=this.flatCoordinates,r=0,a=this.ends_,o=this.stride,s=0,l=a.length;s<l;++s){var h=a[s],c=kv(i,r,h,o,.5);Gn(t,c),r=h}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=W1(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,r),new e(i,ye.XY,r)},e.prototype.getType=function(){return Dt.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return tx(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=hf(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(Jr),CM=TM,wM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SM=function(n){wM(e,n);function e(t,i){var r=n.call(this)||this;return i&&!Array.isArray(t[0])?r.setFlatCoordinates(i,t):r.setCoordinates(t,i),r}return e.prototype.appendPoint=function(t){this.flatCoordinates?Gn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){if(a<Ba(this.getExtent(),t,i))return a;for(var o=this.flatCoordinates,s=this.stride,l=0,h=o.length;l<h;l+=s){var c=Ur(t,i,o[l],o[l+1]);if(c<a){a=c;for(var d=0;d<s;++d)r[d]=o[l+d];r.length=s}}return a},e.prototype.getCoordinates=function(){return er(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var i=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||i<=t?null:new el(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,i=this.layout,r=this.stride,a=[],o=0,s=t.length;o<s;o+=r){var l=new el(t.slice(o,o+r),i);a.push(l)}return a},e.prototype.getType=function(){return Dt.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var i=this.flatCoordinates,r=this.stride,a=0,o=i.length;a<o;a+=r){var s=i[a],l=i[a+1];if(Vh(t,s,l))return!0}return!1},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Fl(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr),Bv=SM;function RM(n,e,t,i){for(var r=[],a=kn(),o=0,s=t.length;o<s;++o){var l=t[o];a=Vp(n,e,l[0],i),r.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=l[l.length-1]}return r}var OM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),IM=function(n){OM(e,n);function e(t,i,r){var a=n.call(this)||this;if(a.endss_=[],a.flatInteriorPointsRevision_=-1,a.flatInteriorPoints_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){for(var o=a.getLayout(),s=t,l=[],h=[],c=0,d=s.length;c<d;++c){var g=s[c];c===0&&(o=g.getLayout());for(var y=l.length,m=g.getEnds(),M=0,w=m.length;M<w;++M)m[M]+=y;Gn(l,g.getFlatCoordinates()),h.push(m)}i=o,t=l,r=h}return i!==void 0&&r?(a.setFlatCoordinates(i,t),a.endss_=r):a.setCoordinates(t,i),a}return e.prototype.appendPolygon=function(t){var i;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),i=t.getEnds().slice(),this.endss_.push();else{var r=this.flatCoordinates.length;Gn(this.flatCoordinates,t.getFlatCoordinates()),i=t.getEnds().slice();for(var a=0,o=i.length;a<o;++a)i[a]+=r}this.endss_.push(i),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),r=0;r<t;++r)i[r]=this.endss_[r].slice();var a=new e(this.flatCoordinates.slice(),this.layout,i);return a.applyProperties(this),a},e.prototype.closestPointXY=function(t,i,r,a){return a<Ba(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(j1(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),B1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,i,r,a))},e.prototype.containsXY=function(t,i){return J1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,i)},e.prototype.getArea=function(){return q1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var i;return t!==void 0?(i=this.getOrientedFlatCoordinates().slice(),Vc(i,0,this.endss_,this.stride,t)):i=this.flatCoordinates,oh(i,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=RM(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Q1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Bv(this.getFlatInteriorPoints().slice(),ye.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;rx(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Vc(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=X1(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,r),new e(i,ye.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var i;if(t===0)i=0;else{var r=this.endss_[t-1];i=r[r.length-1]}var a=this.endss_[t].slice(),o=a[a.length-1];if(i!==0)for(var s=0,l=a.length;s<l;++s)a[s]-=i;return new Ao(this.flatCoordinates.slice(i,o),this.layout,a)},e.prototype.getPolygons=function(){for(var t=this.layout,i=this.flatCoordinates,r=this.endss_,a=[],o=0,s=0,l=r.length;s<l;++s){var h=r[s].slice(),c=h[h.length-1];if(o!==0)for(var d=0,g=h.length;d<g;++d)h[d]-=o;var y=new Ao(i.slice(o,c),t,h);a.push(y),o=c}return a},e.prototype.getType=function(){return Dt.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return nx(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=U1(this.flatCoordinates,0,t,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{var a=r[r.length-1];this.flatCoordinates.length=a.length===0?0:a[a.length-1]}this.changed()},e}(Jr),PM=IM;function AM(n,e,t,i,r){$v(n,e,t||0,i||n.length-1,r||bM)}function $v(n,e,t,i,r){for(;i>t;){if(i-t>600){var a=i-t+1,o=e-t+1,s=Math.log(a),l=.5*Math.exp(2*s/3),h=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1),c=Math.max(t,Math.floor(e-o*l/a+h)),d=Math.min(i,Math.floor(e+(a-o)*l/a+h));$v(n,e,c,d,r)}var g=n[e],y=t,m=i;for(no(n,t,e),r(n[i],g)>0&&no(n,t,i);y<m;){for(no(n,y,m),y++,m--;r(n[y],g)<0;)y++;for(;r(n[m],g)>0;)m--}r(n[t],g)===0?no(n,t,m):(m++,no(n,m,i)),m<=e&&(t=m+1),e<=m&&(i=m-1)}}function no(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function bM(n,e){return n<e?-1:n>e?1:0}class Uv{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Os(e,t))return i;const r=this.toBBox,a=[];for(;t;){for(let o=0;o<t.children.length;o++){const s=t.children[o],l=t.leaf?r(s):s;Os(e,l)&&(t.leaf?i.push(s):wu(e,l)?this._all(s,i):a.push(s))}t=a.pop()}return i}collides(e){let t=this.data;if(!Os(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const a=t.children[r],o=t.leaf?this.toBBox(a):a;if(Os(e,o)){if(t.leaf||wu(e,o))return!0;i.push(a)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ha([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),a=[],o=[];let s,l,h;for(;i||a.length;){if(i||(i=a.pop(),l=a[a.length-1],s=o.pop(),h=!0),i.leaf){const c=LM(e,i.children,t);if(c!==-1)return i.children.splice(c,1),a.push(i),this._condense(a),this}!h&&!i.leaf&&wu(i,r)?(a.push(i),o.push(s),s=0,l=i,i=i.children[0]):l?(s++,i=l.children[s],h=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const a=i-t+1;let o=this._maxEntries,s;if(a<=o)return s=ha(e.slice(t,i+1)),ea(s,this.toBBox),s;r||(r=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,r-1))),s=ha([]),s.leaf=!1,s.height=r;const l=Math.ceil(a/o),h=l*Math.ceil(Math.sqrt(o));hd(e,t,i,h,this.compareMinX);for(let c=t;c<=i;c+=h){const d=Math.min(c+h-1,i);hd(e,c,d,l,this.compareMinY);for(let g=c;g<=d;g+=l){const y=Math.min(g+l-1,d);s.children.push(this._build(e,g,y,r-1))}}return ea(s,this.toBBox),s}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let a=1/0,o=1/0,s;for(let l=0;l<t.children.length;l++){const h=t.children[l],c=Cu(h),d=DM(e,h)-c;d<o?(o=d,a=c<a?c:a,s=h):d===o&&c<a&&(a=c,s=h)}t=s||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),a=[],o=this._chooseSubtree(r,this.data,t,a);for(o.children.push(e),uo(o,r);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(r,a,t)}_split(e,t){const i=e[t],r=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,r);const o=this._chooseSplitIndex(i,a,r),s=ha(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,ea(i,this.toBBox),ea(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)}_splitRoot(e,t){this.data=ha([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ea(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,a=1/0,o=1/0;for(let s=t;s<=i-t;s++){const l=lo(e,0,s,this.toBBox),h=lo(e,s,i,this.toBBox),c=GM(l,h),d=Cu(l)+Cu(h);c<a?(a=c,r=s,o=d<o?d:o):c===a&&d<o&&(o=d,r=s)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:NM,a=e.leaf?this.compareMinY:FM,o=this._allDistMargin(e,t,i,r),s=this._allDistMargin(e,t,i,a);o<s&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const a=this.toBBox,o=lo(e,0,t,a),s=lo(e,i-t,i,a);let l=Rs(o)+Rs(s);for(let h=t;h<i-t;h++){const c=e.children[h];uo(o,e.leaf?a(c):c),l+=Rs(o)}for(let h=i-t-1;h>=t;h--){const c=e.children[h];uo(s,e.leaf?a(c):c),l+=Rs(s)}return l}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)uo(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():ea(e[t],this.toBBox)}}function LM(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function ea(n,e){lo(n,0,n.children.length,e,n)}function lo(n,e,t,i,r){r||(r=ha(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let a=e;a<t;a++){const o=n.children[a];uo(r,n.leaf?i(o):o)}return r}function uo(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function NM(n,e){return n.minX-e.minX}function FM(n,e){return n.minY-e.minY}function Cu(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Rs(n){return n.maxX-n.minX+(n.maxY-n.minY)}function DM(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function GM(n,e){const t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),a=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,a-i)}function wu(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Os(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function ha(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hd(n,e,t,i,r){const a=[e,t];for(;a.length;){if(t=a.pop(),e=a.pop(),t-e<=i)continue;const o=e+Math.ceil((t-e)/i/2)*i;AM(n,o,e,t,r),a.push(e,o,o,t)}}var ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},kM=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Yn(e.scale),this.displacement_=e.displacement}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Nt()},n.prototype.getImage=function(e){return Nt()},n.prototype.getHitDetectionImage=function(){return Nt()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return Nt()},n.prototype.getImageSize=function(){return Nt()},n.prototype.getOrigin=function(){return Nt()},n.prototype.getSize=function(){return Nt()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Yn(e)},n.prototype.listenImageChange=function(e){Nt()},n.prototype.load=function(){Nt()},n.prototype.unlistenImageChange=function(e){Nt()},n}(),Wv=kM;function si(n){return Array.isArray(n)?mv(n):n}var jM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),BM=function(n){jM(e,n);function e(t){var i=this,r=t.rotateWithView!==void 0?t.rotateWithView:!1;return i=n.call(this,{opacity:1,rotateWithView:r,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,i.canvas_=void 0,i.hitDetectionCanvas_=null,i.fill_=t.fill!==void 0?t.fill:null,i.origin_=[0,0],i.points_=t.points,i.radius_=t.radius!==void 0?t.radius:t.radius1,i.radius2_=t.radius2,i.angle_=t.angle!==void 0?t.angle:0,i.stroke_=t.stroke!==void 0?t.stroke:null,i.size_=null,i.renderOptions_=null,i.render(),i}return e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var i=this.getDisplacement();return[t[0]/2-i[0],t[1]/2+i[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var i=this.canvas_[t];if(!i){var r=this.renderOptions_,a=jn(r.size*t,r.size*t);this.draw_(r,a,t),i=a.canvas,this.canvas_[t]=i}return i},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return ve.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,i,r){if(i===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return i;var a=this.radius_,o=this.radius2_===void 0?a:this.radius2_;if(a<o){var s=a;a=o,o=s}var l=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/l,c=o*Math.sin(h),d=Math.sqrt(o*o-c*c),g=a-d,y=Math.sqrt(c*c+g*g),m=y/c;if(t==="miter"&&m<=r)return m*i;var M=i/2/m,w=i/2*(g/y),S=Math.sqrt((a+M)*(a+M)+w*w),A=S-a;if(this.radius2_===void 0||t==="bevel")return A*2;var b=a*Math.sin(h),L=Math.sqrt(a*a-b*b),j=o-L,v=Math.sqrt(b*b+j*j),H=v/b;if(H<=r){var $=H*i/2-o-a;return 2*Math.max(A,$)}return A*2},e.prototype.createRenderOptions=function(){var t=Aa,i=0,r=null,a=0,o,s=0;this.stroke_&&(o=this.stroke_.getColor(),o===null&&(o=Fo),o=si(o),s=this.stroke_.getWidth(),s===void 0&&(s=Go),r=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Aa),i=this.stroke_.getMiterLimit(),i===void 0&&(i=No));var l=this.calculateLineJoinSize_(t,s,i),h=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*h+l);return{strokeStyle:o,strokeWidth:s,size:c,lineDash:r,lineDashOffset:a,lineJoin:t,miterLimit:i}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,i,r){if(i.scale(r,r),i.translate(t.size/2,t.size/2),this.createPath_(i),this.fill_){var a=this.fill_.getColor();a===null&&(a=Pi),i.fillStyle=si(a),i.fill()}this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,i.setLineDash&&t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var i=this.fill_.getColor(),r=0;if(typeof i=="string"&&(i=nl(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0){var a=jn(t.size,t.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(t,a)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var i=this.points_,r=this.radius_;if(i===1/0)t.arc(0,0,r,0,2*Math.PI);else{var a=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(i*=2);for(var o=this.angle_-Math.PI/2,s=2*Math.PI/i,l=0;l<i;l++){var h=o+l*s,c=l%2===0?r:a;t.lineTo(c*Math.cos(h),c*Math.sin(h))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,i){i.translate(t.size/2,t.size/2),this.createPath_(i),i.fillStyle=Pi,i.fill(),this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())},e}(Wv),$M=BM,UM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),WM=function(n){UM(e,n);function e(t){var i=t||{};return n.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}($M),zM=WM,XM=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),qM=XM,YM=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),HM=YM,VM=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=fd,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=fd,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function KM(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{Ht(typeof n.getZIndex=="function",41);var i=n;t=[i]}e=function(){return t}}return e}var Su=null;function ZM(n,e){if(!Su){var t=new qM({color:"rgba(255,255,255,0.4)"}),i=new HM({color:"#3399CC",width:1.25});Su=[new VM({image:new zM({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return Su}function fd(n){return n.getGeometry()}var JM=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cd={RENDER_ORDER:"renderOrder"},QM=function(n){JM(e,n);function e(t){var i=this,r=t||{},a=Ie({},r);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,i=n.call(this,a)||this,i.declutter_=r.declutter!==void 0?r.declutter:!1,i.renderBuffer_=r.renderBuffer!==void 0?r.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(r.style),i.updateWhileAnimating_=r.updateWhileAnimating!==void 0?r.updateWhileAnimating:!1,i.updateWhileInteracting_=r.updateWhileInteracting!==void 0?r.updateWhileInteracting:!1,i}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(cd.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Uv(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(cd.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:ZM,this.styleFunction_=t===null?void 0:KM(this.style_),this.changed()},e}(Gl),tT=QM,Yo={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Is=[Yo.FILL],nr=[Yo.STROKE],jr=[Yo.BEGIN_PATH],dd=[Yo.CLOSE_PATH],It=Yo,eT=function(){function n(){}return n.prototype.drawCustom=function(e,t,i,r){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),zv=eT,nT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),iT=function(n){nT(e,n);function e(t,i,r,a){var o=n.call(this)||this;return o.tolerance=t,o.maxExtent=i,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return e.prototype.applyPixelRatio=function(t){var i=this.pixelRatio;return i==1?t:t.map(function(r){return r*i})},e.prototype.appendFlatPointCoordinates=function(t,i){for(var r=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates,s=o.length,l=0,h=t.length;l<h;l+=i)a[0]=t[l],a[1]=t[l+1],zo(r,a)&&(o[s++]=a[0],o[s++]=a[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,i,r,a,o,s){var l=this.coordinates,h=l.length,c=this.getBufferedMaxExtent();s&&(i+=a);var d=t[i],g=t[i+1],y=this.tmpCoordinate_,m=!0,M,w,S;for(M=i+a;M<r;M+=a)y[0]=t[M],y[1]=t[M+1],S=th(c,y),S!==w?(m&&(l[h++]=d,l[h++]=g,m=!1),l[h++]=y[0],l[h++]=y[1]):S===Ue.INTERSECTING?(l[h++]=y[0],l[h++]=y[1],m=!1):m=!0,d=y[0],g=y[1],w=S;return(o&&m||M===i+a)&&(l[h++]=d,l[h++]=g),h},e.prototype.drawCustomCoordinates_=function(t,i,r,a,o){for(var s=0,l=r.length;s<l;++s){var h=r[s],c=this.appendFlatLineCoordinates(t,i,h,a,!1,!1);o.push(c),i=h}return i},e.prototype.drawCustom=function(t,i,r,a){this.beginGeometry(t,i);var o=t.getType(),s=t.getStride(),l=this.coordinates.length,h,c,d,g,y;switch(o){case Dt.MULTI_POLYGON:h=t.getOrientedFlatCoordinates(),g=[];var m=t.getEndss();y=0;for(var M=0,w=m.length;M<w;++M){var S=[];y=this.drawCustomCoordinates_(h,y,m[M],s,S),g.push(S)}this.instructions.push([It.CUSTOM,l,g,t,r,oh]),this.hitDetectionInstructions.push([It.CUSTOM,l,g,t,a||r,oh]);break;case Dt.POLYGON:case Dt.MULTI_LINE_STRING:d=[],h=o==Dt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),y=this.drawCustomCoordinates_(h,0,t.getEnds(),s,d),this.instructions.push([It.CUSTOM,l,d,t,r,Po]),this.hitDetectionInstructions.push([It.CUSTOM,l,d,t,a||r,Po]);break;case Dt.LINE_STRING:case Dt.CIRCLE:h=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(h,0,h.length,s,!1,!1),this.instructions.push([It.CUSTOM,l,c,t,r,er]),this.hitDetectionInstructions.push([It.CUSTOM,l,c,t,a||r,er]);break;case Dt.MULTI_POINT:h=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(h,s),c>l&&(this.instructions.push([It.CUSTOM,l,c,t,r,er]),this.hitDetectionInstructions.push([It.CUSTOM,l,c,t,a||r,er]));break;case Dt.POINT:h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),c=this.coordinates.length,this.instructions.push([It.CUSTOM,l,c,t,r]),this.hitDetectionInstructions.push([It.CUSTOM,l,c,t,a||r]);break}this.endGeometry(i)},e.prototype.beginGeometry=function(t,i){this.beginGeometryInstruction1_=[It.BEGIN_GEOMETRY,i,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[It.BEGIN_GEOMETRY,i,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var i,r=t.length,a,o,s=-1;for(i=0;i<r;++i)a=t[i],o=a[0],o==It.END_GEOMETRY?s=i:o==It.BEGIN_GEOMETRY&&(a[2]=i,xm(this.hitDetectionInstructions,s,i),s=-1)},e.prototype.setFillStrokeStyle=function(t,i){var r=this.state;if(t){var a=t.getColor();r.fillStyle=si(a||Pi)}else r.fillStyle=void 0;if(i){var o=i.getColor();r.strokeStyle=si(o||Fo);var s=i.getLineCap();r.lineCap=s!==void 0?s:ol;var l=i.getLineDash();r.lineDash=l?l.slice():bo;var h=i.getLineDashOffset();r.lineDashOffset=h||Lo;var c=i.getLineJoin();r.lineJoin=c!==void 0?c:Aa;var d=i.getWidth();r.lineWidth=d!==void 0?d:Go;var g=i.getMiterLimit();r.miterLimit=g!==void 0?g:No,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t){var i=t.fillStyle,r=[It.SET_FILL_STYLE,i];return typeof i!="string"&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[It.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,i){var r=t.fillStyle;(typeof r!="string"||t.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(i.call(this,t)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,i){var r=t.strokeStyle,a=t.lineCap,o=t.lineDash,s=t.lineDashOffset,l=t.lineJoin,h=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=a||o!=t.currentLineDash&&!Kr(t.currentLineDash,o)||t.currentLineDashOffset!=s||t.currentLineJoin!=l||t.currentLineWidth!=h||t.currentMiterLimit!=c)&&(r!==void 0&&i.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=a,t.currentLineDash=o,t.currentLineDashOffset=s,t.currentLineJoin=l,t.currentLineWidth=h,t.currentMiterLimit=c)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[It.END_GEOMETRY,t];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Hp(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Hh(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(zv),Ho=iT,rT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),aT=function(n){rT(e,n);function e(t,i,r,a){var o=n.call(this,t,i,r,a)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return e.prototype.drawPoint=function(t,i){if(!!this.image_){this.beginGeometry(t,i);var r=t.getFlatCoordinates(),a=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,a);this.instructions.push([It.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([It.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(i)}},e.prototype.drawMultiPoint=function(t,i){if(!!this.image_){this.beginGeometry(t,i);var r=t.getFlatCoordinates(),a=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,a);this.instructions.push([It.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([It.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(i)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,i){var r=t.getAnchor(),a=t.getSize(),o=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=o,this.image_=s,this.height_=a[1],this.opacity_=t.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=i},e}(Ho),oT=aT,sT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lT=function(n){sT(e,n);function e(t,i,r,a){return n.call(this,t,i,r,a)||this}return e.prototype.drawFlatCoordinates_=function(t,i,r,a){var o=this.coordinates.length,s=this.appendFlatLineCoordinates(t,i,r,a,!1,!1),l=[It.MOVE_TO_LINE_TO,o,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r},e.prototype.drawLineString=function(t,i){var r=this.state,a=r.strokeStyle,o=r.lineWidth;if(!(a===void 0||o===void 0)){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,i),this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,bo,Lo],jr);var s=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(nr),this.endGeometry(i)}},e.prototype.drawMultiLineString=function(t,i){var r=this.state,a=r.strokeStyle,o=r.lineWidth;if(!(a===void 0||o===void 0)){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,i),this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],jr);for(var s=t.getEnds(),l=t.getFlatCoordinates(),h=t.getStride(),c=0,d=0,g=s.length;d<g;++d)c=this.drawFlatCoordinates_(l,c,s[d],h);this.hitDetectionInstructions.push(nr),this.endGeometry(i)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(nr),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(nr),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(jr)},e}(Ho),uT=lT,hT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fT=function(n){hT(e,n);function e(t,i,r,a){return n.call(this,t,i,r,a)||this}return e.prototype.drawFlatCoordinatess_=function(t,i,r,a){var o=this.state,s=o.fillStyle!==void 0,l=o.strokeStyle!==void 0,h=r.length;this.instructions.push(jr),this.hitDetectionInstructions.push(jr);for(var c=0;c<h;++c){var d=r[c],g=this.coordinates.length,y=this.appendFlatLineCoordinates(t,i,d,a,!0,!l),m=[It.MOVE_TO_LINE_TO,g,y];this.instructions.push(m),this.hitDetectionInstructions.push(m),l&&(this.instructions.push(dd),this.hitDetectionInstructions.push(dd)),i=d}return s&&(this.instructions.push(Is),this.hitDetectionInstructions.push(Is)),l&&(this.instructions.push(nr),this.hitDetectionInstructions.push(nr)),i},e.prototype.drawCircle=function(t,i){var r=this.state,a=r.fillStyle,o=r.strokeStyle;if(!(a===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Pi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var s=t.getFlatCoordinates(),l=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var c=[It.CIRCLE,h];this.instructions.push(jr,c),this.hitDetectionInstructions.push(jr,c),r.fillStyle!==void 0&&(this.instructions.push(Is),this.hitDetectionInstructions.push(Is)),r.strokeStyle!==void 0&&(this.instructions.push(nr),this.hitDetectionInstructions.push(nr)),this.endGeometry(i)}},e.prototype.drawPolygon=function(t,i){var r=this.state,a=r.fillStyle,o=r.strokeStyle;if(!(a===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Pi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var s=t.getEnds(),l=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(l,0,s,h),this.endGeometry(i)}},e.prototype.drawMultiPolygon=function(t,i){var r=this.state,a=r.fillStyle,o=r.strokeStyle;if(!(a===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_FILL_STYLE,Pi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([It.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var s=t.getEndss(),l=t.getOrientedFlatCoordinates(),h=t.getStride(),c=0,d=0,g=s.length;d<g;++d)c=this.drawFlatCoordinatess_(l,c,s[d],h);this.endGeometry(i)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var i=this.coordinates,r=0,a=i.length;r<a;++r)i[r]=br(i[r],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,i=t.fillStyle;i!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(Ho),pd=fT,cT={POINT:"point",LINE:"line"};function dT(n,e,t,i,r){var a=t,o=t,s=0,l=0,h=t,c,d,g,y,m,M,w,S,A,b;for(d=t;d<i;d+=r){var L=e[d],j=e[d+1];m!==void 0&&(A=L-m,b=j-M,y=Math.sqrt(A*A+b*b),w!==void 0&&(l+=g,c=Math.acos((w*A+S*b)/(g*y)),c>n&&(l>s&&(s=l,a=h,o=d),l=0,h=d-r)),g=y,w=A,S=b),m=L,M=j}return l+=y,l>s?[h,d]:[a,o]}var pT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},vT=function(n){pT(e,n);function e(t,i,r,a){var o=n.call(this,t,i,r,a)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,i){var r=this.textFillState_,a=this.textStrokeState_,o=this.textState_;if(!(this.text_===""||!o||!r&&!a)){var s=this.coordinates,l=s.length,h=t.getType(),c=null,d=t.getStride();if(o.placement===cT.LINE&&(h==Dt.LINE_STRING||h==Dt.MULTI_LINE_STRING||h==Dt.POLYGON||h==Dt.MULTI_POLYGON)){if(!pn(this.getBufferedMaxExtent(),t.getExtent()))return;var g=void 0;if(c=t.getFlatCoordinates(),h==Dt.LINE_STRING)g=[c.length];else if(h==Dt.MULTI_LINE_STRING)g=t.getEnds();else if(h==Dt.POLYGON)g=t.getEnds().slice(0,1);else if(h==Dt.MULTI_POLYGON){var y=t.getEndss();g=[];for(var m=0,M=y.length;m<M;++m)g.push(y[m][0])}this.beginGeometry(t,i);for(var w=o.textAlign,S=0,A=void 0,b=0,L=g.length;b<L;++b){if(w==null){var j=dT(o.maxAngle,c,S,g[b],d);S=j[0],A=j[1]}else A=g[b];for(var m=S;m<A;m+=d)s.push(c[m],c[m+1]);var v=s.length;S=g[b],this.drawChars_(l,v),l=v}this.endGeometry(i)}else{var H=o.overflow?null:[];switch(h){case Dt.POINT:case Dt.MULTI_POINT:c=t.getFlatCoordinates();break;case Dt.LINE_STRING:c=t.getFlatMidpoint();break;case Dt.CIRCLE:c=t.getCenter();break;case Dt.MULTI_LINE_STRING:c=t.getFlatMidpoints(),d=2;break;case Dt.POLYGON:c=t.getFlatInteriorPoint(),o.overflow||H.push(c[2]/this.resolution),d=3;break;case Dt.MULTI_POLYGON:var $=t.getFlatInteriorPoints();c=[];for(var m=0,M=$.length;m<M;m+=3)o.overflow||H.push($[m+2]/this.resolution),c.push($[m],$[m+1]);if(c.length===0)return;d=2;break}var v=this.appendFlatPointCoordinates(c,d);if(v===l)return;if(H&&(v-l)/2!==c.length/d){var V=l/2;H=H.filter(function(_t,Rt){var Wt=s[(V+Rt)*2]===c[Rt*d]&&s[(V+Rt)*2+1]===c[Rt*d+1];return Wt||--V,Wt})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,i);var rt=o.padding;if(rt!=kr&&(o.scale[0]<0||o.scale[1]<0)){var ct=o.padding[0],at=o.padding[1],yt=o.padding[2],bt=o.padding[3];o.scale[0]<0&&(at=-at,bt=-bt),o.scale[1]<0&&(ct=-ct,yt=-yt),rt=[ct,at,yt,bt]}var mt=this.pixelRatio;this.instructions.push([It.DRAW_IMAGE,l,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,rt==kr?kr:rt.map(function(_t){return _t*mt}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,H]);var vt=1/mt;this.hitDetectionInstructions.push([It.DRAW_IMAGE,l,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[vt,vt],NaN,this.declutterImageWithText_,rt,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,H]),this.endGeometry(i)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,i=this.textState_,r=this.textFillState_,a=this.strokeKey_;t&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:i.font,textAlign:i.textAlign||Do,textBaseline:i.textBaseline||sl,scale:i.scale});var s=this.fillKey_;r&&(s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle}))},e.prototype.drawChars_=function(t,i){var r=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,c=hl[a.textBaseline],d=this.textOffsetY_*h,g=this.text_,y=r?r.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([It.DRAW_CHARS,t,i,c,a.overflow,l,a.maxAngle,h,d,o,y*h,g,s,1]),this.hitDetectionInstructions.push([It.DRAW_CHARS,t,i,c,a.overflow,l,a.maxAngle,1,d,o,y,g,s,1/h])},e.prototype.setTextStyle=function(t,i){var r,a,o;if(!t)this.text_="";else{var s=t.getFill();s?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=si(s.getColor()||Pi)):(a=null,this.textFillState_=a);var l=t.getStroke();if(!l)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);var h=l.getLineDash(),c=l.getLineDashOffset(),d=l.getWidth(),g=l.getMiterLimit();o.lineCap=l.getLineCap()||ol,o.lineDash=h?h.slice():bo,o.lineDashOffset=c===void 0?Lo:c,o.lineJoin=l.getLineJoin()||Aa,o.lineWidth=d===void 0?Go:d,o.miterLimit=g===void 0?No:g,o.strokeStyle=si(l.getColor()||Fo)}r=this.textState_;var y=t.getFont()||Cv;bx(y);var m=t.getScaleArray();r.overflow=t.getOverflow(),r.font=y,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||sl,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||kr,r.scale=m===void 0?[1,1]:m;var M=t.getOffsetX(),w=t.getOffsetY(),S=t.getRotateWithView(),A=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=M===void 0?0:M,this.textOffsetY_=w===void 0?0:w,this.textRotateWithView_=S===void 0?!1:S,this.textRotation_=A===void 0?0:A,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:te(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=a?typeof a.fillStyle=="string"?a.fillStyle:"|"+te(a.fillStyle):""}this.declutterImageWithText_=i},e}(Ho),gT=vT,_T={Circle:pd,Default:Ho,Image:oT,LineString:uT,Polygon:pd,Text:gT},yT=function(){function n(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var i=this.buildersByZIndex_[t];for(var r in i){var a=i[r].finish();e[t][r]=a}}return e},n.prototype.getBuilder=function(e,t){var i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);var a=r[t];if(a===void 0){var o=_T[t];a=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=a}return a},n}(),vd=yT,mT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xT=function(n){mT(e,n);function e(t){var i=n.call(this)||this;return i.ready=!0,i.boundHandleImageChange_=i.handleImageChange_.bind(i),i.layer_=t,i.declutterExecutorGroup=null,i}return e.prototype.getFeatures=function(t){return Nt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Nt()},e.prototype.renderFrame=function(t,i){return Nt()},e.prototype.loadedTileCallback=function(t,i,r){t[i]||(t[i]={}),t[i][r.tileCoord.toString()]=r},e.prototype.createLoadedTileFinder=function(t,i,r){return function(a,o){var s=this.loadedTileCallback.bind(this,r,a);return t.forEachLoadedTile(i,a,o,s)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,i,r,a,o){},e.prototype.getDataAtPixel=function(t,i,r){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var i=t.target;i.getState()===ve.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var i=t.getState();return i!=ve.LOADED&&i!=ve.ERROR&&t.addEventListener(jt.CHANGE,this.boundHandleImageChange_),i==ve.IDLE&&(t.load(),i=t.getState()),i==ve.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Yr.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(Wp),ET=xT,MT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ho=null;function TT(){var n=document.createElement("canvas");n.width=1,n.height=1,ho=n.getContext("2d")}var CT=function(n){MT(e,n);function e(t){var i=n.call(this,t)||this;return i.container=null,i.renderedResolution,i.tempTransform=hi(),i.pixelTransform=hi(),i.inversePixelTransform=hi(),i.context=null,i.containerReused=!1,i.pixelContext_=null,i.frameState=null,i}return e.prototype.getImageData=function(t,i,r){ho||TT(),ho.clearRect(0,0,1,1);var a;try{ho.drawImage(t,i,r,1,1,0,0,1,1),a=ho.getImageData(0,0,1,1).data}catch{return null}return a},e.prototype.getBackground=function(t){var i=this.getLayer(),r=i.getBackground();return typeof r=="function"&&(r=r(t.viewState.resolution)),r||void 0},e.prototype.useContainer=function(t,i,r,a){var o=this.getLayer().getClassName(),s,l;if(t&&t.className===o&&t.style.opacity===""&&r===1&&(!a||t.style.backgroundColor&&Kr(nl(t.style.backgroundColor),nl(a)))){var h=t.firstElementChild;h instanceof HTMLCanvasElement&&(l=h.getContext("2d"))}if(l&&l.canvas.style.transform===i?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=o;var c=s.style;c.position="absolute",c.width="100%",c.height="100%",a&&(c.backgroundColor=a),l=jn();var h=l.canvas;s.appendChild(h),c=h.style,c.position="absolute",c.left="0",c.transformOrigin="top left",this.container=s,this.context=l}},e.prototype.clipUnrotated=function(t,i,r){var a=Zr(r),o=Ll(r),s=bl(r),l=Al(r);Ne(i.coordinateToPixelTransform,a),Ne(i.coordinateToPixelTransform,o),Ne(i.coordinateToPixelTransform,s),Ne(i.coordinateToPixelTransform,l);var h=this.inversePixelTransform;Ne(h,a),Ne(h,o),Ne(h,s),Ne(h,l),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,i,r){var a=this.getLayer();if(a.hasListener(t)){var o=new Ev(t,this.inversePixelTransform,r,i);a.dispatchEvent(o)}},e.prototype.preRender=function(t,i){this.frameState=i,this.dispatchRenderEvent_(ar.PRERENDER,t,i)},e.prototype.postRender=function(t,i){this.dispatchRenderEvent_(ar.POSTRENDER,t,i)},e.prototype.getRenderTransform=function(t,i,r,a,o,s,l){var h=o/2,c=s/2,d=a/i,g=-d,y=-t[0]+l,m=-t[1];return bi(this.tempTransform,h,c,d,g,-r,y,m)},e.prototype.getDataAtPixel=function(t,i,r){var a=Ne(this.inversePixelTransform,t.slice()),o=this.context,s=this.getLayer(),l=s.getExtent();if(l){var h=Ne(i.pixelToCoordinateTransform,t.slice());if(!zo(l,h))return null}var c=Math.round(a[0]),d=Math.round(a[1]),g=this.pixelContext_;if(!g){var y=document.createElement("canvas");y.width=1,y.height=1,g=y.getContext("2d"),this.pixelContext_=g}g.clearRect(0,0,1,1);var m;try{g.drawImage(o.canvas,c,d,1,1,0,0,1,1),m=g.getImageData(0,0,1,1).data}catch(M){return M.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):m}return m[3]===0?null:m},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(ET),Xv=CT,Oe={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function wT(n,e,t,i,r,a,o,s,l,h,c,d){var g=n[e],y=n[e+1],m=0,M=0,w=0,S=0;function A(){m=g,M=y,e+=i,g=n[e],y=n[e+1],S+=w,w=Math.sqrt((g-m)*(g-m)+(y-M)*(y-M))}do A();while(e<t-i&&S+w<a);for(var b=w===0?0:(a-S)/w,L=Ri(m,g,b),j=Ri(M,y,b),v=e-i,H=S,$=a+s*l(h,r,c);e<t-i&&S+w<$;)A();b=w===0?0:($-S)/w;var V=Ri(m,g,b),rt=Ri(M,y,b),ct;if(d){var at=[L,j,V,rt];uv(at,0,4,2,d,at,at),ct=at[0]>at[2]}else ct=L>V;var yt=Math.PI,bt=[],mt=v+i===e;e=v,w=0,S=H,g=n[e],y=n[e+1];var vt;if(mt){A(),vt=Math.atan2(y-M,g-m),ct&&(vt+=vt>0?-yt:yt);var ot=(V+L)/2,_t=(rt+j)/2;return bt[0]=[ot,_t,($-a)/2,vt,r],bt}for(var Rt=0,Wt=r.length;Rt<Wt;){A();var kt=Math.atan2(y-M,g-m);if(ct&&(kt+=kt>0?-yt:yt),vt!==void 0){var Q=kt-vt;if(Q+=Q>yt?-2*yt:Q<-yt?2*yt:0,Math.abs(Q)>o)return null}vt=kt;for(var qt=Rt,At=0;Rt<Wt;++Rt){var xe=ct?Wt-Rt-1:Rt,Xe=s*l(h,r[xe],c);if(e+i<t&&S+w<a+At+Xe/2)break;At+=Xe}if(Rt!==qt){var ue=ct?r.substring(Wt-qt,Wt-Rt):r.substring(qt,Rt);b=w===0?0:(a+At/2-S)/w;var ot=Ri(m,g,b),_t=Ri(M,y,b);bt.push([ot,_t,At/2,kt,ue]),a+=At}}return bt}var na=kn(),Ui=[],Ei=[],Mi=[],Wi=[];function gd(n){return n[3].declutterBox}var ST=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function _d(n,e){return(e==="start"||e==="end")&&!ST.test(n)&&(e=e==="start"?"left":"right"),hl[e]}function RT(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var OT=function(){function n(e,t,i,r){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=hi(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,i,r){var a=e+t+i+r;if(this.labels_[a])return this.labels_[a];var o=r?this.strokeStates[r]:null,s=i?this.fillStates[i]:null,l=this.textStates[t],h=this.pixelRatio,c=[l.scale[0]*h,l.scale[1]*h],d=Array.isArray(e),g=_d(d?e[0]:e,l.textAlign||Do),y=r&&o.lineWidth?o.lineWidth:0,m=d?e:e.split(`
`).reduce(RT,[]),M=Nx(l,m),w=M.width,S=M.height,A=M.widths,b=M.heights,L=M.lineWidths,j=w+y,v=[],H=(j+2)*c[0],$=(S+y)*c[1],V={width:H<0?Math.floor(H):Math.ceil(H),height:$<0?Math.floor($):Math.ceil($),contextInstructions:v};if((c[0]!=1||c[1]!=1)&&v.push("scale",c),r){v.push("strokeStyle",o.strokeStyle),v.push("lineWidth",y),v.push("lineCap",o.lineCap),v.push("lineJoin",o.lineJoin),v.push("miterLimit",o.miterLimit);var rt=Nl?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;rt.prototype.setLineDash&&(v.push("setLineDash",[o.lineDash]),v.push("lineDashOffset",o.lineDashOffset))}i&&v.push("fillStyle",s.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");for(var ct=.5-g,at=g*j+ct*y,yt=[],bt=[],mt=0,vt=0,ot=0,_t=0,Rt,Wt=0,kt=m.length;Wt<kt;Wt+=2){var Q=m[Wt];if(Q===`
`){vt+=mt,mt=0,at=g*j+ct*y,++_t;continue}var qt=m[Wt+1]||l.font;qt!==Rt&&(r&&yt.push("font",qt),i&&bt.push("font",qt),Rt=qt),mt=Math.max(mt,b[ot]);var At=[Q,at+ct*A[ot]+g*(A[ot]-L[_t]),.5*(y+mt)+vt];at+=A[ot],r&&yt.push("strokeText",At),i&&bt.push("fillText",At),++ot}return Array.prototype.push.apply(v,yt),Array.prototype.push.apply(v,bt),this.labels_[a]=V,V},n.prototype.replayTextBackground_=function(e,t,i,r,a,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,a),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,i,r,a,o,s,l,h,c,d,g,y,m,M,w){s*=g[0],l*=g[1];var S=i-s,A=r-l,b=a+h>e?e-h:a,L=o+c>t?t-c:o,j=m[3]+b*g[0]+m[1],v=m[0]+L*g[1]+m[2],H=S-m[3],$=A-m[0];(M||d!==0)&&(Ui[0]=H,Wi[0]=H,Ui[1]=$,Ei[1]=$,Ei[0]=H+j,Mi[0]=Ei[0],Mi[1]=$+v,Wi[1]=Mi[1]);var V;return d!==0?(V=bi(hi(),i,r,1,1,d,-i,-r),Ne(V,Ui),Ne(V,Ei),Ne(V,Mi),Ne(V,Wi),Qn(Math.min(Ui[0],Ei[0],Mi[0],Wi[0]),Math.min(Ui[1],Ei[1],Mi[1],Wi[1]),Math.max(Ui[0],Ei[0],Mi[0],Wi[0]),Math.max(Ui[1],Ei[1],Mi[1],Wi[1]),na)):Qn(Math.min(H,H+j),Math.min($,$+v),Math.max(H,H+j),Math.max($,$+v),na),y&&(S=Math.round(S),A=Math.round(A)),{drawImageX:S,drawImageY:A,drawImageW:b,drawImageH:L,originX:h,originY:c,declutterBox:{minX:na[0],minY:na[1],maxX:na[2],maxY:na[3],value:w},canvasTransform:V,scale:g}},n.prototype.replayImageOrLabel_=function(e,t,i,r,a,o,s){var l=!!(o||s),h=r.declutterBox,c=e.canvas,d=s?s[2]*r.scale[0]/2:0,g=h.minX-d<=c.width/t&&h.maxX+d>=0&&h.minY-d<=c.height/t&&h.maxY+d>=0;return g&&(l&&this.replayTextBackground_(e,Ui,Ei,Mi,Wi,o,s),Fx(e,r.canvasTransform,a,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Ne(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,i,r){var a=this.textStates[t],o=this.createLabel(e,t,r,i),s=this.strokeStates[i],l=this.pixelRatio,h=_d(Array.isArray(e)?e[0]:e,a.textAlign||Do),c=hl[a.textBaseline||sl],d=s&&s.lineWidth?s.lineWidth:0,g=o.width/l-2*a.scale[0],y=h*g+2*(.5-h)*d,m=c*o.height/l+2*(.5-c)*d;return{label:o,anchorX:y,anchorY:m}},n.prototype.execute_=function(e,t,i,r,a,o,s,l){var h;this.pixelCoordinates_&&Kr(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Wr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),R1(this.renderedTransform_,i));for(var c=0,d=r.length,g=0,y,m,M,w,S,A,b,L,j,v,H,$,V=0,rt=0,ct=null,at=null,yt=this.coordinateCache_,bt=this.viewRotation_,mt=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,vt={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:bt},ot=this.instructions!=r||this.overlaps?0:200,_t,Rt,Wt,kt;c<d;){var Q=r[c],qt=Q[0];switch(qt){case It.BEGIN_GEOMETRY:_t=Q[1],kt=Q[3],_t.getGeometry()?s!==void 0&&!pn(s,kt.getExtent())?c=Q[2]+1:++c:c=Q[2];break;case It.BEGIN_PATH:V>ot&&(this.fill_(e),V=0),rt>ot&&(e.stroke(),rt=0),!V&&!rt&&(e.beginPath(),w=NaN,S=NaN),++c;break;case It.CIRCLE:g=Q[1];var At=h[g],xe=h[g+1],Xe=h[g+2],ue=h[g+3],Ee=Xe-At,de=ue-xe,tn=Math.sqrt(Ee*Ee+de*de);e.moveTo(At+tn,xe),e.arc(At,xe,tn,0,2*Math.PI,!0),++c;break;case It.CLOSE_PATH:e.closePath(),++c;break;case It.CUSTOM:g=Q[1],y=Q[2];var Ye=Q[3],ei=Q[4],R=Q.length==6?Q[5]:void 0;vt.geometry=Ye,vt.feature=_t,c in yt||(yt[c]=[]);var F=yt[c];R?R(h,g,y,2,F):(F[0]=h[g],F[1]=h[g+1],F.length=2),ei(F,vt),++c;break;case It.DRAW_IMAGE:g=Q[1],y=Q[2],L=Q[3],m=Q[4],M=Q[5];var W=Q[6],k=Q[7],X=Q[8],nt=Q[9],lt=Q[10],et=Q[11],it=Q[12],K=Q[13],dt=Q[14];if(!L&&Q.length>=19){j=Q[18],v=Q[19],H=Q[20],$=Q[21];var ut=this.drawLabelWithPointPlacement_(j,v,H,$);L=ut.label,Q[3]=L;var gt=Q[22];m=(ut.anchorX-gt)*this.pixelRatio,Q[4]=m;var Mt=Q[23];M=(ut.anchorY-Mt)*this.pixelRatio,Q[5]=M,W=L.height,Q[6]=W,K=L.width,Q[13]=K}var $t=void 0;Q.length>24&&($t=Q[24]);var Bt=void 0,Ut=void 0,Yt=void 0;Q.length>16?(Bt=Q[15],Ut=Q[16],Yt=Q[17]):(Bt=kr,Ut=!1,Yt=!1),lt&&mt?et+=bt:!lt&&!mt&&(et-=bt);for(var Ge=0;g<y;g+=2)if(!($t&&$t[Ge++]<K/this.pixelRatio)){var oe=this.calculateImageOrLabelDimensions_(L.width,L.height,h[g],h[g+1],K,W,m,M,X,nt,et,it,a,Bt,Ut||Yt,_t),xn=[e,t,L,oe,k,Ut?ct:null,Yt?at:null],pe=void 0,On=void 0;if(l&&dt){var Kt=y-g;if(!dt[Kt]){dt[Kt]=xn;continue}if(pe=dt[Kt],delete dt[Kt],On=gd(pe),l.collides(On))continue}l&&l.collides(oe.declutterBox)||(pe&&(l&&l.insert(On),this.replayImageOrLabel_.apply(this,pe)),l&&l.insert(oe.declutterBox),this.replayImageOrLabel_.apply(this,xn))}++c;break;case It.DRAW_CHARS:var se=Q[1],gi=Q[2],za=Q[3],es=Q[4];$=Q[5];var ns=Q[6],_i=Q[7],yi=Q[8];H=Q[9];var Xa=Q[10];j=Q[11],v=Q[12];var is=[Q[13],Q[13]],dr=this.textStates[v],ni=dr.font,pr=[dr.scale[0]*_i,dr.scale[1]*_i],vr=void 0;ni in this.widths_?vr=this.widths_[ni]:(vr={},this.widths_[ni]=vr);var rs=jv(h,se,gi,2),qa=Math.abs(pr[0])*nd(ni,j,vr);if(es||qa<=rs){var zl=this.textStates[v].textAlign,Xl=(rs-qa)*hl[zl],Gi=wT(h,se,gi,2,j,Xl,ns,Math.abs(pr[0]),nd,ni,vr,mt?0:this.viewRotation_);t:if(Gi){var gr=[],en=void 0,_r=void 0,ki=void 0,ke=void 0,nn=void 0;if(H)for(en=0,_r=Gi.length;en<_r;++en){nn=Gi[en],ki=nn[4],ke=this.createLabel(ki,v,"",H),m=nn[2]+(pr[0]<0?-Xa:Xa),M=za*ke.height+(.5-za)*2*Xa*pr[1]/pr[0]-yi;var oe=this.calculateImageOrLabelDimensions_(ke.width,ke.height,nn[0],nn[1],ke.width,ke.height,m,M,0,0,nn[3],is,!1,kr,!1,_t);if(l&&l.collides(oe.declutterBox))break t;gr.push([e,t,ke,oe,1,null,null])}if($)for(en=0,_r=Gi.length;en<_r;++en){nn=Gi[en],ki=nn[4],ke=this.createLabel(ki,v,$,""),m=nn[2],M=za*ke.height-yi;var oe=this.calculateImageOrLabelDimensions_(ke.width,ke.height,nn[0],nn[1],ke.width,ke.height,m,M,0,0,nn[3],is,!1,kr,!1,_t);if(l&&l.collides(oe.declutterBox))break t;gr.push([e,t,ke,oe,1,null,null])}l&&l.load(gr.map(gd));for(var Ya=0,yr=gr.length;Ya<yr;++Ya)this.replayImageOrLabel_.apply(this,gr[Ya])}}++c;break;case It.END_GEOMETRY:if(o!==void 0){_t=Q[1];var Ha=o(_t,kt);if(Ha)return Ha}++c;break;case It.FILL:ot?V++:this.fill_(e),++c;break;case It.MOVE_TO_LINE_TO:for(g=Q[1],y=Q[2],Rt=h[g],Wt=h[g+1],A=Rt+.5|0,b=Wt+.5|0,(A!==w||b!==S)&&(e.moveTo(Rt,Wt),w=A,S=b),g+=2;g<y;g+=2)Rt=h[g],Wt=h[g+1],A=Rt+.5|0,b=Wt+.5|0,(g==y-2||A!==w||b!==S)&&(e.lineTo(Rt,Wt),w=A,S=b);++c;break;case It.SET_FILL_STYLE:ct=Q,this.alignFill_=Q[2],V&&(this.fill_(e),V=0,rt&&(e.stroke(),rt=0)),e.fillStyle=Q[1],++c;break;case It.SET_STROKE_STYLE:at=Q,rt&&(e.stroke(),rt=0),this.setStrokeStyle_(e,Q),++c;break;case It.STROKE:ot?rt++:e.stroke(),++c;break;default:++c;break}}V&&this.fill_(e),rt&&e.stroke()},n.prototype.execute=function(e,t,i,r,a,o){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,a,void 0,void 0,o)},n.prototype.executeHitDetection=function(e,t,i,r,a){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,a)},n}(),IT=OT,Ru=[Oe.POLYGON,Oe.CIRCLE,Oe.LINE_STRING,Oe.IMAGE,Oe.TEXT,Oe.DEFAULT],PT=function(){function n(e,t,i,r,a,o){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=hi(),this.createExecutors_(a)}return n.prototype.clip=function(e,t){var i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var i=this.executorsByZIndex_[t];i===void 0&&(i={},this.executorsByZIndex_[t]=i);var r=e[t];for(var a in r){var o=r[a];i[a]=new IT(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[t],r=0,a=e.length;r<a;++r)if(e[r]in i)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,i,r,a,o){r=Math.round(r);var s=r*2+1,l=bi(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=jn(s,s));var c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):h||c.clearRect(0,0,s,s);var d;this.renderBuffer_!==void 0&&(d=kn(),yo(d,e),Hh(d,t*(this.renderBuffer_+r),d));var g=AT(r),y;function m(v,H){for(var $=c.getImageData(0,0,s,s).data,V=0,rt=g.length;V<rt;V++)if($[g[V]]>0){if(!o||y!==Oe.IMAGE&&y!==Oe.TEXT||o.indexOf(v)!==-1){var ct=(g[V]-3)/4,at=r-ct%s,yt=r-(ct/s|0),bt=a(v,H,at*at+yt*yt);if(bt)return bt}c.clearRect(0,0,s,s);break}}var M=Object.keys(this.executorsByZIndex_).map(Number);M.sort(Xr);var w,S,A,b,L;for(w=M.length-1;w>=0;--w){var j=M[w].toString();for(A=this.executorsByZIndex_[j],S=Ru.length-1;S>=0;--S)if(y=Ru[S],b=A[y],b!==void 0&&(L=b.executeHitDetection(c,l,i,m,d),L))return L}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var i=t[0],r=t[1],a=t[2],o=t[3],s=[i,r,i,o,a,o,a,r];return Wr(s,0,8,2,e,s),s},n.prototype.isEmpty=function(){return Ro(this.executorsByZIndex_)},n.prototype.execute=function(e,t,i,r,a,o,s){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Xr),this.maxExtent_&&(e.save(),this.clip(e,i));var h=o||Ru,c,d,g,y,m,M;for(s&&l.reverse(),c=0,d=l.length;c<d;++c){var w=l[c].toString();for(m=this.executorsByZIndex_[w],g=0,y=h.length;g<y;++g){var S=h[g];M=m[S],M!==void 0&&M.execute(e,t,i,r,a,s)}}this.maxExtent_&&e.restore()},n}(),Ou={};function AT(n){if(Ou[n]!==void 0)return Ou[n];for(var e=n*2+1,t=n*n,i=new Array(t+1),r=0;r<=n;++r)for(var a=0;a<=n;++a){var o=r*r+a*a;if(o>t)break;var s=i[o];s||(s=[],i[o]=s),s.push(((n+r)*e+(n+a))*4+3),r>0&&s.push(((n-r)*e+(n+a))*4+3),a>0&&(s.push(((n+r)*e+(n-a))*4+3),r>0&&s.push(((n-r)*e+(n-a))*4+3))}for(var l=[],r=0,h=i.length;r<h;++r)i[r]&&l.push.apply(l,i[r]);return Ou[n]=l,l}var yd=PT,bT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),LT=function(n){bT(e,n);function e(t,i,r,a,o,s,l){var h=n.call(this)||this;return h.context_=t,h.pixelRatio_=i,h.extent_=r,h.transform_=a,h.viewRotation_=o,h.squaredTolerance_=s,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=hi(),h}return e.prototype.drawImages_=function(t,i,r,a){if(!!this.image_){var o=Wr(t,i,r,a,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,h=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=h*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var d=0,g=o.length;d<g;d+=2){var y=o[d]-this.imageAnchorX_,m=o[d+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var M=y+this.imageAnchorX_,w=m+this.imageAnchorY_;bi(l,M,w,1,1,c,-M,-w),s.setTransform.apply(s,l),s.translate(M,w),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,y,m,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=h)}},e.prototype.drawText_=function(t,i,r,a){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Wr(t,i,r,a,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);i<r;i+=a){var h=o[i]+this.textOffsetX_,c=o[i+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var d=bi(this.tmpLocalTransform_,h,c,1,1,l,-h,-c);s.setTransform.apply(s,d),s.translate(h,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,h,c),this.textFillState_&&s.fillText(this.text_,h,c)}}},e.prototype.moveToLineTo_=function(t,i,r,a,o){var s=this.context_,l=Wr(t,i,r,a,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);var h=l.length;o&&(h-=2);for(var c=2;c<h;c+=2)s.lineTo(l[c],l[c+1]);return o&&s.closePath(),r},e.prototype.drawRings_=function(t,i,r,a){for(var o=0,s=r.length;o<s;++o)i=this.moveToLineTo_(t,i,r[o],a,!0);return i},e.prototype.drawCircle=function(t){if(!!pn(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=k1(t,this.transform_,this.pixelCoordinates_),r=i[2]-i[0],a=i[3]-i[1],o=Math.sqrt(r*r+a*a),s=this.context_;s.beginPath(),s.arc(i[0],i[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var i=t.getType();switch(i){case Dt.POINT:this.drawPoint(t);break;case Dt.LINE_STRING:this.drawLineString(t);break;case Dt.POLYGON:this.drawPolygon(t);break;case Dt.MULTI_POINT:this.drawMultiPoint(t);break;case Dt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Dt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Dt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Dt.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,i){var r=i.getGeometryFunction()(t);!r||!pn(this.extent_,r.getExtent())||(this.setStyle(i),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var i=t.getGeometriesArray(),r=0,a=i.length;r<a;++r)this.drawGeometry(i[r])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(i,0,i.length,r),this.text_!==""&&this.drawText_(i,0,i.length,r)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(i,0,i.length,r),this.text_!==""&&this.drawText_(i,0,i.length,r)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!pn(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getFlatCoordinates();i.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),i.stroke()}if(this.text_!==""){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=t.getExtent();if(!!pn(this.extent_,i)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,a=t.getFlatCoordinates(),o=0,s=t.getEnds(),l=t.getStride();r.beginPath();for(var h=0,c=s.length;h<c;++h)o=this.moveToLineTo_(a,o,s[h],l,!1);r.stroke()}if(this.text_!==""){var d=t.getFlatMidpoints();this.drawText_(d,0,d.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!pn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=this.context_;i.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(this.text_!==""){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!pn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getOrientedFlatCoordinates(),a=0,o=t.getEndss(),s=t.getStride();i.beginPath();for(var l=0,h=o.length;l<h;++l){var c=o[l];a=this.drawRings_(r,a,c,s)}this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(this.text_!==""){var d=t.getFlatInteriorPoints();this.drawText_(d,0,d.length,2)}}},e.prototype.setContextFillState_=function(t){var i=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,i.fillStyle=t.fillStyle):(i.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var i=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,i.lineCap=t.lineCap),i.setLineDash&&(Kr(r.lineDash,t.lineDash)||i.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,i.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,i.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,i.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,i.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,i.strokeStyle=t.strokeStyle)):(i.lineCap=t.lineCap,i.setLineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.lineWidth=t.lineWidth,i.miterLimit=t.miterLimit,i.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var i=this.context_,r=this.contextTextState_,a=t.textAlign?t.textAlign:Do;r?(r.font!=t.font&&(r.font=t.font,i.font=t.font),r.textAlign!=a&&(r.textAlign=a,i.textAlign=a),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,i.textBaseline=t.textBaseline)):(i.font=t.font,i.textAlign=a,i.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:a,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,i){var r=this;if(!t)this.fillState_=null;else{var a=t.getColor();this.fillState_={fillStyle:si(a||Pi)}}if(!i)this.strokeState_=null;else{var o=i.getColor(),s=i.getLineCap(),l=i.getLineDash(),h=i.getLineDashOffset(),c=i.getLineJoin(),d=i.getWidth(),g=i.getMiterLimit(),y=l||bo;this.strokeState_={lineCap:s!==void 0?s:ol,lineDash:this.pixelRatio_===1?y:y.map(function(m){return m*r.pixelRatio_}),lineDashOffset:(h||Lo)*this.pixelRatio_,lineJoin:c!==void 0?c:Aa,lineWidth:(d!==void 0?d:Go)*this.pixelRatio_,miterLimit:g!==void 0?g:No,strokeStyle:si(o||Fo)}}},e.prototype.setImageStyle=function(t){var i;if(!t||!(i=t.getSize())){this.image_=null;return}var r=t.getAnchor(),a=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*this.pixelRatio_,this.imageAnchorY_=r[1]*this.pixelRatio_,this.imageHeight_=i[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=i[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var i=t.getFill();if(!i)this.textFillState_=null;else{var r=i.getColor();this.textFillState_={fillStyle:si(r||Pi)}}var a=t.getStroke();if(!a)this.textStrokeState_=null;else{var o=a.getColor(),s=a.getLineCap(),l=a.getLineDash(),h=a.getLineDashOffset(),c=a.getLineJoin(),d=a.getWidth(),g=a.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:ol,lineDash:l||bo,lineDashOffset:h||Lo,lineJoin:c!==void 0?c:Aa,lineWidth:d!==void 0?d:Go,miterLimit:g!==void 0?g:No,strokeStyle:si(o||Fo)}}var y=t.getFont(),m=t.getOffsetX(),M=t.getOffsetY(),w=t.getRotateWithView(),S=t.getRotation(),A=t.getScaleArray(),b=t.getText(),L=t.getTextAlign(),j=t.getTextBaseline();this.textState_={font:y!==void 0?y:Cv,textAlign:L!==void 0?L:Do,textBaseline:j!==void 0?j:sl},this.text_=b!==void 0?Array.isArray(b)?b.reduce(function(v,H,$){return v+=$%2?" ":H},""):b:"",this.textOffsetX_=m!==void 0?this.pixelRatio_*m:0,this.textOffsetY_=M!==void 0?this.pixelRatio_*M:0,this.textRotateWithView_=w!==void 0?w:!1,this.textRotation_=S!==void 0?S:0,this.textScale_=[this.pixelRatio_*A[0],this.pixelRatio_*A[1]]}},e}(zv),NT=LT,Ji={FRACTION:"fraction",PIXELS:"pixels"},An={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},FT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),DT=function(n){FT(e,n);function e(t,i,r,a){var o=n.call(this)||this;return o.extent=t,o.pixelRatio_=r,o.resolution=i,o.state=a,o}return e.prototype.changed=function(){this.dispatchEvent(jt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Nt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Nt()},e}(ka),GT=DT,kT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();(function(n){kT(e,n);function e(t,i,r,a,o,s){var l=n.call(this,t,i,r,ve.IDLE)||this;return l.src_=a,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.state=ve.IDLE,l.imageLoadFunction_=s,l}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ve.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=ti(this.extent)/this.image_.height),this.state=ve.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==ve.IDLE||this.state==ve.ERROR)&&(this.state=ve.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=vf(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=ti(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(GT);function vf(n,e,t){var i=n,r=!0,a=!1,o=!1,s=[Qs(i,jt.LOAD,function(){o=!0,a||e()})];return i.src&&w1?(a=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():t())})):s.push(Qs(i,jt.ERROR,t)),function(){r=!1,s.forEach(_e)}}var jT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),io=null,BT=function(n){jT(e,n);function e(t,i,r,a,o,s){var l=n.call(this)||this;return l.hitDetectionImage_=null,l.image_=t||new Image,a!==null&&(l.image_.crossOrigin=a),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=o,l.size_=r,l.src_=i,l.tainted_,l}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ve.LOADED){io||(io=jn(1,1)),io.drawImage(this.image_,0,0);try{io.getImageData(0,0,1,1),this.tainted_=!1}catch{io=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(jt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ve.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ve.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],i=this.size_[1],r=jn(t,i);r.fillRect(0,0,t,i),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ve.IDLE){this.imageState_=ve.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=vf(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==ve.LOADED)){var i=document.createElement("canvas");this.canvas_[t]=i,i.width=Math.ceil(this.image_.width*t),i.height=Math.ceil(this.image_.height*t);var r=i.getContext("2d");if(r.scale(t,t),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply",r.globalCompositeOperation==="multiply"||this.isTainted_())r.fillStyle=yv(this.color_),r.fillRect(0,0,i.width/t,i.height/t),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var a=r.getImageData(0,0,i.width,i.height),o=a.data,s=this.color_[0]/255,l=this.color_[1]/255,h=this.color_[2]/255,c=this.color_[3],d=0,g=o.length;d<g;d+=4)o[d]*=s,o[d+1]*=l,o[d+2]*=h,o[d+3]*=c;r.putImageData(a,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ka);function $T(n,e,t,i,r,a){var o=il.get(e,i,a);return o||(o=new BT(n,e,t,i,r,a),il.set(e,i,a,o)),o}var UT=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),WT=function(n){UT(e,n);function e(t){var i=this,r=t||{},a=r.opacity!==void 0?r.opacity:1,o=r.rotation!==void 0?r.rotation:0,s=r.scale!==void 0?r.scale:1,l=r.rotateWithView!==void 0?r.rotateWithView:!1;i=n.call(this,{opacity:a,rotation:o,scale:s,displacement:r.displacement!==void 0?r.displacement:[0,0],rotateWithView:l})||this,i.anchor_=r.anchor!==void 0?r.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=r.anchorOrigin!==void 0?r.anchorOrigin:An.TOP_LEFT,i.anchorXUnits_=r.anchorXUnits!==void 0?r.anchorXUnits:Ji.FRACTION,i.anchorYUnits_=r.anchorYUnits!==void 0?r.anchorYUnits:Ji.FRACTION,i.crossOrigin_=r.crossOrigin!==void 0?r.crossOrigin:null;var h=r.img!==void 0?r.img:null;i.imgSize_=r.imgSize;var c=r.src;Ht(!(c!==void 0&&h),4),Ht(!h||h&&i.imgSize_,5),(c===void 0||c.length===0)&&h&&(c=h.src||te(h)),Ht(c!==void 0&&c.length>0,6);var d=r.src!==void 0?ve.IDLE:ve.LOADED;return i.color_=r.color!==void 0?nl(r.color):null,i.iconImage_=$T(h,c,i.imgSize_!==void 0?i.imgSize_:null,i.crossOrigin_,d,i.color_),i.offset_=r.offset!==void 0?r.offset:[0,0],i.offsetOrigin_=r.offsetOrigin!==void 0?r.offsetOrigin:An.TOP_LEFT,i.origin_=null,i.size_=r.size!==void 0?r.size:null,i}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var i=this.getSize();if(this.anchorXUnits_==Ji.FRACTION||this.anchorYUnits_==Ji.FRACTION){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_==Ji.FRACTION&&(t[0]*=i[0]),this.anchorYUnits_==Ji.FRACTION&&(t[1]*=i[1])}if(this.anchorOrigin_!=An.TOP_LEFT){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==An.TOP_RIGHT||this.anchorOrigin_==An.BOTTOM_RIGHT)&&(t[0]=-t[0]+i[0]),(this.anchorOrigin_==An.BOTTOM_LEFT||this.anchorOrigin_==An.BOTTOM_RIGHT)&&(t[1]=-t[1]+i[1])}this.normalizedAnchor_=t}var r=this.getDisplacement();return[t[0]-r[0],t[1]+r[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=An.TOP_LEFT){var i=this.getSize(),r=this.iconImage_.getSize();if(!i||!r)return null;t=t.slice(),(this.offsetOrigin_==An.TOP_RIGHT||this.offsetOrigin_==An.BOTTOM_RIGHT)&&(t[0]=r[0]-i[0]-t[0]),(this.offsetOrigin_==An.BOTTOM_LEFT||this.offsetOrigin_==An.BOTTOM_RIGHT)&&(t[1]=r[1]-i[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(jt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(jt.CHANGE,t)},e}(Wv),zT=WT,oi=.5;function XT(n,e,t,i,r,a,o){var s=n[0]*oi,l=n[1]*oi,h=jn(s,l);h.imageSmoothingEnabled=!1;for(var c=h.canvas,d=new NT(h,oi,r,null,o),g=t.length,y=Math.floor((256*256*256-1)/g),m={},M=1;M<=g;++M){var w=t[M-1],S=w.getStyleFunction()||i;if(!!i){var A=S(w,a);if(!!A){Array.isArray(A)||(A=[A]);for(var b=M*y,L="#"+("000000"+b.toString(16)).slice(-6),j=0,v=A.length;j<v;++j){var H=A[j],$=H.getGeometryFunction()(w);if(!(!$||!pn(r,$.getExtent()))){var V=H.clone(),rt=V.getFill();rt&&rt.setColor(L);var ct=V.getStroke();ct&&(ct.setColor(L),ct.setLineDash(null)),V.setText(void 0);var at=H.getImage();if(at&&at.getOpacity()!==0){var yt=at.getImageSize();if(!yt)continue;var bt=jn(yt[0],yt[1],void 0,{alpha:!1}),mt=bt.canvas;bt.fillStyle=L,bt.fillRect(0,0,mt.width,mt.height),V.setImage(new zT({img:mt,imgSize:yt,anchor:at.getAnchor(),anchorXUnits:Ji.PIXELS,anchorYUnits:Ji.PIXELS,offset:at.getOrigin(),opacity:1,size:at.getSize(),scale:at.getScale(),rotation:at.getRotation(),rotateWithView:at.getRotateWithView()}))}var vt=V.getZIndex()||0,ot=m[vt];ot||(ot={},m[vt]=ot,ot[Dt.POLYGON]=[],ot[Dt.CIRCLE]=[],ot[Dt.LINE_STRING]=[],ot[Dt.POINT]=[]),ot[$.getType().replace("Multi","")].push($,V)}}}}}for(var _t=Object.keys(m).map(Number).sort(Xr),M=0,Rt=_t.length;M<Rt;++M){var ot=m[_t[M]];for(var Wt in ot)for(var kt=ot[Wt],j=0,v=kt.length;j<v;j+=2){d.setStyle(kt[j+1]);for(var Q=0,qt=e.length;Q<qt;++Q)d.setTransform(e[Q]),d.drawGeometry(kt[j])}}return h.getImageData(0,0,c.width,c.height)}function qT(n,e,t){var i=[];if(t){var r=Math.floor(Math.round(n[0])*oi),a=Math.floor(Math.round(n[1])*oi),o=(Pe(r,0,t.width-1)+Pe(a,0,t.height-1)*t.width)*4,s=t.data[o],l=t.data[o+1],h=t.data[o+2],c=h+256*(l+256*s),d=Math.floor((256*256*256-1)/e.length);c&&c%d===0&&i.push(e[c/d-1])}return i}var YT=.5,qv={Point:nC,LineString:QT,Polygon:rC,MultiPoint:iC,MultiLineString:tC,MultiPolygon:eC,GeometryCollection:JT,Circle:KT};function HT(n,e){return parseInt(te(n),10)-parseInt(te(e),10)}function VT(n,e){var t=gh(n,e);return t*t}function gh(n,e){return YT*n/e}function KT(n,e,t,i,r){var a=t.getFill(),o=t.getStroke();if(a||o){var s=n.getBuilder(t.getZIndex(),Oe.CIRCLE);s.setFillStrokeStyle(a,o),s.drawCircle(e,i)}var l=t.getText();if(l&&l.getText()){var h=(r||n).getBuilder(t.getZIndex(),Oe.TEXT);h.setTextStyle(l),h.drawText(e,i)}}function md(n,e,t,i,r,a,o){var s=!1,l=t.getImage();if(l){var h=l.getImageState();h==ve.LOADED||h==ve.ERROR?l.unlistenImageChange(r):(h==ve.IDLE&&l.load(),h=l.getImageState(),l.listenImageChange(r),s=!0)}return ZT(n,e,t,i,a,o),s}function ZT(n,e,t,i,r,a){var o=t.getGeometryFunction()(e);if(!!o){var s=o.simplifyTransformed(i,r),l=t.getRenderer();if(l)Yv(n,s,t,e);else{var h=qv[s.getType()];h(n,s,t,e,a)}}}function Yv(n,e,t,i){if(e.getType()==Dt.GEOMETRY_COLLECTION){for(var r=e.getGeometries(),a=0,o=r.length;a<o;++a)Yv(n,r[a],t,i);return}var s=n.getBuilder(t.getZIndex(),Oe.DEFAULT);s.drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer())}function JT(n,e,t,i,r){var a=e.getGeometriesArray(),o,s;for(o=0,s=a.length;o<s;++o){var l=qv[a[o].getType()];l(n,a[o],t,i,r)}}function QT(n,e,t,i,r){var a=t.getStroke();if(a){var o=n.getBuilder(t.getZIndex(),Oe.LINE_STRING);o.setFillStrokeStyle(null,a),o.drawLineString(e,i)}var s=t.getText();if(s&&s.getText()){var l=(r||n).getBuilder(t.getZIndex(),Oe.TEXT);l.setTextStyle(s),l.drawText(e,i)}}function tC(n,e,t,i,r){var a=t.getStroke();if(a){var o=n.getBuilder(t.getZIndex(),Oe.LINE_STRING);o.setFillStrokeStyle(null,a),o.drawMultiLineString(e,i)}var s=t.getText();if(s&&s.getText()){var l=(r||n).getBuilder(t.getZIndex(),Oe.TEXT);l.setTextStyle(s),l.drawText(e,i)}}function eC(n,e,t,i,r){var a=t.getFill(),o=t.getStroke();if(o||a){var s=n.getBuilder(t.getZIndex(),Oe.POLYGON);s.setFillStrokeStyle(a,o),s.drawMultiPolygon(e,i)}var l=t.getText();if(l&&l.getText()){var h=(r||n).getBuilder(t.getZIndex(),Oe.TEXT);h.setTextStyle(l),h.drawText(e,i)}}function nC(n,e,t,i,r){var a=t.getImage(),o=t.getText(),s;if(r&&(n=r,s=a&&o&&o.getText()?{}:void 0),a){if(a.getImageState()!=ve.LOADED)return;var l=n.getBuilder(t.getZIndex(),Oe.IMAGE);l.setImageStyle(a,s),l.drawPoint(e,i)}if(o&&o.getText()){var h=n.getBuilder(t.getZIndex(),Oe.TEXT);h.setTextStyle(o,s),h.drawText(e,i)}}function iC(n,e,t,i,r){var a=t.getImage(),o=t.getText(),s;if(r&&(n=r,s=a&&o&&o.getText()?{}:void 0),a){if(a.getImageState()!=ve.LOADED)return;var l=n.getBuilder(t.getZIndex(),Oe.IMAGE);l.setImageStyle(a,s),l.drawMultiPoint(e,i)}if(o&&o.getText()){var h=(r||n).getBuilder(t.getZIndex(),Oe.TEXT);h.setTextStyle(o,s),h.drawText(e,i)}}function rC(n,e,t,i,r){var a=t.getFill(),o=t.getStroke();if(a||o){var s=n.getBuilder(t.getZIndex(),Oe.POLYGON);s.setFillStrokeStyle(a,o),s.drawPolygon(e,i)}var l=t.getText();if(l&&l.getText()){var h=(r||n).getBuilder(t.getZIndex(),Oe.TEXT);h.setTextStyle(l),h.drawText(e,i)}}var aC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oC=function(n){aC(e,n);function e(t){var i=n.call(this,t)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.dirty_=!1,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=kn(),i.wrappedRenderedExtent_=kn(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i}return e.prototype.renderWorlds=function(t,i,r){var a=i.extent,o=i.viewState,s=o.center,l=o.resolution,h=o.projection,c=o.rotation,d=h.getExtent(),g=this.getLayer().getSource(),y=i.pixelRatio,m=i.viewHints,M=!(m[Ve.ANIMATING]||m[Ve.INTERACTING]),w=this.context,S=Math.round(i.size[0]*y),A=Math.round(i.size[1]*y),b=g.getWrapX()&&h.canWrapX(),L=b?Ce(d):null,j=b?Math.ceil((a[2]-d[2])/L)+1:1,v=b?Math.floor((a[0]-d[0])/L):0;do{var H=this.getRenderTransform(s,l,c,y,S,A,v*L);t.execute(w,1,H,c,M,void 0,r)}while(++v<j)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,i){var r=t.pixelRatio,a=t.layerStatesArray[t.layerIndex];O1(this.pixelTransform,1/r,1/r),af(this.inversePixelTransform,this.pixelTransform);var o=lv(this.pixelTransform);this.useContainer(i,o,a.opacity,this.getBackground(t));var s=this.context,l=s.canvas,h=this.replayGroup_,c=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!c||c.isEmpty()))return null;var d=Math.round(t.size[0]*r),g=Math.round(t.size[1]*r);l.width!=d||l.height!=g?(l.width=d,l.height=g,l.style.transform!==o&&(l.style.transform=o)):this.containerReused||s.clearRect(0,0,d,g),this.preRender(s,t);var y=t.viewState;y.projection;var m=!1,M=!0;if(a.extent&&this.clipping){var w=Dr(a.extent);M=pn(w,t.extent),m=M&&!da(w,t.extent),m&&this.clipUnrotated(s,t,w)}M&&this.renderWorlds(h,t),m&&s.restore(),this.postRender(s,t);var S=Tv(a.opacity),A=this.container;return S!==A.style.opacity&&(A.style.opacity=S),this.renderedRotation_!==y.rotation&&(this.renderedRotation_=y.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(i){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];Ne(this.pixelTransform,r);var a=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,h=this.wrappedRenderedExtent_,c=this.getLayer(),d=[],g=r[0]*oi,y=r[1]*oi;d.push(this.getRenderTransform(a,o,s,oi,g,y,0).slice());var m=c.getSource(),M=l.getExtent();if(m.getWrapX()&&l.canWrapX()&&!da(M,h)){for(var w=h[0],S=Ce(M),A=0,b=void 0;w<M[0];)--A,b=S*A,d.push(this.getRenderTransform(a,o,s,oi,g,y,b).slice()),w+=S;for(A=0,w=h[2];w>M[2];)++A,b=S*A,d.push(this.getRenderTransform(a,o,s,oi,g,y,b).slice()),w-=S}this.hitDetectionImageData_=XT(r,d,this.renderedFeatures_,c.getStyleFunction(),h,o,s)}i(qT(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,i,r,a,o){var s=this;if(!!this.replayGroup_){var l=i.viewState.resolution,h=i.viewState.rotation,c=this.getLayer(),d={},g=function(M,w,S){var A=te(M),b=d[A];if(b){if(b!==!0&&S<b.distanceSq){if(S===0)return d[A]=!0,o.splice(o.lastIndexOf(b),1),a(M,c,w);b.geometry=w,b.distanceSq=S}}else{if(S===0)return d[A]=!0,a(M,c,w);o.push(d[A]={feature:M,layer:c,geometry:w,distanceSq:S,callback:a})}},y,m=[this.replayGroup_];return this.declutterExecutorGroup&&m.push(this.declutterExecutorGroup),m.some(function(M){return y=M.forEachFeatureAtCoordinate(t,l,h,r,g,M===s.declutterExecutorGroup&&i.declutterTree?i.declutterTree.all().map(function(w){return w.value}):null)}),y}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var i=this.getLayer(),r=i.getSource();if(!r)return!1;var a=t.viewHints[Ve.ANIMATING],o=t.viewHints[Ve.INTERACTING],s=i.getUpdateWhileAnimating(),l=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!l&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=t.extent,c=t.viewState,d=c.projection,g=c.resolution,y=t.pixelRatio,m=i.getRevision(),M=i.getRenderBuffer(),w=i.getRenderOrder();w===void 0&&(w=HT);var S=c.center.slice(),A=Hh(h,M*g),b=A.slice(),L=[A.slice()],j=d.getExtent();if(r.getWrapX()&&d.canWrapX()&&!da(j,t.extent)){var v=Ce(j),H=Math.max(Ce(A)/2,v);A[0]=j[0]-H,A[2]=j[2]+H,Jp(S,d);var $=n1(L[0],d);$[0]<j[0]&&$[2]<j[2]?L.push([$[0]+v,$[1],$[2]+v,$[3]]):$[0]>j[0]&&$[2]>j[2]&&L.push([$[0]-v,$[1],$[2]-v,$[3]])}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==m&&this.renderedRenderOrder_==w&&da(this.wrappedRenderedExtent_,A))return Kr(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var V=new vd(gh(g,y),A,g,y),rt;this.getLayer().getDeclutter()&&(rt=new vd(gh(g,y),A,g,y));for(var ct,at,yt,at=0,yt=L.length;at<yt;++at)r.loadFeatures(L[at],g,d);var bt=VT(g,y),mt=function(Wt){var kt,Q=Wt.getStyleFunction()||i.getStyleFunction();if(Q&&(kt=Q(Wt,g)),kt){var qt=this.renderFeature(Wt,bt,kt,V,ct,rt);this.dirty_=this.dirty_||qt}}.bind(this),vt=rv(A),ot=r.getFeaturesInExtent(vt);w&&ot.sort(w);for(var at=0,yt=ot.length;at<yt;++at)mt(ot[at]);this.renderedFeatures_=ot;var _t=V.finish(),Rt=new yd(A,g,y,r.getOverlaps(),_t,i.getRenderBuffer());return rt&&(this.declutterExecutorGroup=new yd(A,g,y,r.getOverlaps(),rt.finish(),i.getRenderBuffer())),this.renderedResolution_=g,this.renderedRevision_=m,this.renderedRenderOrder_=w,this.renderedExtent_=b,this.wrappedRenderedExtent_=A,this.renderedCenter_=S,this.renderedProjection_=d,this.replayGroup_=Rt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,i,r,a,o,s){if(!r)return!1;var l=!1;if(Array.isArray(r))for(var h=0,c=r.length;h<c;++h)l=md(a,t,r[h],i,this.boundHandleStyleImageChange_,o,s)||l;else l=md(a,t,r,i,this.boundHandleStyleImageChange_,o,s);return l},e}(Xv),sC=oC,lC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uC=function(n){lC(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new sC(this)},e}(tT),hC=uC,fC=function(){function n(e){this.rbush_=new Uv(e),this.items_={}}return n.prototype.insert=function(e,t){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[te(t)]=i},n.prototype.load=function(e,t){for(var i=new Array(t.length),r=0,a=t.length;r<a;r++){var o=e[r],s=t[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};i[r]=l,this.items_[te(s)]=l}this.rbush_.load(i)},n.prototype.remove=function(e){var t=te(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null},n.prototype.update=function(e,t){var i=this.items_[te(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Oo(r,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},i=this.rbush_.search(t);return i.map(function(r){return r.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var i,r=0,a=e.length;r<a;r++)if(i=t(e[r]),i)return i;return i},n.prototype.isEmpty=function(){return Ro(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Qn(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),xd=fC,cC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dC=function(n){cC(e,n);function e(t){var i=n.call(this)||this;i.projection=me(t.projection),i.attributions_=Ed(t.attributions),i.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,i.loading=!1,i.state_=t.state!==void 0?t.state:Yr.READY,i.wrapX_=t.wrapX!==void 0?t.wrapX:!1,i.interpolate_=!!t.interpolate,i.viewResolver=null,i.viewRejector=null;var r=i;return i.viewPromise_=new Promise(function(a,o){r.viewResolver=a,r.viewRejector=o}),i}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Nt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Ed(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(vi);function Ed(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var Hv=dC,zn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function pC(n,e){return[[-1/0,-1/0,1/0,1/0]]}var vC=!1;function gC(n,e,t,i,r,a,o){var s=new XMLHttpRequest;s.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()==ua.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=vC,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){var h=e.getType(),c=void 0;h==ua.JSON||h==ua.TEXT?c=s.responseText:h==ua.XML?(c=s.responseXML,c||(c=new DOMParser().parseFromString(s.responseText,"application/xml"))):h==ua.ARRAY_BUFFER&&(c=s.response),c?a(e.readFeatures(c,{extent:t,featureProjection:r}),e.readProjection(c)):o()}else o()},s.onerror=o,s.send()}function Md(n,e){return function(t,i,r,a,o){var s=this;gC(n,e,t,i,r,function(l,h){s.addFeatures(l),a!==void 0&&a(l)},o||qr)}}var Vv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zi=function(n){Vv(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.feature=i,a.features=r,a}return e}(Fi),_C=function(n){Vv(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:Yr.READY,wrapX:r.wrapX!==void 0?r.wrapX:!0})||this,i.on,i.once,i.un,i.loader_=qr,i.format_=r.format,i.overlaps_=r.overlaps===void 0?!0:r.overlaps,i.url_=r.url,r.loader!==void 0?i.loader_=r.loader:i.url_!==void 0&&(Ht(i.format_,7),i.loader_=Md(i.url_,i.format_)),i.strategy_=r.strategy!==void 0?r.strategy:pC;var a=r.useSpatialIndex!==void 0?r.useSpatialIndex:!0;i.featuresRtree_=a?new xd:null,i.loadedExtentsRtree_=new xd,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null;var o,s;return Array.isArray(r.features)?s=r.features:r.features&&(o=r.features,s=o.getArray()),!a&&o===void 0&&(o=new gn(s)),s!==void 0&&i.addFeaturesInternal(s),o!==void 0&&i.bindFeaturesCollection_(o),i}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var i=te(t);if(!this.addToIndex_(i,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(i,t);var r=t.getGeometry();if(r){var a=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,t)}else this.nullGeometryFeatures_[i]=t;this.dispatchEvent(new zi(zn.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,i){this.featureChangeKeys_[t]=[Jt(i,jt.CHANGE,this.handleFeatureChange_,this),Jt(i,Oa.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,i){var r=!0,a=i.getId();return a!==void 0&&(a.toString()in this.idIndex_?r=!1:this.idIndex_[a.toString()]=i),r&&(Ht(!(t in this.uidIndex_),30),this.uidIndex_[t]=i),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var i=[],r=[],a=[],o=0,s=t.length;o<s;o++){var l=t[o],h=te(l);this.addToIndex_(h,l)&&r.push(l)}for(var o=0,c=r.length;o<c;o++){var l=r[o],h=te(l);this.setupChangeEvents_(h,l);var d=l.getGeometry();if(d){var g=d.getExtent();i.push(g),a.push(l)}else this.nullGeometryFeatures_[h]=l}if(this.featuresRtree_&&this.featuresRtree_.load(i,a),this.hasListener(zn.ADDFEATURE))for(var o=0,y=r.length;o<y;o++)this.dispatchEvent(new zi(zn.ADDFEATURE,r[o]))},e.prototype.bindFeaturesCollection_=function(t){var i=!1;this.addEventListener(zn.ADDFEATURE,function(r){i||(i=!0,t.push(r.feature),i=!1)}),this.addEventListener(zn.REMOVEFEATURE,function(r){i||(i=!0,t.remove(r.feature),i=!1)}),t.addEventListener(vn.ADD,function(r){i||(i=!0,this.addFeature(r.element),i=!1)}.bind(this)),t.addEventListener(vn.REMOVE,function(r){i||(i=!0,this.removeFeature(r.element),i=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var i in this.featureChangeKeys_){var r=this.featureChangeKeys_[i];r.forEach(_e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var a=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(a);for(var o in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new zi(zn.CLEAR);this.dispatchEvent(s),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,i){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(a){var o=a.getGeometry();if(o.intersectsCoordinate(t))return i(a)})},e.prototype.forEachFeatureInExtent=function(t,i){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,i);this.featuresCollection_&&this.featuresCollection_.forEach(i)},e.prototype.forEachFeatureIntersectingExtent=function(t,i){return this.forEachFeatureInExtent(t,function(r){var a=r.getGeometry();if(a.intersectsExtent(t)){var o=i(r);if(o)return o}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ro(this.nullGeometryFeatures_)||Gn(t,Up(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var i=[];return this.forEachFeatureAtCoordinateDirect(t,function(r){i.push(r)}),i},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,i){var r=t[0],a=t[1],o=null,s=[NaN,NaN],l=1/0,h=[-1/0,-1/0,1/0,1/0],c=i||Ea;return this.featuresRtree_.forEachInExtent(h,function(d){if(c(d)){var g=d.getGeometry(),y=l;if(l=g.closestPointXY(r,a,s,l),l<y){o=d;var m=Math.sqrt(l);h[0]=r-m,h[1]=a-m,h[2]=r+m,h[3]=a+m}}}),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var i=this.idIndex_[t.toString()];return i!==void 0?i:null},e.prototype.getFeatureByUid=function(t){var i=this.uidIndex_[t];return i!==void 0?i:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var i=t.target,r=te(i),a=i.getGeometry();if(!a)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(i),this.nullGeometryFeatures_[r]=i);else{var o=a.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,i)):this.featuresRtree_&&this.featuresRtree_.update(o,i)}var s=i.getId();if(s!==void 0){var l=s.toString();this.idIndex_[l]!==i&&(this.removeFromIdIndex_(i),this.idIndex_[l]=i)}else this.removeFromIdIndex_(i),this.uidIndex_[r]=i;this.changed(),this.dispatchEvent(new zi(zn.CHANGEFEATURE,i))},e.prototype.hasFeature=function(t){var i=t.getId();return i!==void 0?i in this.idIndex_:te(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ro(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,i,r){for(var a=this.loadedExtentsRtree_,o=this.strategy_(t,i,r),s=function(d,g){var y=o[d],m=a.forEachInExtent(y,function(M){return da(M.extent,y)});m||(++l.loadingExtentsCount_,l.dispatchEvent(new zi(zn.FEATURESLOADSTART)),l.loader_.call(l,y,i,r,function(M){--this.loadingExtentsCount_,this.dispatchEvent(new zi(zn.FEATURESLOADEND,void 0,M))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new zi(zn.FEATURESLOADERROR))}.bind(l)),a.insert(y,{extent:y.slice()}))},l=this,h=0,c=o.length;h<c;++h)s(h);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var i=this.loadedExtentsRtree_,r;i.forEachInExtent(t,function(a){if(Oo(a.extent,t))return r=a,!0}),r&&i.remove(r)},e.prototype.removeFeature=function(t){if(!!t){var i=te(t);i in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[i]:this.featuresRtree_&&this.featuresRtree_.remove(t);var r=this.removeFeatureInternal(t);r&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var i=te(t),r=this.featureChangeKeys_[i];if(!!r){r.forEach(_e),delete this.featureChangeKeys_[i];var a=t.getId();return a!==void 0&&delete this.idIndex_[a.toString()],delete this.uidIndex_[i],this.dispatchEvent(new zi(zn.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var i=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],i=!0;break}return i},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Ht(this.format_,7),this.url_=t,this.setLoader(Md(t,this.format_))},e}(Hv),yC=_C;function Kv(n){var e=n||{},t=new gn,i=new nM(-.005,.05,100),r=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;r&&t.push(new BE);var a=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;a&&t.push(new RE({delta:e.zoomDelta,duration:e.zoomDuration}));var o=e.dragPan!==void 0?e.dragPan:!0;o&&t.push(new GE({onFocusOnly:e.onFocusOnly,kinetic:i}));var s=e.pinchRotate!==void 0?e.pinchRotate:!0;s&&t.push(new lM);var l=e.pinchZoom!==void 0?e.pinchZoom:!0;l&&t.push(new fM({duration:e.zoomDuration}));var h=e.keyboard!==void 0?e.keyboard:!0;h&&(t.push(new ZE),t.push(new tM({delta:e.zoomDelta,duration:e.zoomDuration})));var c=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;c&&t.push(new aM({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var d=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return d&&t.push(new HE({duration:e.zoomDuration})),t}var mC=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xC=function(n){mC(e,n);function e(t){return t=Ie({},t),t.controls||(t.controls=Av()),t.interactions||(t.interactions=Kv({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new jx(this)},e}(aE),Zv=xC;function EC(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]}var Hr=1,Vr=2,$s=3,MC=4,_h=5,Td=6378137,TC=6356752314e-3,Cd=.0066943799901413165,xo=484813681109536e-20,tt=Math.PI/2,CC=.16666666666666666,wC=.04722222222222222,SC=.022156084656084655,ft=1e-10,qe=.017453292519943295,li=57.29577951308232,ne=Math.PI/4,ko=Math.PI*2,be=3.14159265359,mn={};mn.greenwich=0;mn.lisbon=-9.131906111111;mn.paris=2.337229166667;mn.bogota=-74.080916666667;mn.madrid=-3.687938888889;mn.rome=12.452333333333;mn.bern=7.439583333333;mn.jakarta=106.807719444444;mn.ferro=-17.666666666667;mn.brussels=4.367975;mn.stockholm=18.058277777778;mn.athens=23.7163375;mn.oslo=10.722916666667;var RC={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},wd=/[\s_\-\/\(\)]/g;function fr(n,e){if(n[e])return n[e];for(var t=Object.keys(n),i=e.toLowerCase().replace(wd,""),r=-1,a,o;++r<t.length;)if(a=t[r],o=a.toLowerCase().replace(wd,""),o===i)return n[a]}function yh(n){var e={},t=n.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,l){var h=l.split("=");return h.push(!0),s[h[0].toLowerCase()]=h[1],s},{}),i,r,a,o={proj:"projName",datum:"datumCode",rf:function(s){e.rf=parseFloat(s)},lat_0:function(s){e.lat0=s*qe},lat_1:function(s){e.lat1=s*qe},lat_2:function(s){e.lat2=s*qe},lat_ts:function(s){e.lat_ts=s*qe},lon_0:function(s){e.long0=s*qe},lon_1:function(s){e.long1=s*qe},lon_2:function(s){e.long2=s*qe},alpha:function(s){e.alpha=parseFloat(s)*qe},gamma:function(s){e.rectified_grid_angle=parseFloat(s)},lonc:function(s){e.longc=s*qe},x_0:function(s){e.x0=parseFloat(s)},y_0:function(s){e.y0=parseFloat(s)},k_0:function(s){e.k0=parseFloat(s)},k:function(s){e.k0=parseFloat(s)},a:function(s){e.a=parseFloat(s)},b:function(s){e.b=parseFloat(s)},r_a:function(){e.R_A=!0},zone:function(s){e.zone=parseInt(s,10)},south:function(){e.utmSouth=!0},towgs84:function(s){e.datum_params=s.split(",").map(function(l){return parseFloat(l)})},to_meter:function(s){e.to_meter=parseFloat(s)},units:function(s){e.units=s;var l=fr(RC,s);l&&(e.to_meter=l.to_meter)},from_greenwich:function(s){e.from_greenwich=s*qe},pm:function(s){var l=fr(mn,s);e.from_greenwich=(l||parseFloat(s))*qe},nadgrids:function(s){s==="@null"?e.datumCode="none":e.nadgrids=s},axis:function(s){var l="ewnsud";s.length===3&&l.indexOf(s.substr(0,1))!==-1&&l.indexOf(s.substr(1,1))!==-1&&l.indexOf(s.substr(2,1))!==-1&&(e.axis=s)},approx:function(){e.approx=!0}};for(i in t)r=t[i],i in o?(a=o[i],typeof a=="function"?a(r):e[a]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var jo=1,Jv=2,Qv=3,fl=4,tg=5,gf=-1,OC=/\s/,IC=/[A-Za-z]/,PC=/[A-Za-z84_]/,Bl=/[,\]]/,eg=/[\d\.E\-\+]/;function Di(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=jo}Di.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==fl)for(;OC.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case jo:return this.neutral(n);case Jv:return this.keyword(n);case fl:return this.quoted(n);case tg:return this.afterquote(n);case Qv:return this.number(n);case gf:return}};Di.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=fl;return}if(Bl.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)};Di.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=jo;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=jo,this.currentObject=this.stack.pop(),this.currentObject||(this.state=gf);return}};Di.prototype.number=function(n){if(eg.test(n)){this.word+=n;return}if(Bl.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)};Di.prototype.quoted=function(n){if(n==='"'){this.state=tg;return}this.word+=n};Di.prototype.keyword=function(n){if(PC.test(n)){this.word+=n;return}if(n==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=jo;return}if(Bl.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)};Di.prototype.neutral=function(n){if(IC.test(n)){this.word=n,this.state=Jv;return}if(n==='"'){this.word="",this.state=fl;return}if(eg.test(n)){this.word=n,this.state=Qv;return}if(Bl.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)};Di.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===gf)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function AC(n){var e=new Di(n);return e.output()}function Sd(n,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var i=e?{}:n,r=t.reduce(function(a,o){return pa(o,a),a},i);e&&(n[e]=r)}function pa(n,e){if(!Array.isArray(n)){e[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){e[t]={},pa(n[0],e[t]);return}e[t]=n[0];return}if(!n.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=n;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(n);return}Array.isArray(t)||(e[t]={});var i;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&pa(n[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&pa(n[3],e[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],Sd(e,t,n);return;default:for(i=-1;++i<n.length;)if(!Array.isArray(n[i]))return pa(n,e[t]);return Sd(e,t,n)}}var bC=.017453292519943295;function LC(n,e){var t=e[0],i=e[1];!(t in n)&&i in n&&(n[t]=n[i],e.length===3&&(n[t]=e[2](n[t])))}function Ti(n){return n*bC}function NC(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var e="",t=0,i=n.AXIS.length;t<i;++t){var r=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?e+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?e+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?e+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(n.axis=e)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var a=n.GEOGCS;n.type==="GEOGCS"&&(a=n),a&&(a.DATUM?n.datumCode=a.DATUM.name.toLowerCase():n.datumCode=a.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(n.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=a.DATUM.SPHEROID.a,n.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(n.datum_params=a.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function o(h){var c=n.to_meter||1;return h*c}var s=function(h){return LC(n,h)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ti],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ti],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Ti],["lat0","latitude_of_origin",Ti],["lat0","standard_parallel_1",Ti],["lat1","standard_parallel_1",Ti],["lat2","standard_parallel_2",Ti],["azimuth","Azimuth"],["alpha","azimuth",Ti],["srsCode","name"]];l.forEach(s),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")&&(n.lat0=Ti(n.lat1>0?90:-90),n.lat_ts=n.lat1)}function ng(n){var e=AC(n),t=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",t]);var r={};return pa(e,r),NC(r),r}function an(n){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?an[n]=yh(arguments[1]):an[n]=ng(arguments[1]):an[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(i){Array.isArray(i)?an.apply(e,i):an(i)});if(typeof n=="string"){if(n in an)return an[n]}else"EPSG"in n?an["EPSG:"+n.EPSG]=n:"ESRI"in n?an["ESRI:"+n.ESRI]=n:"IAU2000"in n?an["IAU2000:"+n.IAU2000]=n:console.log(n);return}}EC(an);function FC(n){return typeof n=="string"}function DC(n){return n in an}var GC=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function kC(n){return GC.some(function(e){return n.indexOf(e)>-1})}var jC=["3857","900913","3785","102113"];function BC(n){var e=fr(n,"authority");if(!!e){var t=fr(e,"epsg");return t&&jC.indexOf(t)>-1}}function $C(n){var e=fr(n,"extension");if(!!e)return fr(e,"proj4")}function UC(n){return n[0]==="+"}function WC(n){if(FC(n)){if(DC(n))return an[n];if(kC(n)){var e=ng(n);if(BC(e))return an["EPSG:3857"];var t=$C(e);return t?yh(t):e}if(UC(n))return yh(n)}else return n}function Rd(n,e){n=n||{};var t,i;if(!e)return n;for(i in e)t=e[i],t!==void 0&&(n[i]=t);return n}function pi(n,e,t){var i=n*e;return t/Math.sqrt(1-i*i)}function Vo(n){return n<0?-1:1}function pt(n){return Math.abs(n)<=be?n:n-Vo(n)*ko}function Jn(n,e,t){var i=n*t,r=.5*n;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(tt-e))/i}function Bo(n,e){for(var t=.5*n,i,r,a=tt-2*Math.atan(e),o=0;o<=15;o++)if(i=n*Math.sin(a),r=tt-2*Math.atan(e*Math.pow((1-i)/(1+i),t))-a,a+=r,Math.abs(r)<=1e-10)return a;return-9999}function zC(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=pi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function XC(n){var e=n.x,t=n.y;if(t*li>90&&t*li<-90&&e*li>180&&e*li<-180)return null;var i,r;if(Math.abs(Math.abs(t)-tt)<=ft)return null;if(this.sphere)i=this.x0+this.a*this.k0*pt(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(ne+.5*t));else{var a=Math.sin(t),o=Jn(this.e,t,a);i=this.x0+this.a*this.k0*pt(e-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return n.x=i,n.y=r,n}function qC(n){var e=n.x-this.x0,t=n.y-this.y0,i,r;if(this.sphere)r=tt-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var a=Math.exp(-t/(this.a*this.k0));if(r=Bo(this.e,a),r===-9999)return null}return i=pt(this.long0+e/(this.a*this.k0)),n.x=i,n.y=r,n}var YC=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],HC={init:zC,forward:XC,inverse:qC,names:YC};function VC(){}function Od(n){return n}var KC=["longlat","identity"],ZC={init:VC,forward:Od,inverse:Od,names:KC},JC=[HC,ZC],Us={},cl=[];function ig(n,e){var t=cl.length;return n.names?(cl[t]=n,n.names.forEach(function(i){Us[i.toLowerCase()]=t}),this):(console.log(e),!0)}function QC(n){if(!n)return!1;var e=n.toLowerCase();if(typeof Us[e]!="undefined"&&cl[Us[e]])return cl[Us[e]]}function tw(){JC.forEach(ig)}var ew={start:tw,add:ig,get:QC},Gt={};Gt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Gt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Gt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Gt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Gt.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Gt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Gt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Gt.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Gt.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Gt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Gt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Gt.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Gt.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Gt.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Gt.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Gt.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Gt.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Gt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Gt.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Gt.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Gt.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Gt.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Gt.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Gt.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Gt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Gt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Gt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Gt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Gt.hough={a:6378270,rf:297,ellipseName:"Hough"};Gt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Gt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Gt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Gt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Gt.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Gt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Gt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Gt.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Gt.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Gt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Gt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Gt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var nw=Gt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Gt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function iw(n,e,t,i){var r=n*n,a=e*e,o=(r-a)/r,s=0;i?(n*=1-o*(CC+o*(wC+o*SC)),r=n*n,o=0):s=Math.sqrt(o);var l=(r-a)/a;return{es:o,e:s,ep2:l}}function rw(n,e,t,i,r){if(!n){var a=fr(Gt,i);a||(a=nw),n=a.a,e=a.b,t=a.rf}return t&&!e&&(e=(1-1/t)*n),(t===0||Math.abs(n-e)<ft)&&(r=!0,e=n),{a:n,b:e,rf:t,sphere:r}}var De={};De.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};De.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};De.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};De.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};De.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};De.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};De.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};De.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};De.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};De.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};De.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};De.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};De.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};De.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};De.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};De.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};De.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function aw(n,e,t,i,r,a,o){var s={};return n===void 0||n==="none"?s.datum_type=_h:s.datum_type=MC,e&&(s.datum_params=e.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=Hr),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=Vr,s.datum_params[3]*=xo,s.datum_params[4]*=xo,s.datum_params[5]*=xo,s.datum_params[6]=s.datum_params[6]/1e6+1)),o&&(s.datum_type=$s,s.grids=o),s.a=t,s.b=i,s.es=r,s.ep2=a,s}var rg={};function ow(n,e){var t=new DataView(e),i=uw(t),r=hw(t,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=fw(t,r,i),o={header:r,subgrids:a};return rg[n]=o,o}function sw(n){if(n===void 0)return null;var e=n.split(",");return e.map(lw)}function lw(n){if(n.length===0)return null;var e=n[0]==="@";return e&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:n,mandatory:!e,grid:rg[n]||null,isNull:!1}}function va(n){return n/3600*Math.PI/180}function uw(n){var e=n.getInt32(8,!1);return e===11?!1:(e=n.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function hw(n,e){return{nFields:n.getInt32(8,e),nSubgridFields:n.getInt32(24,e),nSubgrids:n.getInt32(40,e),shiftType:mh(n,56,56+8).trim(),fromSemiMajorAxis:n.getFloat64(120,e),fromSemiMinorAxis:n.getFloat64(136,e),toSemiMajorAxis:n.getFloat64(152,e),toSemiMinorAxis:n.getFloat64(168,e)}}function mh(n,e,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(e,t)))}function fw(n,e,t){for(var i=176,r=[],a=0;a<e.nSubgrids;a++){var o=dw(n,i,t),s=pw(n,i,o,t),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),h=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);r.push({ll:[va(o.lowerLongitude),va(o.lowerLatitude)],del:[va(o.longitudeInterval),va(o.latitudeInterval)],lim:[l,h],count:o.gridNodeCount,cvs:cw(s)})}return r}function cw(n){return n.map(function(e){return[va(e.longitudeShift),va(e.latitudeShift)]})}function dw(n,e,t){return{name:mh(n,e+8,e+16).trim(),parent:mh(n,e+24,e+24+8).trim(),lowerLatitude:n.getFloat64(e+72,t),upperLatitude:n.getFloat64(e+88,t),lowerLongitude:n.getFloat64(e+104,t),upperLongitude:n.getFloat64(e+120,t),latitudeInterval:n.getFloat64(e+136,t),longitudeInterval:n.getFloat64(e+152,t),gridNodeCount:n.getInt32(e+168,t)}}function pw(n,e,t,i){for(var r=e+176,a=16,o=[],s=0;s<t.gridNodeCount;s++){var l={latitudeShift:n.getFloat32(r+s*a,i),longitudeShift:n.getFloat32(r+s*a+4,i),latitudeAccuracy:n.getFloat32(r+s*a+8,i),longitudeAccuracy:n.getFloat32(r+s*a+12,i)};o.push(l)}return o}function fi(n,e){if(!(this instanceof fi))return new fi(n);e=e||function(h){if(h)throw h};var t=WC(n);if(typeof t!="object"){e(n);return}var i=fi.projections.get(t.projName);if(!i){e(n);return}if(t.datumCode&&t.datumCode!=="none"){var r=fr(De,t.datumCode);r&&(t.datum_params=t.datum_params||(r.towgs84?r.towgs84.split(","):null),t.ellps=r.ellipse,t.datumName=r.datumName?r.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var a=rw(t.a,t.b,t.rf,t.ellps,t.sphere),o=iw(a.a,a.b,a.rf,t.R_A),s=sw(t.nadgrids),l=t.datum||aw(t.datumCode,t.datum_params,a.a,a.b,o.es,o.ep2,s);Rd(this,t),Rd(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}fi.projections=ew;fi.projections.start();function vw(n,e){return n.datum_type!==e.datum_type||n.a!==e.a||Math.abs(n.es-e.es)>5e-11?!1:n.datum_type===Hr?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]:n.datum_type===Vr?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]&&n.datum_params[3]===e.datum_params[3]&&n.datum_params[4]===e.datum_params[4]&&n.datum_params[5]===e.datum_params[5]&&n.datum_params[6]===e.datum_params[6]:!0}function ag(n,e,t){var i=n.x,r=n.y,a=n.z?n.z:0,o,s,l,h;if(r<-tt&&r>-1.001*tt)r=-tt;else if(r>tt&&r<1.001*tt)r=tt;else{if(r<-tt)return{x:-1/0,y:-1/0,z:n.z};if(r>tt)return{x:1/0,y:1/0,z:n.z}}return i>Math.PI&&(i-=2*Math.PI),s=Math.sin(r),h=Math.cos(r),l=s*s,o=t/Math.sqrt(1-e*l),{x:(o+a)*h*Math.cos(i),y:(o+a)*h*Math.sin(i),z:(o*(1-e)+a)*s}}function og(n,e,t,i){var r=1e-12,a=r*r,o=30,s,l,h,c,d,g,y,m,M,w,S,A,b,L=n.x,j=n.y,v=n.z?n.z:0,H,$,V;if(s=Math.sqrt(L*L+j*j),l=Math.sqrt(L*L+j*j+v*v),s/t<r){if(H=0,l/t<r)return $=tt,V=-i,{x:n.x,y:n.y,z:n.z}}else H=Math.atan2(j,L);h=v/l,c=s/l,d=1/Math.sqrt(1-e*(2-e)*c*c),m=c*(1-e)*d,M=h*d,b=0;do b++,y=t/Math.sqrt(1-e*M*M),V=s*m+v*M-y*(1-e*M*M),g=e*y/(y+V),d=1/Math.sqrt(1-g*(2-g)*c*c),w=c*(1-g)*d,S=h*d,A=S*m-w*M,m=w,M=S;while(A*A>a&&b<o);return $=Math.atan(S/Math.abs(w)),{x:H,y:$,z:V}}function gw(n,e,t){if(e===Hr)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(e===Vr){var i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],h=t[6];return{x:h*(n.x-l*n.y+s*n.z)+i,y:h*(l*n.x+n.y-o*n.z)+r,z:h*(-s*n.x+o*n.y+n.z)+a}}}function _w(n,e,t){if(e===Hr)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(e===Vr){var i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],h=t[6],c=(n.x-i)/h,d=(n.y-r)/h,g=(n.z-a)/h;return{x:c+l*d-s*g,y:-l*c+d+o*g,z:s*c-o*d+g}}}function Ps(n){return n===Hr||n===Vr}function yw(n,e,t){if(vw(n,e)||n.datum_type===_h||e.datum_type===_h)return t;var i=n.a,r=n.es;if(n.datum_type===$s){var a=Id(n,!1,t);if(a!==0)return;i=Td,r=Cd}var o=e.a,s=e.b,l=e.es;if(e.datum_type===$s&&(o=Td,s=TC,l=Cd),r===l&&i===o&&!Ps(n.datum_type)&&!Ps(e.datum_type))return t;if(t=ag(t,r,i),Ps(n.datum_type)&&(t=gw(t,n.datum_type,n.datum_params)),Ps(e.datum_type)&&(t=_w(t,e.datum_type,e.datum_params)),t=og(t,l,o,s),e.datum_type===$s){var h=Id(e,!0,t);if(h!==0)return}return t}function Id(n,e,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var i={x:-t.x,y:t.y},r={x:Number.NaN,y:Number.NaN},a=[],o=0;o<n.grids.length;o++){var s=n.grids[o];if(a.push(s.name),s.isNull){r=i;break}if(s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}var l=s.grid.subgrids[0],h=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,c=l.ll[0]-h,d=l.ll[1]-h,g=l.ll[0]+(l.lim[0]-1)*l.del[0]+h,y=l.ll[1]+(l.lim[1]-1)*l.del[1]+h;if(!(d>i.y||c>i.x||y<i.y||g<i.x)&&(r=mw(i,e,l),!isNaN(r.x)))break}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*li+" "+i.y*li+" tried: '"+a+"'"),-1):(t.x=-r.x,t.y=r.y,0)}function mw(n,e,t){var i={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return i;var r={x:n.x,y:n.y};r.x-=t.ll[0],r.y-=t.ll[1],r.x=pt(r.x-Math.PI)+Math.PI;var a=Pd(r,t);if(e){if(isNaN(a.x))return i;a.x=r.x-a.x,a.y=r.y-a.y;var o=9,s=1e-12,l,h;do{if(h=Pd(a,t),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(h.x+a.x),y:r.y-(h.y+a.y)},a.x+=l.x,a.y+=l.y}while(o--&&Math.abs(l.x)>s&&Math.abs(l.y)>s);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=pt(a.x+t.ll[0]),i.y=a.y+t.ll[1]}else isNaN(a.x)||(i.x=n.x+a.x,i.y=n.y+a.y);return i}function Pd(n,e){var t={x:n.x/e.del[0],y:n.y/e.del[1]},i={x:Math.floor(t.x),y:Math.floor(t.y)},r={x:t.x-1*i.x,y:t.y-1*i.y},a={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return a;o=i.y*e.lim[0]+i.x;var s={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var h={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var c={x:e.cvs[o][0],y:e.cvs[o][1]},d=r.x*r.y,g=r.x*(1-r.y),y=(1-r.x)*(1-r.y),m=(1-r.x)*r.y;return a.x=y*s.x+g*l.x+m*c.x+d*h.x,a.y=y*s.y+g*l.y+m*c.y+d*h.y,a}function Ad(n,e,t){var i=t.x,r=t.y,a=t.z||0,o,s,l,h={};for(l=0;l<3;l++)if(!(e&&l===2&&t.z===void 0))switch(l===0?(o=i,"ew".indexOf(n.axis[l])!==-1?s="x":s="y"):l===1?(o=r,"ns".indexOf(n.axis[l])!==-1?s="y":s="x"):(o=a,s="z"),n.axis[l]){case"e":h[s]=o;break;case"w":h[s]=-o;break;case"n":h[s]=o;break;case"s":h[s]=-o;break;case"u":t[s]!==void 0&&(h.z=o);break;case"d":t[s]!==void 0&&(h.z=-o);break;default:return null}return h}function sg(n){var e={x:n[0],y:n[1]};return n.length>2&&(e.z=n[2]),n.length>3&&(e.m=n[3]),e}function xw(n){bd(n.x),bd(n.y)}function bd(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function Ew(n,e){return(n.datum.datum_type===Hr||n.datum.datum_type===Vr)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Hr||e.datum.datum_type===Vr)&&n.datumCode!=="WGS84"}function dl(n,e,t,i){var r;if(Array.isArray(t)&&(t=sg(t)),xw(t),n.datum&&e.datum&&Ew(n,e)&&(r=new fi("WGS84"),t=dl(n,r,t,i),n=r),i&&n.axis!=="enu"&&(t=Ad(n,!1,t)),n.projName==="longlat")t={x:t.x*qe,y:t.y*qe,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=yw(n.datum,e.datum,t),!!t)return e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*li,y:t.y*li,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),i&&e.axis!=="enu"?Ad(e,!0,t):t}var Ld=fi("WGS84");function Iu(n,e,t,i){var r,a,o;return Array.isArray(t)?(r=dl(n,e,t,i)||{x:NaN,y:NaN},t.length>2?typeof n.name!="undefined"&&n.name==="geocent"||typeof e.name!="undefined"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(t.splice(3)):[r.x,r.y,t[2]].concat(t.splice(3)):[r.x,r.y].concat(t.splice(2)):[r.x,r.y]):(a=dl(n,e,t,i),o=Object.keys(t),o.length===2||o.forEach(function(s){if(typeof n.name!="undefined"&&n.name==="geocent"||typeof e.name!="undefined"&&e.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;a[s]=t[s]}),a)}function Nd(n){return n instanceof fi?n:n.oProj?n.oProj:fi(n)}function _n(n,e,t){n=Nd(n);var i=!1,r;return typeof e=="undefined"?(e=n,n=Ld,i=!0):(typeof e.x!="undefined"||Array.isArray(e))&&(t=e,e=n,n=Ld,i=!0),e=Nd(e),t?Iu(n,e,t):(r={forward:function(a,o){return Iu(n,e,a,o)},inverse:function(a,o){return Iu(e,n,a,o)}},i&&(r.oProj=e),r)}var Fd=6,lg="AJSAJS",ug="AFAFAF",ga=65,fn=73,bn=79,fo=86,co=90,Mw={forward:hg,inverse:Tw,toPoint:fg};function hg(n,e){return e=e||5,Sw(Cw({lat:n[1],lon:n[0]}),e)}function Tw(n){var e=_f(dg(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function fg(n){var e=_f(dg(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Pu(n){return n*(Math.PI/180)}function Dd(n){return 180*(n/Math.PI)}function Cw(n){var e=n.lat,t=n.lon,i=6378137,r=.00669438,a=.9996,o,s,l,h,c,d,g,y=Pu(e),m=Pu(t),M,w;w=Math.floor((t+180)/6)+1,t===180&&(w=60),e>=56&&e<64&&t>=3&&t<12&&(w=32),e>=72&&e<84&&(t>=0&&t<9?w=31:t>=9&&t<21?w=33:t>=21&&t<33?w=35:t>=33&&t<42&&(w=37)),o=(w-1)*6-180+3,M=Pu(o),s=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(y)*Math.sin(y)),h=Math.tan(y)*Math.tan(y),c=s*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(m-M),g=i*((1-r/4-3*r*r/64-5*r*r*r/256)*y-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*y)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*y)-35*r*r*r/3072*Math.sin(6*y));var S=a*l*(d+(1-h+c)*d*d*d/6+(5-18*h+h*h+72*c-58*s)*d*d*d*d*d/120)+5e5,A=a*(g+l*Math.tan(y)*(d*d/2+(5-h+9*c+4*c*c)*d*d*d*d/24+(61-58*h+h*h+600*c-330*s)*d*d*d*d*d*d/720));return e<0&&(A+=1e7),{northing:Math.round(A),easting:Math.round(S),zoneNumber:w,zoneLetter:ww(e)}}function _f(n){var e=n.northing,t=n.easting,i=n.zoneLetter,r=n.zoneNumber;if(r<0||r>60)return null;var a=.9996,o=6378137,s=.00669438,l,h=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),c,d,g,y,m,M,w,S,A,b=t-5e5,L=e;i<"N"&&(L-=1e7),w=(r-1)*6-180+3,l=s/(1-s),M=L/a,S=M/(o*(1-s/4-3*s*s/64-5*s*s*s/256)),A=S+(3*h/2-27*h*h*h/32)*Math.sin(2*S)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*S)+151*h*h*h/96*Math.sin(6*S),c=o/Math.sqrt(1-s*Math.sin(A)*Math.sin(A)),d=Math.tan(A)*Math.tan(A),g=l*Math.cos(A)*Math.cos(A),y=o*(1-s)/Math.pow(1-s*Math.sin(A)*Math.sin(A),1.5),m=b/(c*a);var j=A-c*Math.tan(A)/y*(m*m/2-(5+3*d+10*g-4*g*g-9*l)*m*m*m*m/24+(61+90*d+298*g+45*d*d-252*l-3*g*g)*m*m*m*m*m*m/720);j=Dd(j);var v=(m-(1+2*d+g)*m*m*m/6+(5-2*g+28*d-3*g*g+8*l+24*d*d)*m*m*m*m*m/120)/Math.cos(A);v=w+Dd(v);var H;if(n.accuracy){var $=_f({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});H={top:$.lat,right:$.lon,bottom:j,left:v}}else H={lat:j,lon:v};return H}function ww(n){var e="Z";return 84>=n&&n>=72?e="X":72>n&&n>=64?e="W":64>n&&n>=56?e="V":56>n&&n>=48?e="U":48>n&&n>=40?e="T":40>n&&n>=32?e="S":32>n&&n>=24?e="R":24>n&&n>=16?e="Q":16>n&&n>=8?e="P":8>n&&n>=0?e="N":0>n&&n>=-8?e="M":-8>n&&n>=-16?e="L":-16>n&&n>=-24?e="K":-24>n&&n>=-32?e="J":-32>n&&n>=-40?e="H":-40>n&&n>=-48?e="G":-48>n&&n>=-56?e="F":-56>n&&n>=-64?e="E":-64>n&&n>=-72?e="D":-72>n&&n>=-80&&(e="C"),e}function Sw(n,e){var t="00000"+n.easting,i="00000"+n.northing;return n.zoneNumber+n.zoneLetter+Rw(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,e)+i.substr(i.length-5,e)}function Rw(n,e,t){var i=cg(t),r=Math.floor(n/1e5),a=Math.floor(e/1e5)%20;return Ow(r,a,i)}function cg(n){var e=n%Fd;return e===0&&(e=Fd),e}function Ow(n,e,t){var i=t-1,r=lg.charCodeAt(i),a=ug.charCodeAt(i),o=r+n-1,s=a+e,l=!1;o>co&&(o=o-co+ga-1,l=!0),(o===fn||r<fn&&o>fn||(o>fn||r<fn)&&l)&&o++,(o===bn||r<bn&&o>bn||(o>bn||r<bn)&&l)&&(o++,o===fn&&o++),o>co&&(o=o-co+ga-1),s>fo?(s=s-fo+ga-1,l=!0):l=!1,(s===fn||a<fn&&s>fn||(s>fn||a<fn)&&l)&&s++,(s===bn||a<bn&&s>bn||(s>bn||a<bn)&&l)&&(s++,s===fn&&s++),s>fo&&(s=s-fo+ga-1);var h=String.fromCharCode(o)+String.fromCharCode(s);return h}function dg(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var e=n.length,t=null,i="",r,a=0;!/[A-Z]/.test(r=n.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+n;i+=r,a++}var o=parseInt(i,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+n;var s=n.charAt(a++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+n;t=n.substring(a,a+=2);for(var l=cg(o),h=Iw(t.charAt(0),l),c=Pw(t.charAt(1),l);c<Aw(s);)c+=2e6;var d=e-a;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var g=d/2,y=0,m=0,M,w,S,A,b;return g>0&&(M=1e5/Math.pow(10,g),w=n.substring(a,a+g),y=parseFloat(w)*M,S=n.substring(a+g),m=parseFloat(S)*M),A=y+h,b=m+c,{easting:A,northing:b,zoneLetter:s,zoneNumber:o,accuracy:M}}function Iw(n,e){for(var t=lg.charCodeAt(e-1),i=1e5,r=!1;t!==n.charCodeAt(0);){if(t++,t===fn&&t++,t===bn&&t++,t>co){if(r)throw"Bad character: "+n;t=ga,r=!0}i+=1e5}return i}function Pw(n,e){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=ug.charCodeAt(e-1),i=0,r=!1;t!==n.charCodeAt(0);){if(t++,t===fn&&t++,t===bn&&t++,t>fo){if(r)throw"Bad character: "+n;t=ga,r=!0}i+=1e5}return i}function Aw(n){var e;switch(n){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+n}function ba(n,e,t){if(!(this instanceof ba))return new ba(n,e,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof e=="undefined"){var i=n.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=n,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ba.fromMGRS=function(n){return new ba(fg(n))};ba.prototype.toMGRS=function(n){return hg([this.x,this.y],n)};var bw=1,Lw=.25,Gd=.046875,kd=.01953125,jd=.01068115234375,Nw=.75,Fw=.46875,Dw=.013020833333333334,Gw=.007120768229166667,kw=.3645833333333333,jw=.005696614583333333,Bw=.3076171875;function pg(n){var e=[];e[0]=bw-n*(Lw+n*(Gd+n*(kd+n*jd))),e[1]=n*(Nw-n*(Gd+n*(kd+n*jd)));var t=n*n;return e[2]=t*(Fw-n*(Dw+n*Gw)),t*=n,e[3]=t*(kw-n*jw),e[4]=t*n*Bw,e}function $l(n,e,t,i){return t*=e,e*=e,i[0]*n-t*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var $w=20;function vg(n,e,t){for(var i=1/(1-e),r=n,a=$w;a;--a){var o=Math.sin(r),s=1-e*o*o;if(s=($l(r,o,Math.cos(r),t)-n)*(s*Math.sqrt(s))*i,r-=s,Math.abs(s)<ft)return r}return r}function Uw(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=pg(this.es),this.ml0=$l(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function Ww(n){var e=n.x,t=n.y,i=pt(e-this.long0),r,a,o,s=Math.sin(t),l=Math.cos(t);if(this.es){var c=l*i,d=Math.pow(c,2),g=this.ep2*Math.pow(l,2),y=Math.pow(g,2),m=Math.abs(l)>ft?Math.tan(t):0,M=Math.pow(m,2),w=Math.pow(M,2);r=1-this.es*Math.pow(s,2),c=c/Math.sqrt(r);var S=$l(t,s,l,this.en);a=this.a*(this.k0*c*(1+d/6*(1-M+g+d/20*(5-18*M+w+14*g-58*M*g+d/42*(61+179*w-w*M-479*M)))))+this.x0,o=this.a*(this.k0*(S-this.ml0+s*i*c/2*(1+d/12*(5-M+9*g+4*y+d/30*(61+w-58*M+270*g-330*M*g+d/56*(1385+543*w-w*M-3111*M))))))+this.y0}else{var h=l*Math.sin(i);if(Math.abs(Math.abs(h)-1)<ft)return 93;if(a=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(o),h>=1){if(h-1>ft)return 93;o=0}else o=Math.acos(o);t<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return n.x=a,n.y=o,n}function zw(n){var e,t,i,r,a=(n.x-this.x0)*(1/this.a),o=(n.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,t=vg(e,this.es,this.en),Math.abs(t)<tt){var d=Math.sin(t),g=Math.cos(t),y=Math.abs(g)>ft?Math.tan(t):0,m=this.ep2*Math.pow(g,2),M=Math.pow(m,2),w=Math.pow(y,2),S=Math.pow(w,2);e=1-this.es*Math.pow(d,2);var A=a*Math.sqrt(e)/this.k0,b=Math.pow(A,2);e=e*y,i=t-e*b/(1-this.es)*.5*(1-b/12*(5+3*w-9*m*w+m-4*M-b/30*(61+90*w-252*m*w+45*S+46*m-b/56*(1385+3633*w+4095*S+1574*S*w)))),r=pt(this.long0+A*(1-b/6*(1+2*w+m-b/20*(5+28*w+24*S+8*m*w+6*m-b/42*(61+662*w+1320*S+720*S*w))))/g)}else i=tt*Vo(o),r=0;else{var s=Math.exp(a/this.k0),l=.5*(s-1/s),h=this.lat0+o/this.k0,c=Math.cos(h);e=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(l,2))),i=Math.asin(e),o<0&&(i=-i),l===0&&c===0?r=0:r=pt(Math.atan2(l,c)+this.long0)}return n.x=r,n.y=i,n}var Xw=["Fast_Transverse_Mercator","Fast Transverse Mercator"],Ws={init:Uw,forward:Ww,inverse:zw,names:Xw};function gg(n){var e=Math.exp(n);return e=(e-1/e)/2,e}function Hn(n,e){n=Math.abs(n),e=Math.abs(e);var t=Math.max(n,e),i=Math.min(n,e)/(t||1);return t*Math.sqrt(1+Math.pow(i,2))}function qw(n){var e=1+n,t=e-1;return t===0?n:n*Math.log(e)/t}function Yw(n){var e=Math.abs(n);return e=qw(e*(1+e/(Hn(1,e)+1))),n<0?-e:e}function yf(n,e){for(var t=2*Math.cos(2*e),i=n.length-1,r=n[i],a=0,o;--i>=0;)o=-a+t*r+n[i],a=r,r=o;return e+o*Math.sin(2*e)}function Hw(n,e){for(var t=2*Math.cos(e),i=n.length-1,r=n[i],a=0,o;--i>=0;)o=-a+t*r+n[i],a=r,r=o;return Math.sin(e)*o}function Vw(n){var e=Math.exp(n);return e=(e+1/e)/2,e}function _g(n,e,t){for(var i=Math.sin(e),r=Math.cos(e),a=gg(t),o=Vw(t),s=2*r*o,l=-2*i*a,h=n.length-1,c=n[h],d=0,g=0,y=0,m,M;--h>=0;)m=g,M=d,g=c,d=y,c=-m+s*g-l*d+n[h],y=-M+l*g+s*d;return s=i*o,l=r*a,[s*c-l*y,s*y+l*c]}function Kw(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ws.init.apply(this),this.forward=Ws.forward,this.inverse=Ws.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),e=n/(2-n),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var i=yf(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Hw(this.gtu,2*i))}function Zw(n){var e=pt(n.x-this.long0),t=n.y;t=yf(this.cbg,t);var i=Math.sin(t),r=Math.cos(t),a=Math.sin(e),o=Math.cos(e);t=Math.atan2(i,o*r),e=Math.atan2(a*r,Hn(i,r*o)),e=Yw(Math.tan(e));var s=_g(this.gtu,2*t,2*e);t=t+s[0],e=e+s[1];var l,h;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,h=1/0),n.x=l,n.y=h,n}function Jw(n){var e=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var a=_g(this.utg,2*t,2*e);t=t+a[0],e=e+a[1],e=Math.atan(gg(e));var o=Math.sin(t),s=Math.cos(t),l=Math.sin(e),h=Math.cos(e);t=Math.atan2(o*h,Hn(l,h*s)),e=Math.atan2(l,h*s),i=pt(e+this.long0),r=yf(this.cgb,t)}else i=1/0,r=1/0;return n.x=i,n.y=r,n}var Qw=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],zs={init:Kw,forward:Zw,inverse:Jw,names:Qw};function tS(n,e){if(n===void 0){if(n=Math.floor((pt(e)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n}var eS="etmerc";function nS(){var n=tS(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*qe,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,zs.init.apply(this),this.forward=zs.forward,this.inverse=zs.inverse}var iS=["Universal Transverse Mercator System","utm"],rS={init:nS,names:iS,dependsOn:eS};function mf(n,e){return Math.pow((1-n)/(1+n),e)}var aS=20;function oS(){var n=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ne)/(Math.pow(Math.tan(.5*this.lat0+ne),this.C)*mf(this.e*n,this.ratexp))}function sS(n){var e=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+ne),this.C)*mf(this.e*Math.sin(t),this.ratexp))-tt,n.x=this.C*e,n}function lS(n){for(var e=1e-14,t=n.x/this.C,i=n.y,r=Math.pow(Math.tan(.5*i+ne)/this.K,1/this.C),a=aS;a>0&&(i=2*Math.atan(r*mf(this.e*Math.sin(n.y),-.5*this.e))-tt,!(Math.abs(i-n.y)<e));--a)n.y=i;return a?(n.x=t,n.y=i,n):null}var uS=["gauss"],xf={init:oS,forward:sS,inverse:lS,names:uS};function hS(){xf.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function fS(n){var e,t,i,r;return n.x=pt(n.x-this.long0),xf.forward.apply(this,[n]),e=Math.sin(n.y),t=Math.cos(n.y),i=Math.cos(n.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*i),n.x=r*t*Math.sin(n.x),n.y=r*(this.cosc0*e-this.sinc0*t*i),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function cS(n){var e,t,i,r,a;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,a=Math.sqrt(n.x*n.x+n.y*n.y)){var o=2*Math.atan2(a,this.R2);e=Math.sin(o),t=Math.cos(o),r=Math.asin(t*this.sinc0+n.y*e*this.cosc0/a),i=Math.atan2(n.x*e,a*this.cosc0*t-n.y*this.sinc0*e)}else r=this.phic0,i=0;return n.x=i,n.y=r,xf.inverse.apply(this,[n]),n.x=pt(n.x+this.long0),n}var dS=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],pS={init:hS,forward:fS,inverse:cS,names:dS};function vS(n,e,t){return e*=t,Math.tan(.5*(tt+n))*Math.pow((1-e)/(1+e),.5*t)}function gS(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ft&&(this.k0=.5*(1+Vo(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ft&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ft&&(this.k0=.5*this.cons*pi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Jn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=pi(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-tt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function _S(n){var e=n.x,t=n.y,i=Math.sin(t),r=Math.cos(t),a,o,s,l,h,c,d=pt(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ft&&Math.abs(t+this.lat0)<=ft?(n.x=NaN,n.y=NaN,n):this.sphere?(a=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(d)),n.x=this.a*a*r*Math.sin(d)+this.x0,n.y=this.a*a*(this.coslat0*i-this.sinlat0*r*Math.cos(d))+this.y0,n):(o=2*Math.atan(this.ssfn_(t,i,this.e))-tt,l=Math.cos(o),s=Math.sin(o),Math.abs(this.coslat0)<=ft?(h=Jn(this.e,t*this.con,this.con*i),c=2*this.a*this.k0*h/this.cons,n.x=this.x0+c*Math.sin(e-this.long0),n.y=this.y0-this.con*c*Math.cos(e-this.long0),n):(Math.abs(this.sinlat0)<ft?(a=2*this.a*this.k0/(1+l*Math.cos(d)),n.y=a*s):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*l*Math.cos(d))),n.y=a*(this.cosX0*s-this.sinX0*l*Math.cos(d))+this.y0),n.x=a*l*Math.sin(d)+this.x0,n))}function yS(n){n.x-=this.x0,n.y-=this.y0;var e,t,i,r,a,o=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,t=this.lat0,o<=ft?(n.x=e,n.y=t,n):(t=Math.asin(Math.cos(s)*this.sinlat0+n.y*Math.sin(s)*this.coslat0/o),Math.abs(this.coslat0)<ft?this.lat0>0?e=pt(this.long0+Math.atan2(n.x,-1*n.y)):e=pt(this.long0+Math.atan2(n.x,n.y)):e=pt(this.long0+Math.atan2(n.x*Math.sin(s),o*this.coslat0*Math.cos(s)-n.y*this.sinlat0*Math.sin(s))),n.x=e,n.y=t,n)}else if(Math.abs(this.coslat0)<=ft){if(o<=ft)return t=this.lat0,e=this.long0,n.x=e,n.y=t,n;n.x*=this.con,n.y*=this.con,i=o*this.cons/(2*this.a*this.k0),t=this.con*Bo(this.e,i),e=this.con*pt(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=ft?a=this.X0:(a=Math.asin(Math.cos(r)*this.sinX0+n.y*Math.sin(r)*this.cosX0/o),e=pt(this.long0+Math.atan2(n.x*Math.sin(r),o*this.cosX0*Math.cos(r)-n.y*this.sinX0*Math.sin(r)))),t=-1*Bo(this.e,Math.tan(.5*(tt+a)));return n.x=e,n.y=t,n}var mS=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],xS={init:gS,forward:_S,inverse:yS,names:mS,ssfn_:vS};function ES(){var n=this.lat0;this.lambda0=this.long0;var e=Math.sin(n),t=this.a,i=this.rf,r=1/i,a=2*r-Math.pow(r,2),o=this.e=Math.sqrt(a);this.R=this.k0*t*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+n/2)),h=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*l+this.alpha*o/2*h}function MS(n){var e=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),i=-this.alpha*(e+t)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),a=this.alpha*(n.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(a));return n.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,n.x=this.R*o+this.x0,n}function TS(n){for(var e=n.x-this.x0,t=n.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+o/this.alpha,l=0,h=a,c=-1e3,d=0;Math.abs(h-c)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),c=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return n.x=s,n.y=h,n}var CS=["somerc"],wS={init:ES,forward:MS,inverse:TS,names:CS},fa=1e-7;function SS(n){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||e.indexOf(t)!==-1}function RS(){var n,e,t,i,r,a,o,s,l,h,c=0,d,g=0,y=0,m=0,M=0,w=0,S=0;this.no_off=SS(this),this.no_rot="no_rot"in this;var A=!1;"alpha"in this&&(A=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),A&&(S=this.alpha),b&&(c=this.rectified_grid_angle*qe),A||b)g=this.longc;else if(y=this.long1,M=this.lat1,m=this.long2,w=this.lat2,Math.abs(M-w)<=fa||(n=Math.abs(M))<=fa||Math.abs(n-tt)<=fa||Math.abs(Math.abs(this.lat0)-tt)<=fa||Math.abs(Math.abs(w)-tt)<=fa)throw new Error;var L=1-this.es;e=Math.sqrt(L),Math.abs(this.lat0)>ft?(s=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*s*s,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/L),this.A=this.B*this.k0*e/n,i=this.B*e/(t*Math.sqrt(n)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(Jn(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),A||b?(A?(d=Math.asin(Math.sin(S)/i),b||(c=S)):(d=c,S=Math.asin(i*Math.sin(d))),this.lam0=g-Math.asin(.5*(r-1/r)*Math.tan(d))/this.B):(a=Math.pow(Jn(this.e,M,Math.sin(M)),this.B),o=Math.pow(Jn(this.e,w,Math.sin(w)),this.B),r=this.E/a,l=(o-a)/(o+a),h=this.E*this.E,h=(h-o*a)/(h+o*a),n=y-m,n<-Math.pi?m-=ko:n>Math.pi&&(m+=ko),this.lam0=pt(.5*(y+m)-Math.atan(h*Math.tan(.5*this.B*(y-m))/l)/this.B),d=Math.atan(2*Math.sin(this.B*pt(y-this.lam0))/(r-1/r)),c=S=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(S))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(ne-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(ne+r))}function OS(n){var e={},t,i,r,a,o,s,l,h;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-tt)>ft){if(o=this.E/Math.pow(Jn(this.e,n.y,Math.sin(n.y)),this.B),s=1/o,t=.5*(o-s),i=.5*(o+s),a=Math.sin(this.B*n.x),r=(t*this.singam-a*this.cosgam)/i,Math.abs(Math.abs(r)-1)<ft)throw new Error;h=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*n.x),Math.abs(s)<fa?l=this.A*n.x:l=this.ArB*Math.atan2(t*this.cosgam+a*this.singam,s)}else h=n.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*n.y;return this.no_rot?(e.x=l,e.y=h):(l-=this.u_0,e.x=h*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-h*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function IS(n){var e,t,i,r,a,o,s,l={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,e=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,e=n.y*this.cosrot+n.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*t),r=.5*(i-1/i),a=.5*(i+1/i),o=Math.sin(this.BrA*e),s=(o*this.cosgam+r*this.singam)/a,Math.abs(Math.abs(s)-1)<ft)l.x=0,l.y=s<0?-tt:tt;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=Bo(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var PS=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],AS={init:RS,forward:OS,inverse:IS,names:PS};function bS(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ft)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),i=pi(this.e,e,t),r=Jn(this.e,this.lat1,e),a=Math.sin(this.lat2),o=Math.cos(this.lat2),s=pi(this.e,a,o),l=Jn(this.e,this.lat2,a),h=Jn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ft?this.ns=Math.log(i/s)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function LS(n){var e=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=ft&&(t=Vo(t)*(tt-2*ft));var i=Math.abs(Math.abs(t)-tt),r,a;if(i>ft)r=Jn(this.e,t,Math.sin(t)),a=this.a*this.f0*Math.pow(r,this.ns);else{if(i=t*this.ns,i<=0)return null;a=0}var o=this.ns*pt(e-this.long0);return n.x=this.k0*(a*Math.sin(o))+this.x0,n.y=this.k0*(this.rh-a*Math.cos(o))+this.y0,n}function NS(n){var e,t,i,r,a,o=(n.x-this.x0)/this.k0,s=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+s*s),t=1):(e=-Math.sqrt(o*o+s*s),t=-1);var l=0;if(e!==0&&(l=Math.atan2(t*o,t*s)),e!==0||this.ns>0){if(t=1/this.ns,i=Math.pow(e/(this.a*this.f0),t),r=Bo(this.e,i),r===-9999)return null}else r=-tt;return a=pt(l/this.ns+this.long0),n.x=a,n.y=r,n}var FS=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],DS={init:bS,forward:LS,inverse:NS,names:FS};function GS(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function kS(n){var e,t,i,r,a,o,s,l=n.x,h=n.y,c=pt(l-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(i)),a=Math.asin(Math.cos(t)*Math.sin(i)/Math.cos(r)),o=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),n.y=s*Math.cos(o)/1,n.x=s*Math.sin(o)/1,this.czech||(n.y*=-1,n.x*=-1),n}function jS(n){var e,t,i,r,a,o,s,l,h=n.x;n.x=n.y,n.y=h,this.czech||(n.y*=-1,n.x*=-1),o=Math.sqrt(n.x*n.x+n.y*n.y),a=Math.atan2(n.y,n.x),r=a/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),t=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),n.x=this.long0-t/this.alfa,s=e,l=0;var c=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-n.y)<1e-10&&(l=1),s=n.y,c+=1;while(l===0&&c<15);return c>=15?null:n}var BS=["Krovak","krovak"],$S={init:GS,forward:kS,inverse:jS,names:BS};function sn(n,e,t,i,r){return n*r-e*Math.sin(2*r)+t*Math.sin(4*r)-i*Math.sin(6*r)}function Ko(n){return 1-.25*n*(1+n/16*(3+1.25*n))}function Zo(n){return .375*n*(1+.25*n*(1+.46875*n))}function Jo(n){return .05859375*n*n*(1+.75*n)}function Qo(n){return n*n*n*(35/3072)}function La(n,e,t){var i=e*t;return n/Math.sqrt(1-i*i)}function Wa(n){return Math.abs(n)<tt?n:n-Vo(n)*Math.PI}function pl(n,e,t,i,r){var a,o;a=n/e;for(var s=0;s<15;s++)if(o=(n-(e*a-t*Math.sin(2*a)+i*Math.sin(4*a)-r*Math.sin(6*a)))/(e-2*t*Math.cos(2*a)+4*i*Math.cos(4*a)-6*r*Math.cos(6*a)),a+=o,Math.abs(o)<=1e-10)return a;return NaN}function US(){this.sphere||(this.e0=Ko(this.es),this.e1=Zo(this.es),this.e2=Jo(this.es),this.e3=Qo(this.es),this.ml0=this.a*sn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function WS(n){var e,t,i=n.x,r=n.y;if(i=pt(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),t=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var a=Math.sin(r),o=Math.cos(r),s=La(this.a,this.e,a),l=Math.tan(r)*Math.tan(r),h=i*Math.cos(r),c=h*h,d=this.es*o*o/(1-this.es),g=this.a*sn(this.e0,this.e1,this.e2,this.e3,r);e=s*h*(1-c*l*(1/6-(8-l+8*d)*c/120)),t=g-this.ml0+s*a/o*c*(.5+(5-l+6*d)*c/24)}return n.x=e+this.x0,n.y=t+this.y0,n}function zS(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,i,r;if(this.sphere){var a=t+this.lat0;i=Math.asin(Math.sin(a)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(a))}else{var o=this.ml0/this.a+t,s=pl(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-tt)<=ft)return n.x=this.long0,n.y=tt,t<0&&(n.y*=-1),n;var l=La(this.a,this.e,Math.sin(s)),h=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),d=e*this.a/l,g=d*d;i=s-l*Math.tan(s)/h*d*d*(.5-(1+3*c)*d*d/24),r=d*(1-g*(c/3+(1+3*c)*c*g/15))/Math.cos(s)}return n.x=pt(r+this.long0),n.y=Wa(i),n}var XS=["Cassini","Cassini_Soldner","cass"],qS={init:US,forward:WS,inverse:zS,names:XS};function or(n,e){var t;return n>1e-7?(t=n*e,(1-n*n)*(e/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*e}var YS=1,HS=2,VS=3,KS=4;function ZS(){var n=Math.abs(this.lat0);if(Math.abs(n-tt)<ft?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<ft?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=or(this.e,1),this.mmf=.5/(1-this.es),this.apa=oR(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=or(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function JS(n){var e,t,i,r,a,o,s,l,h,c,d=n.x,g=n.y;if(d=pt(d-this.long0),this.sphere){if(a=Math.sin(g),c=Math.cos(g),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+c*i:1+this.sinph0*a+this.cosph0*c*i,t<=ft)return null;t=Math.sqrt(2/t),e=t*c*Math.sin(d),t*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(g+this.lat0)<ft)return null;t=ne-g*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(d),t*=i}}else{switch(s=0,l=0,h=0,i=Math.cos(d),r=Math.sin(d),a=Math.sin(g),o=or(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=o/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:h=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:h=1+l*i;break;case this.N_POLE:h=tt+g,o=this.qp-o;break;case this.S_POLE:h=g-tt,o=this.qp+o;break}if(Math.abs(h)<ft)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?t=this.ymf*h*(this.cosb1*s-this.sinb1*l*i):t=(h=Math.sqrt(2/(1+l*i)))*s*this.ymf,e=this.xmf*h*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(h=Math.sqrt(o))*r,t=i*(this.mode===this.S_POLE?h:-h)):e=t=0;break}}return n.x=this.a*e+this.x0,n.y=this.a*t+this.y0,n}function QS(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,i,r,a,o,s,l,h;if(this.sphere){var c=0,d,g=0;if(d=Math.sqrt(e*e+t*t),r=d*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(g=Math.sin(r),c=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(d)<=ft?0:Math.asin(t*g/d),e*=g,t=c*d;break;case this.OBLIQ:r=Math.abs(d)<=ft?this.lat0:Math.asin(c*this.sinph0+t*g*this.cosph0/d),e*=g*this.cosph0,t=(c-Math.sin(r)*this.sinph0)*d;break;case this.N_POLE:t=-t,r=tt-r;break;case this.S_POLE:r-=tt;break}i=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,l=Math.sqrt(e*e+t*t),l<ft)return n.x=this.long0,n.y=this.lat0,n;o=2*Math.asin(.5*l/this.rq),a=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(h=a*this.sinb1+t*o*this.cosb1/l,s=this.qp*h,t=l*this.cosb1*a-t*this.sinb1*o):(h=t*o/l,s=this.qp*h,t=l*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),s=e*e+t*t,!s)return n.x=this.long0,n.y=this.lat0,n;h=1-s/this.qp,this.mode===this.S_POLE&&(h=-h)}i=Math.atan2(e,t),r=sR(Math.asin(h),this.apa)}return n.x=pt(this.long0+i),n.y=r,n}var tR=.3333333333333333,eR=.17222222222222222,nR=.10257936507936508,iR=.06388888888888888,rR=.0664021164021164,aR=.016415012942191543;function oR(n){var e,t=[];return t[0]=n*tR,e=n*n,t[0]+=e*eR,t[1]=e*iR,e*=n,t[0]+=e*nR,t[1]+=e*rR,t[2]=e*aR,t}function sR(n,e){var t=n+n;return n+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var lR=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],uR={init:ZS,forward:JS,inverse:QS,names:lR,S_POLE:YS,N_POLE:HS,EQUIT:VS,OBLIQ:KS};function cr(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)}function hR(){Math.abs(this.lat1+this.lat2)<ft||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=pi(this.e3,this.sin_po,this.cos_po),this.qs1=or(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=pi(this.e3,this.sin_po,this.cos_po),this.qs2=or(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=or(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>ft?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function fR(n){var e=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var i=or(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,a=this.ns0*pt(e-this.long0),o=r*Math.sin(a)+this.x0,s=this.rh-r*Math.cos(a)+this.y0;return n.x=o,n.y=s,n}function cR(n){var e,t,i,r,a,o;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(e=Math.sqrt(n.x*n.x+n.y*n.y),i=1):(e=-Math.sqrt(n.x*n.x+n.y*n.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*n.x,i*n.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(t=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,t)),a=pt(r/this.ns0+this.long0),n.x=a,n.y=o,n}function dR(n,e){var t,i,r,a,o,s=cr(.5*e);if(n<ft)return s;for(var l=n*n,h=1;h<=25;h++)if(t=Math.sin(s),i=Math.cos(s),r=n*t,a=1-r*r,o=.5*a*a/i*(e/(1-l)-t/a+.5/n*Math.log((1-r)/(1+r))),s=s+o,Math.abs(o)<=1e-7)return s;return null}var pR=["Albers_Conic_Equal_Area","Albers","aea"],vR={init:hR,forward:fR,inverse:cR,names:pR,phi1z:dR};function gR(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function _R(n){var e,t,i,r,a,o,s,l,h=n.x,c=n.y;return i=pt(h-this.long0),e=Math.sin(c),t=Math.cos(c),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*t*r,a=1,o>0||Math.abs(o)<=ft?(s=this.x0+this.a*a*t*Math.sin(i)/o,l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*t*r)/o):(s=this.x0+this.infinity_dist*t*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*r)),n.x=s,n.y=l,n}function yR(n){var e,t,i,r,a,o;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(e=Math.sqrt(n.x*n.x+n.y*n.y))?(r=Math.atan2(e,this.rc),t=Math.sin(r),i=Math.cos(r),o=cr(i*this.sin_p14+n.y*t*this.cos_p14/e),a=Math.atan2(n.x*t,e*this.cos_p14*i-n.y*this.sin_p14*t),a=pt(this.long0+a)):(o=this.phic0,a=0),n.x=a,n.y=o,n}var mR=["gnom"],xR={init:gR,forward:_R,inverse:yR,names:mR};function ER(n,e){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*tt:tt;for(var i=Math.asin(.5*e),r,a,o,s,l=0;l<30;l++)if(a=Math.sin(i),o=Math.cos(i),s=n*a,r=Math.pow(1-s*s,2)/(2*o)*(e/(1-n*n)-a/(1-s*s)+.5/n*Math.log((1-s)/(1+s))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function MR(){this.sphere||(this.k0=pi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function TR(n){var e=n.x,t=n.y,i,r,a=pt(e-this.long0);if(this.sphere)i=this.x0+this.a*a*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var o=or(this.e,Math.sin(t));i=this.x0+this.a*this.k0*a,r=this.y0+this.a*o*.5/this.k0}return n.x=i,n.y=r,n}function CR(n){n.x-=this.x0,n.y-=this.y0;var e,t;return this.sphere?(e=pt(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=ER(this.e,2*n.y*this.k0/this.a),e=pt(this.long0+n.x/(this.a*this.k0))),n.x=e,n.y=t,n}var wR=["cea"],SR={init:MR,forward:TR,inverse:CR,names:wR};function RR(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function OR(n){var e=n.x,t=n.y,i=pt(e-this.long0),r=Wa(t-this.lat0);return n.x=this.x0+this.a*i*this.rc,n.y=this.y0+this.a*r,n}function IR(n){var e=n.x,t=n.y;return n.x=pt(this.long0+(e-this.x0)/(this.a*this.rc)),n.y=Wa(this.lat0+(t-this.y0)/this.a),n}var PR=["Equirectangular","Equidistant_Cylindrical","eqc"],AR={init:RR,forward:OR,inverse:IR,names:PR},Bd=20;function bR(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ko(this.es),this.e1=Zo(this.es),this.e2=Jo(this.es),this.e3=Qo(this.es),this.ml0=this.a*sn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function LR(n){var e=n.x,t=n.y,i,r,a,o=pt(e-this.long0);if(a=o*Math.sin(t),this.sphere)Math.abs(t)<=ft?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(a)/Math.tan(t),r=this.a*(Wa(t-this.lat0)+(1-Math.cos(a))/Math.tan(t)));else if(Math.abs(t)<=ft)i=this.a*o,r=-1*this.ml0;else{var s=La(this.a,this.e,Math.sin(t))/Math.tan(t);i=s*Math.sin(a),r=this.a*sn(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+s*(1-Math.cos(a))}return n.x=i+this.x0,n.y=r+this.y0,n}function NR(n){var e,t,i,r,a,o,s,l,h;if(i=n.x-this.x0,r=n.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=ft)e=pt(i/this.a+this.long0),t=0;else{o=this.lat0+r/this.a,s=i*i/this.a/this.a+o*o,l=o;var c;for(a=Bd;a;--a)if(c=Math.tan(l),h=-1*(o*(l*c+1)-l-.5*(l*l+s)*c)/((l-o)/c-1),l+=h,Math.abs(h)<=ft){t=l;break}e=pt(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(t))}else if(Math.abs(r+this.ml0)<=ft)t=0,e=pt(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,s=i*i/this.a/this.a+o*o,l=o;var d,g,y,m,M;for(a=Bd;a;--a)if(M=this.e*Math.sin(l),d=Math.sqrt(1-M*M)*Math.tan(l),g=this.a*sn(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),m=g/this.a,h=(o*(d*m+1)-m-.5*d*(m*m+s))/(this.es*Math.sin(2*l)*(m*m+s-2*o*m)/(4*d)+(o-m)*(d*y-2/Math.sin(2*l))-y),l-=h,Math.abs(h)<=ft){t=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=pt(this.long0+Math.asin(i*d/this.a)/Math.sin(t))}return n.x=e,n.y=t,n}var FR=["Polyconic","poly"],DR={init:bR,forward:LR,inverse:NR,names:FR};function GR(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function kR(n){var e,t=n.x,i=n.y,r=i-this.lat0,a=t-this.long0,o=r/xo*1e-5,s=a,l=1,h=0;for(e=1;e<=10;e++)l=l*o,h=h+this.A[e]*l;var c=h,d=s,g=1,y=0,m,M,w=0,S=0;for(e=1;e<=6;e++)m=g*c-y*d,M=y*c+g*d,g=m,y=M,w=w+this.B_re[e]*g-this.B_im[e]*y,S=S+this.B_im[e]*g+this.B_re[e]*y;return n.x=S*this.a+this.x0,n.y=w*this.a+this.y0,n}function jR(n){var e,t=n.x,i=n.y,r=t-this.x0,a=i-this.y0,o=a/this.a,s=r/this.a,l=1,h=0,c,d,g=0,y=0;for(e=1;e<=6;e++)c=l*o-h*s,d=h*o+l*s,l=c,h=d,g=g+this.C_re[e]*l-this.C_im[e]*h,y=y+this.C_im[e]*l+this.C_re[e]*h;for(var m=0;m<this.iterations;m++){var M=g,w=y,S,A,b=o,L=s;for(e=2;e<=6;e++)S=M*g-w*y,A=w*g+M*y,M=S,w=A,b=b+(e-1)*(this.B_re[e]*M-this.B_im[e]*w),L=L+(e-1)*(this.B_im[e]*M+this.B_re[e]*w);M=1,w=0;var j=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)S=M*g-w*y,A=w*g+M*y,M=S,w=A,j=j+e*(this.B_re[e]*M-this.B_im[e]*w),v=v+e*(this.B_im[e]*M+this.B_re[e]*w);var H=j*j+v*v;g=(b*j+L*v)/H,y=(L*j-b*v)/H}var $=g,V=y,rt=1,ct=0;for(e=1;e<=9;e++)rt=rt*$,ct=ct+this.D[e]*rt;var at=this.lat0+ct*xo*1e5,yt=this.long0+V;return n.x=yt,n.y=at,n}var BR=["New_Zealand_Map_Grid","nzmg"],$R={init:GR,forward:kR,inverse:jR,names:BR};function UR(){}function WR(n){var e=n.x,t=n.y,i=pt(e-this.long0),r=this.x0+this.a*i,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=r,n.y=a,n}function zR(n){n.x-=this.x0,n.y-=this.y0;var e=pt(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=e,n.y=t,n}var XR=["Miller_Cylindrical","mill"],qR={init:UR,forward:WR,inverse:zR,names:XR},YR=20;function HR(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pg(this.es)}function VR(n){var e,t,i=n.x,r=n.y;if(i=pt(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var a=this.n*Math.sin(r),o=YR;o;--o){var s=(this.m*r+Math.sin(r)-a)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<ft)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),t=this.a*this.C_y*r}else{var l=Math.sin(r),h=Math.cos(r);t=this.a*$l(r,l,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*l*l)}return n.x=e,n.y=t,n}function KR(n){var e,t,i,r;return n.x-=this.x0,i=n.x/this.a,n.y-=this.y0,e=n.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=cr((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=cr(Math.sin(e)/this.n)),i=pt(i+this.long0),e=Wa(e)):(e=vg(n.y/this.a,this.es,this.en),r=Math.abs(e),r<tt?(r=Math.sin(e),t=this.long0+n.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=pt(t)):r-ft<tt&&(i=this.long0)),n.x=i,n.y=e,n}var ZR=["Sinusoidal","sinu"],JR={init:HR,forward:VR,inverse:KR,names:ZR};function QR(){}function tO(n){for(var e=n.x,t=n.y,i=pt(e-this.long0),r=t,a=Math.PI*Math.sin(t);;){var o=-(r+Math.sin(r)-a)/(1+Math.cos(r));if(r+=o,Math.abs(o)<ft)break}r/=2,Math.PI/2-Math.abs(t)<ft&&(i=0);var s=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return n.x=s,n.y=l,n}function eO(n){var e,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var i=pt(this.long0+n.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var r=Math.asin(t);return n.x=i,n.y=r,n}var nO=["Mollweide","moll"],iO={init:QR,forward:tO,inverse:eO,names:nO};function rO(){Math.abs(this.lat1+this.lat2)<ft||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ko(this.es),this.e1=Zo(this.es),this.e2=Jo(this.es),this.e3=Qo(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=pi(this.e,this.sinphi,this.cosphi),this.ml1=sn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ft?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=pi(this.e,this.sinphi,this.cosphi),this.ml2=sn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=sn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function aO(n){var e=n.x,t=n.y,i;if(this.sphere)i=this.a*(this.g-t);else{var r=sn(this.e0,this.e1,this.e2,this.e3,t);i=this.a*(this.g-r)}var a=this.ns*pt(e-this.long0),o=this.x0+i*Math.sin(a),s=this.y0+this.rh-i*Math.cos(a);return n.x=o,n.y=s,n}function oO(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var e,t,i,r;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1);var a=0;if(t!==0&&(a=Math.atan2(e*n.x,e*n.y)),this.sphere)return r=pt(this.long0+a/this.ns),i=Wa(this.g-t/this.a),n.x=r,n.y=i,n;var o=this.g-t/this.a;return i=pl(o,this.e0,this.e1,this.e2,this.e3),r=pt(this.long0+a/this.ns),n.x=r,n.y=i,n}var sO=["Equidistant_Conic","eqdc"],lO={init:rO,forward:aO,inverse:oO,names:sO};function uO(){this.R=this.a}function hO(n){var e=n.x,t=n.y,i=pt(e-this.long0),r,a;Math.abs(t)<=ft&&(r=this.x0+this.R*i,a=this.y0);var o=cr(2*Math.abs(t/Math.PI));(Math.abs(i)<=ft||Math.abs(Math.abs(t)-tt)<=ft)&&(r=this.x0,t>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*o):a=this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/i-i/Math.PI),l=s*s,h=Math.sin(o),c=Math.cos(o),d=c/(h+c-1),g=d*d,y=d*(2/h-1),m=y*y,M=Math.PI*this.R*(s*(d-m)+Math.sqrt(l*(d-m)*(d-m)-(m+l)*(g-m)))/(m+l);i<0&&(M=-M),r=this.x0+M;var w=l+d;return M=Math.PI*this.R*(y*w-s*Math.sqrt((m+l)*(l+1)-w*w))/(m+l),t>=0?a=this.y0+M:a=this.y0-M,n.x=r,n.y=a,n}function fO(n){var e,t,i,r,a,o,s,l,h,c,d,g,y;return n.x-=this.x0,n.y-=this.y0,d=Math.PI*this.R,i=n.x/d,r=n.y/d,a=i*i+r*r,o=-Math.abs(r)*(1+a),s=o-2*r*r+i*i,l=-2*o+1+2*r*r+a*a,y=r*r/l+(2*s*s*s/l/l/l-9*o*s/l/l)/27,h=(o-s*s/3/l)/l,c=2*Math.sqrt(-h/3),d=3*y/h/c,Math.abs(d)>1&&(d>=0?d=1:d=-1),g=Math.acos(d)/3,n.y>=0?t=(-c*Math.cos(g+Math.PI/3)-s/3/l)*Math.PI:t=-(-c*Math.cos(g+Math.PI/3)-s/3/l)*Math.PI,Math.abs(i)<ft?e=this.long0:e=pt(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-r*r)+a*a))/2/i),n.x=e,n.y=t,n}var cO=["Van_der_Grinten_I","VanDerGrinten","vandg"],dO={init:uO,forward:hO,inverse:fO,names:cO};function pO(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function vO(n){var e=n.x,t=n.y,i=Math.sin(n.y),r=Math.cos(n.y),a=pt(e-this.long0),o,s,l,h,c,d,g,y,m,M,w,S,A,b,L,j,v,H,$,V,rt,ct,at;return this.sphere?Math.abs(this.sin_p12-1)<=ft?(n.x=this.x0+this.a*(tt-t)*Math.sin(a),n.y=this.y0-this.a*(tt-t)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=ft?(n.x=this.x0+this.a*(tt+t)*Math.sin(a),n.y=this.y0+this.a*(tt+t)*Math.cos(a),n):(H=this.sin_p12*i+this.cos_p12*r*Math.cos(a),j=Math.acos(H),v=j?j/Math.sin(j):1,n.x=this.x0+this.a*v*r*Math.sin(a),n.y=this.y0+this.a*v*(this.cos_p12*i-this.sin_p12*r*Math.cos(a)),n):(o=Ko(this.es),s=Zo(this.es),l=Jo(this.es),h=Qo(this.es),Math.abs(this.sin_p12-1)<=ft?(c=this.a*sn(o,s,l,h,tt),d=this.a*sn(o,s,l,h,t),n.x=this.x0+(c-d)*Math.sin(a),n.y=this.y0-(c-d)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=ft?(c=this.a*sn(o,s,l,h,tt),d=this.a*sn(o,s,l,h,t),n.x=this.x0+(c+d)*Math.sin(a),n.y=this.y0+(c+d)*Math.cos(a),n):(g=i/r,y=La(this.a,this.e,this.sin_p12),m=La(this.a,this.e,i),M=Math.atan((1-this.es)*g+this.es*y*this.sin_p12/(m*r)),w=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(M)-this.sin_p12*Math.cos(a)),w===0?$=Math.asin(this.cos_p12*Math.sin(M)-this.sin_p12*Math.cos(M)):Math.abs(Math.abs(w)-Math.PI)<=ft?$=-Math.asin(this.cos_p12*Math.sin(M)-this.sin_p12*Math.cos(M)):$=Math.asin(Math.sin(a)*Math.cos(M)/Math.sin(w)),S=this.e*this.sin_p12/Math.sqrt(1-this.es),A=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),b=S*A,L=A*A,V=$*$,rt=V*$,ct=rt*$,at=ct*$,j=y*$*(1-V*L*(1-L)/6+rt/8*b*(1-2*L)+ct/120*(L*(4-7*L)-3*S*S*(1-7*L))-at/48*b),n.x=this.x0+j*Math.sin(w),n.y=this.y0+j*Math.cos(w),n))}function gO(n){n.x-=this.x0,n.y-=this.y0;var e,t,i,r,a,o,s,l,h,c,d,g,y,m,M,w,S,A,b,L,j,v,H,$;return this.sphere?(e=Math.sqrt(n.x*n.x+n.y*n.y),e>2*tt*this.a?void 0:(t=e/this.a,i=Math.sin(t),r=Math.cos(t),a=this.long0,Math.abs(e)<=ft?o=this.lat0:(o=cr(r*this.sin_p12+n.y*i*this.cos_p12/e),s=Math.abs(this.lat0)-tt,Math.abs(s)<=ft?this.lat0>=0?a=pt(this.long0+Math.atan2(n.x,-n.y)):a=pt(this.long0-Math.atan2(-n.x,n.y)):a=pt(this.long0+Math.atan2(n.x*i,e*this.cos_p12*r-n.y*this.sin_p12*i))),n.x=a,n.y=o,n)):(l=Ko(this.es),h=Zo(this.es),c=Jo(this.es),d=Qo(this.es),Math.abs(this.sin_p12-1)<=ft?(g=this.a*sn(l,h,c,d,tt),e=Math.sqrt(n.x*n.x+n.y*n.y),y=g-e,o=pl(y/this.a,l,h,c,d),a=pt(this.long0+Math.atan2(n.x,-1*n.y)),n.x=a,n.y=o,n):Math.abs(this.sin_p12+1)<=ft?(g=this.a*sn(l,h,c,d,tt),e=Math.sqrt(n.x*n.x+n.y*n.y),y=e-g,o=pl(y/this.a,l,h,c,d),a=pt(this.long0+Math.atan2(n.x,n.y)),n.x=a,n.y=o,n):(e=Math.sqrt(n.x*n.x+n.y*n.y),w=Math.atan2(n.x,n.y),m=La(this.a,this.e,this.sin_p12),S=Math.cos(w),A=this.e*this.cos_p12*S,b=-A*A/(1-this.es),L=3*this.es*(1-b)*this.sin_p12*this.cos_p12*S/(1-this.es),j=e/m,v=j-b*(1+b)*Math.pow(j,3)/6-L*(1+3*b)*Math.pow(j,4)/24,H=1-b*v*v/2-j*v*v*v/6,M=Math.asin(this.sin_p12*Math.cos(v)+this.cos_p12*Math.sin(v)*S),a=pt(this.long0+Math.asin(Math.sin(w)*Math.sin(v)/Math.cos(M))),$=Math.sin(M),o=Math.atan2(($-this.es*H*this.sin_p12)*Math.tan(M),$*(1-this.es)),n.x=a,n.y=o,n))}var _O=["Azimuthal_Equidistant","aeqd"],yO={init:pO,forward:vO,inverse:gO,names:_O};function mO(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function xO(n){var e,t,i,r,a,o,s,l,h=n.x,c=n.y;return i=pt(h-this.long0),e=Math.sin(c),t=Math.cos(c),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*t*r,a=1,(o>0||Math.abs(o)<=ft)&&(s=this.a*a*t*Math.sin(i),l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*t*r)),n.x=s,n.y=l,n}function EO(n){var e,t,i,r,a,o,s;return n.x-=this.x0,n.y-=this.y0,e=Math.sqrt(n.x*n.x+n.y*n.y),t=cr(e/this.a),i=Math.sin(t),r=Math.cos(t),o=this.long0,Math.abs(e)<=ft?(s=this.lat0,n.x=o,n.y=s,n):(s=cr(r*this.sin_p14+n.y*i*this.cos_p14/e),a=Math.abs(this.lat0)-tt,Math.abs(a)<=ft?(this.lat0>=0?o=pt(this.long0+Math.atan2(n.x,-n.y)):o=pt(this.long0-Math.atan2(-n.x,n.y)),n.x=o,n.y=s,n):(o=pt(this.long0+Math.atan2(n.x*i,e*this.cos_p14*r-n.y*this.sin_p14*i)),n.x=o,n.y=s,n))}var MO=["ortho"],TO={init:mO,forward:xO,inverse:EO,names:MO},Re={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ie={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function CO(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=tt-ne/2?this.face=Re.TOP:this.lat0<=-(tt-ne/2)?this.face=Re.BOTTOM:Math.abs(this.long0)<=ne?this.face=Re.FRONT:Math.abs(this.long0)<=tt+ne?this.face=this.long0>0?Re.RIGHT:Re.LEFT:this.face=Re.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function wO(n){var e={x:0,y:0},t,i,r,a,o,s,l={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,i=n.x,this.face===Re.TOP)a=tt-t,i>=ne&&i<=tt+ne?(l.value=ie.AREA_0,r=i-tt):i>tt+ne||i<=-(tt+ne)?(l.value=ie.AREA_1,r=i>0?i-be:i+be):i>-(tt+ne)&&i<=-ne?(l.value=ie.AREA_2,r=i+tt):(l.value=ie.AREA_3,r=i);else if(this.face===Re.BOTTOM)a=tt+t,i>=ne&&i<=tt+ne?(l.value=ie.AREA_0,r=-i+tt):i<ne&&i>=-ne?(l.value=ie.AREA_1,r=-i):i<-ne&&i>=-(tt+ne)?(l.value=ie.AREA_2,r=-i-tt):(l.value=ie.AREA_3,r=i>0?-i+be:-i-be);else{var h,c,d,g,y,m,M;this.face===Re.RIGHT?i=wa(i,+tt):this.face===Re.BACK?i=wa(i,+be):this.face===Re.LEFT&&(i=wa(i,-tt)),g=Math.sin(t),y=Math.cos(t),m=Math.sin(i),M=Math.cos(i),h=y*M,c=y*m,d=g,this.face===Re.FRONT?(a=Math.acos(h),r=As(a,d,c,l)):this.face===Re.RIGHT?(a=Math.acos(c),r=As(a,d,-h,l)):this.face===Re.BACK?(a=Math.acos(-h),r=As(a,d,-c,l)):this.face===Re.LEFT?(a=Math.acos(-c),r=As(a,d,h,l)):(a=r=0,l.value=ie.AREA_0)}return s=Math.atan(12/be*(r+Math.acos(Math.sin(r)*Math.cos(ne))-tt)),o=Math.sqrt((1-Math.cos(a))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===ie.AREA_1?s+=tt:l.value===ie.AREA_2?s+=be:l.value===ie.AREA_3&&(s+=1.5*be),e.x=o*Math.cos(s),e.y=o*Math.sin(s),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,n.x=e.x,n.y=e.y,n}function SO(n){var e={lam:0,phi:0},t,i,r,a,o,s,l,h,c,d={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,i=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?d.value=ie.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(d.value=ie.AREA_1,t-=tt):n.x<0&&-n.x>=Math.abs(n.y)?(d.value=ie.AREA_2,t=t<0?t+be:t-be):(d.value=ie.AREA_3,t+=tt),c=be/12*Math.tan(t),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),r=Math.cos(t),a=Math.tan(i),l=1-r*r*a*a*(1-Math.cos(Math.atan(1/Math.cos(s)))),l<-1?l=-1:l>1&&(l=1),this.face===Re.TOP)h=Math.acos(l),e.phi=tt-h,d.value===ie.AREA_0?e.lam=s+tt:d.value===ie.AREA_1?e.lam=s<0?s+be:s-be:d.value===ie.AREA_2?e.lam=s-tt:e.lam=s;else if(this.face===Re.BOTTOM)h=Math.acos(l),e.phi=h-tt,d.value===ie.AREA_0?e.lam=-s+tt:d.value===ie.AREA_1?e.lam=-s:d.value===ie.AREA_2?e.lam=-s-tt:e.lam=s<0?-s-be:-s+be;else{var g,y,m;g=l,c=g*g,c>=1?m=0:m=Math.sqrt(1-c)*Math.sin(s),c+=m*m,c>=1?y=0:y=Math.sqrt(1-c),d.value===ie.AREA_1?(c=y,y=-m,m=c):d.value===ie.AREA_2?(y=-y,m=-m):d.value===ie.AREA_3&&(c=y,y=m,m=-c),this.face===Re.RIGHT?(c=g,g=-y,y=c):this.face===Re.BACK?(g=-g,y=-y):this.face===Re.LEFT&&(c=g,g=y,y=-c),e.phi=Math.acos(-m)-tt,e.lam=Math.atan2(y,g),this.face===Re.RIGHT?e.lam=wa(e.lam,-tt):this.face===Re.BACK?e.lam=wa(e.lam,-be):this.face===Re.LEFT&&(e.lam=wa(e.lam,+tt))}if(this.es!==0){var M,w,S;M=e.phi<0?1:0,w=Math.tan(e.phi),S=this.b/Math.sqrt(w*w+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-S*S)/(this.one_minus_f*S)),M&&(e.phi=-e.phi)}return e.lam+=this.long0,n.x=e.lam,n.y=e.phi,n}function As(n,e,t,i){var r;return n<ft?(i.value=ie.AREA_0,r=0):(r=Math.atan2(e,t),Math.abs(r)<=ne?i.value=ie.AREA_0:r>ne&&r<=tt+ne?(i.value=ie.AREA_1,r-=tt):r>tt+ne||r<=-(tt+ne)?(i.value=ie.AREA_2,r=r>=0?r-be:r+be):(i.value=ie.AREA_3,r+=tt)),r}function wa(n,e){var t=n+e;return t<-be?t+=ko:t>+be&&(t-=ko),t}var RO=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],OO={init:CO,forward:wO,inverse:SO,names:RO},xh=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],po=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],yg=.8487,mg=1.3523,xg=li/5,IO=1/xg,_a=18,vl=function(n,e){return n[0]+e*(n[1]+e*(n[2]+e*n[3]))},PO=function(n,e){return n[1]+e*(2*n[2]+e*3*n[3])};function AO(n,e,t,i){for(var r=e;i;--i){var a=n(r);if(r-=a,Math.abs(a)<t)break}return r}function bO(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function LO(n){var e=pt(n.x-this.long0),t=Math.abs(n.y),i=Math.floor(t*xg);i<0?i=0:i>=_a&&(i=_a-1),t=li*(t-IO*i);var r={x:vl(xh[i],t)*e,y:vl(po[i],t)};return n.y<0&&(r.y=-r.y),r.x=r.x*this.a*yg+this.x0,r.y=r.y*this.a*mg+this.y0,r}function NO(n){var e={x:(n.x-this.x0)/(this.a*yg),y:Math.abs(n.y-this.y0)/(this.a*mg)};if(e.y>=1)e.x/=xh[_a][0],e.y=n.y<0?-tt:tt;else{var t=Math.floor(e.y*_a);for(t<0?t=0:t>=_a&&(t=_a-1);;)if(po[t][0]>e.y)--t;else if(po[t+1][0]<=e.y)++t;else break;var i=po[t],r=5*(e.y-i[0])/(po[t+1][0]-i[0]);r=AO(function(a){return(vl(i,a)-e.y)/PO(i,a)},r,ft,100),e.x/=vl(xh[t],r),e.y=(5*t+r)*qe,n.y<0&&(e.y=-e.y)}return e.x=pt(e.x+this.long0),e}var FO=["Robinson","robin"],DO={init:bO,forward:LO,inverse:NO,names:FO};function GO(){this.name="geocent"}function kO(n){var e=ag(n,this.es,this.a);return e}function jO(n){var e=og(n,this.es,this.a,this.b);return e}var BO=["Geocentric","geocentric","geocent","Geocent"],$O={init:GO,forward:kO,inverse:jO,names:BO},Ke={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ro={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function UO(){if(Object.keys(ro).forEach(function(t){if(typeof this[t]=="undefined")this[t]=ro[t].def;else{if(ro[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);ro[t].num&&(this[t]=parseFloat(this[t]))}ro[t].degrees&&(this[t]=this[t]*qe)}.bind(this)),Math.abs(Math.abs(this.lat0)-tt)<ft?this.mode=this.lat0<0?Ke.S_POLE:Ke.N_POLE:Math.abs(this.lat0)<ft?this.mode=Ke.EQUIT:(this.mode=Ke.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(n),this.sw=Math.sin(n)}function WO(n){n.x-=this.long0;var e=Math.sin(n.y),t=Math.cos(n.y),i=Math.cos(n.x),r,a;switch(this.mode){case Ke.OBLIQ:a=this.sinph0*e+this.cosph0*t*i;break;case Ke.EQUIT:a=t*i;break;case Ke.S_POLE:a=-e;break;case Ke.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),r=a*t*Math.sin(n.x),this.mode){case Ke.OBLIQ:a*=this.cosph0*e-this.sinph0*t*i;break;case Ke.EQUIT:a*=e;break;case Ke.N_POLE:a*=-(t*i);break;case Ke.S_POLE:a*=t*i;break}var o,s;return o=a*this.cg+r*this.sg,s=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-a*this.sg)*this.cw*s,a=o*s,n.x=r*this.a,n.y=a*this.a,n}function zO(n){n.x/=this.a,n.y/=this.a;var e={x:n.x,y:n.y},t,i,r;r=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*r,i=this.pn1*n.y*this.cw*r,n.x=t*this.cg+i*this.sg,n.y=i*this.cg-t*this.sg;var a=Hn(n.x,n.y);if(Math.abs(a)<ft)e.x=0,e.y=n.y;else{var o,s;switch(s=1-a*a*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/a+a/this.pn1),o=Math.sqrt(1-s*s),this.mode){case Ke.OBLIQ:e.y=Math.asin(o*this.sinph0+n.y*s*this.cosph0/a),n.y=(o-this.sinph0*Math.sin(e.y))*a,n.x*=s*this.cosph0;break;case Ke.EQUIT:e.y=Math.asin(n.y*s/a),n.y=o*a,n.x*=s;break;case Ke.N_POLE:e.y=Math.asin(o),n.y=-n.y;break;case Ke.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(n.x,n.y)}return n.x=e.x+this.long0,n.y=e.y,n}var XO=["Tilted_Perspective","tpers"],qO={init:UO,forward:WO,inverse:zO,names:XO};function YO(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var n=1-this.es,e=1/n;this.radius_p=Math.sqrt(n),this.radius_p2=n,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function HO(n){var e=n.x,t=n.y,i,r,a,o;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var s=this.radius_p/Hn(this.radius_p*Math.cos(t),Math.sin(t));if(r=s*Math.cos(e)*Math.cos(t),a=s*Math.sin(e)*Math.cos(t),o=s*Math.sin(t),(this.radius_g-r)*r-a*a-o*o*this.radius_p_inv2<0)return n.x=Number.NaN,n.y=Number.NaN,n;i=this.radius_g-r,this.flip_axis?(n.x=this.radius_g_1*Math.atan(a/Hn(o,i)),n.y=this.radius_g_1*Math.atan(o/i)):(n.x=this.radius_g_1*Math.atan(a/i),n.y=this.radius_g_1*Math.atan(o/Hn(a,i)))}else this.shape==="sphere"&&(i=Math.cos(t),r=Math.cos(e)*i,a=Math.sin(e)*i,o=Math.sin(t),i=this.radius_g-r,this.flip_axis?(n.x=this.radius_g_1*Math.atan(a/Hn(o,i)),n.y=this.radius_g_1*Math.atan(o/i)):(n.x=this.radius_g_1*Math.atan(a/i),n.y=this.radius_g_1*Math.atan(o/Hn(a,i))));return n.x=n.x*this.a,n.y=n.y*this.a,n}function VO(n){var e=-1,t=0,i=0,r,a,o,s;if(n.x=n.x/this.a,n.y=n.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Hn(1,i)):(t=Math.tan(n.x/this.radius_g_1),i=Math.tan(n.y/this.radius_g_1)*Hn(1,t));var l=i/this.radius_p;if(r=t*t+l*l+e*e,a=2*this.radius_g*e,o=a*a-4*r*this.C,o<0)return n.x=Number.NaN,n.y=Number.NaN,n;s=(-a-Math.sqrt(o))/(2*r),e=this.radius_g+s*e,t*=s,i*=s,n.x=Math.atan2(t,e),n.y=Math.atan(i*Math.cos(n.x)/e),n.y=Math.atan(this.radius_p_inv2*Math.tan(n.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Math.sqrt(1+i*i)):(t=Math.tan(n.x/this.radius_g_1),i=Math.tan(n.y/this.radius_g_1)*Math.sqrt(1+t*t)),r=t*t+i*i+e*e,a=2*this.radius_g*e,o=a*a-4*r*this.C,o<0)return n.x=Number.NaN,n.y=Number.NaN,n;s=(-a-Math.sqrt(o))/(2*r),e=this.radius_g+s*e,t*=s,i*=s,n.x=Math.atan2(t,e),n.y=Math.atan(i*Math.cos(n.x)/e)}return n.x=n.x+this.long0,n}var KO=["Geostationary Satellite View","Geostationary_Satellite","geos"],ZO={init:YO,forward:HO,inverse:VO,names:KO};function JO(n){n.Proj.projections.add(Ws),n.Proj.projections.add(zs),n.Proj.projections.add(rS),n.Proj.projections.add(pS),n.Proj.projections.add(xS),n.Proj.projections.add(wS),n.Proj.projections.add(AS),n.Proj.projections.add(DS),n.Proj.projections.add($S),n.Proj.projections.add(qS),n.Proj.projections.add(uR),n.Proj.projections.add(vR),n.Proj.projections.add(xR),n.Proj.projections.add(SR),n.Proj.projections.add(AR),n.Proj.projections.add(DR),n.Proj.projections.add($R),n.Proj.projections.add(qR),n.Proj.projections.add(JR),n.Proj.projections.add(iO),n.Proj.projections.add(lO),n.Proj.projections.add(dO),n.Proj.projections.add(yO),n.Proj.projections.add(TO),n.Proj.projections.add(OO),n.Proj.projections.add(DO),n.Proj.projections.add($O),n.Proj.projections.add(qO),n.Proj.projections.add(ZO)}_n.defaultDatum="WGS84";_n.Proj=fi;_n.WGS84=new _n.Proj("WGS84");_n.Point=ba;_n.toPoint=sg;_n.defs=an;_n.nadgrid=ow;_n.transform=dl;_n.mgrs=Mw;_n.version="__VERSION__";JO(_n);function QO(n){var e=Object.keys(n.defs),t=e.length,i,r;for(i=0;i<t;++i){var a=e[i];if(!me(a)){var o=n.defs(a),s=o.units;!s&&o.projName==="longlat"&&(s=ui.DEGREES),nv(new Yh({code:a,axisOrientation:o.axis,metersPerUnit:o.to_meter,units:s}))}}for(i=0;i<t;++i){var l=e[i],h=me(l);for(r=0;r<t;++r){var c=e[r],d=me(c);if(!qp(l,c))if(n.defs[l]===n.defs[c])rh([h,d]);else{var g=n(l,c);l1(h,d,$c(h,d,g.forward),$c(d,h,g.inverse))}}}}var Ul=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t};_n.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs");QO(_n);const tI={name:"MapContainer",components:{},props:{center:{type:Array,default:()=>[0,0]},zoom:{type:Number,default:0},baselayers:Li,overlays:Li,controls:gn,interactions:gn},data:()=>({olMap:null}),mounted(){this.olMap=new Zv({target:this.$refs["map-root"],layers:[this.baselayers,this.overlays],view:new tr({zoom:this.zoom,center:u1([this.center[1],this.center[0]]),constrainResolution:!0}),controls:this.controls,interactions:this.customInt||this.interactions}),this.setMouseCursor(),this.$emit("init",this.olMap)},methods:{setMouseCursor(){let n=this.olMap;n.getViewport().classList.add("ol-grab"),n.on(["pointerdrag","pointerup"],e=>{n.getViewport().classList.toggle("ol-grabbing",e.type=="pointerdrag"),n.getViewport().classList.toggle("ol-grab",e.type=="pointerup")})}}},eI={ref:"map-root",style:{width:"100%",height:"100%"}};function nI(n,e,t,i,r,a){return dn(),wn("div",eI,null,512)}var iI=Ul(tI,[["render",nI]]),bs={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},rI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),aI=function(n){rI(e,n);function e(t){var i=this,r=t||{},a=Ie({},r);return delete a.preload,delete a.useInterimTilesOnError,i=n.call(this,a)||this,i.on,i.once,i.un,i.setPreload(r.preload!==void 0?r.preload:0),i.setUseInterimTilesOnError(r.useInterimTilesOnError!==void 0?r.useInterimTilesOnError:!0),i}return e.prototype.getPreload=function(){return this.get(bs.PRELOAD)},e.prototype.setPreload=function(t){this.set(bs.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(bs.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(bs.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(Gl),oI=aI,sI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lI=function(n){sI(e,n);function e(t,i,r){var a=n.call(this)||this,o=r||{};return a.tileCoord=t,a.state=i,a.interimTile=null,a.key="",a.transition_=o.transition===void 0?250:o.transition,a.transitionStarts_={},a.interpolate=!!o.interpolate,a}return e.prototype.changed=function(){this.dispatchEvent(jt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Ot.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,i=this;do{if(t.getState()==Ot.LOADED){t.interimTile=null;break}else t.getState()==Ot.LOADING?i=t:t.getState()==Ot.IDLE?i.interimTile=t.interimTile:i=t;t=i.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Ot.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Nt()},e.prototype.getAlpha=function(t,i){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(!r)r=i,this.transitionStarts_[t]=r;else if(r===-1)return 1;var a=i-r+1e3/60;return a>=this.transition_?1:av(a/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ka),Eg=lI,uI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hI=function(n){uI(e,n);function e(t,i,r,a,o,s){var l=n.call(this,t,i,s)||this;return l.crossOrigin_=a,l.src_=r,l.key=r,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.tileLoadFunction_=o,l}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=Ot.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=Ot.ERROR,this.unlistenImage_(),this.image_=fI(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Ot.LOADED:this.state=Ot.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Ot.ERROR&&(this.state=Ot.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ot.IDLE&&(this.state=Ot.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=vf(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Eg);function fI(){var n=jn(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Mg=hI,cI=.5,Ci=!0,dI=10,$d=.25,pI=function(){function n(e,t,i,r,a,o){this.sourceProj_=e,this.targetProj_=t;var s={},l=Io(this.targetProj_,this.sourceProj_);this.transformInv_=function(b){var L=b[0]+"/"+b[1];return s[L]||(s[L]=l(b)),s[L]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ce(r)==Ce(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ce(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ce(this.targetProj_.getExtent()):null;var h=Zr(i),c=Ll(i),d=bl(i),g=Al(i),y=this.transformInv_(h),m=this.transformInv_(c),M=this.transformInv_(d),w=this.transformInv_(g),S=dI+(o?Math.max(0,Math.ceil(Lm(eh(i)/(o*o*256*256)))):0);if(this.addQuad_(h,c,d,g,y,m,M,w,S),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach(function(b,L,j){A=Math.min(A,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(function(b){if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-A>this.sourceWorldWidth_/2){var L=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];L[0][0]-A>this.sourceWorldWidth_/2&&(L[0][0]-=this.sourceWorldWidth_),L[1][0]-A>this.sourceWorldWidth_/2&&(L[1][0]-=this.sourceWorldWidth_),L[2][0]-A>this.sourceWorldWidth_/2&&(L[2][0]-=this.sourceWorldWidth_);var j=Math.min(L[0][0],L[1][0],L[2][0]),v=Math.max(L[0][0],L[1][0],L[2][0]);v-j<this.sourceWorldWidth_/2&&(b.source=L)}}.bind(this))}s={}}return n.prototype.addTriangle_=function(e,t,i,r,a,o){this.triangles_.push({source:[r,a,o],target:[e,t,i]})},n.prototype.addQuad_=function(e,t,i,r,a,o,s,l,h){var c=Gc([a,o,s,l]),d=this.sourceWorldWidth_?Ce(c)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&d>.5&&d<1,m=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var M=Gc([e,t,i,r]),w=Ce(M)/this.targetWorldWidth_;m=w>$d||m}!y&&this.sourceProj_.isGlobal()&&d&&(m=d>$d||m)}if(!(!m&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!pn(c,this.maxSourceExtent_))){var S=0;if(!m&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1]))){if(h>0)m=!0;else if(S=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),S!=1&&S!=2&&S!=4&&S!=8)return}if(h>0){if(!m){var A=[(e[0]+i[0])/2,(e[1]+i[1])/2],b=this.transformInv_(A),L=void 0;if(y){var j=(Ma(a[0],g)+Ma(s[0],g))/2;L=j-Ma(b[0],g)}else L=(a[0]+s[0])/2-b[0];var v=(a[1]+s[1])/2-b[1],H=L*L+v*v;m=H>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){var $=[(t[0]+i[0])/2,(t[1]+i[1])/2],V=this.transformInv_($),rt=[(r[0]+e[0])/2,(r[1]+e[1])/2],ct=this.transformInv_(rt);this.addQuad_(e,t,$,rt,a,o,V,ct,h-1),this.addQuad_(rt,$,i,r,ct,V,s,l,h-1)}else{var at=[(e[0]+t[0])/2,(e[1]+t[1])/2],yt=this.transformInv_(at),bt=[(i[0]+r[0])/2,(i[1]+r[1])/2],mt=this.transformInv_(bt);this.addQuad_(e,at,bt,r,a,yt,mt,l,h-1),this.addQuad_(at,t,i,bt,yt,o,s,mt,h-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(S&11)==0&&this.addTriangle_(e,i,r,a,s,l),(S&14)==0&&this.addTriangle_(e,i,t,a,s,o),S&&((S&13)==0&&this.addTriangle_(t,r,e,o,l,a),(S&7)==0&&this.addTriangle_(t,r,i,o,l,s))}},n.prototype.calculateSourceExtent=function(){var e=kn();return this.triangles_.forEach(function(t,i,r){var a=t.source;yo(e,a[0]),yo(e,a[1]),yo(e,a[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),vI=pI,Eh={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},gI={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Au;function Ud(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function bu(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function _I(){if(Au===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Ud(n,4,5,4,0),Ud(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;Au=bu(e,0)||bu(e,4)||bu(e,8)}return Au}function Wd(n,e,t,i){var r=iv(t,e,n),a=jc(e,i,t),o=e.getMetersPerUnit();o!==void 0&&(a*=o);var s=n.getMetersPerUnit();s!==void 0&&(a/=s);var l=n.getExtent();if(!l||zo(l,r)){var h=jc(n,a,r)/a;isFinite(h)&&h>0&&(a/=h)}return a}function yI(n,e,t,i){var r=Pa(t),a=Wd(n,e,r,i);return(!isFinite(a)||a<=0)&&Zp(t,function(o){return a=Wd(n,e,o,i),isFinite(a)&&a>0}),a}function mI(n,e,t,i,r,a,o,s,l,h,c,d){var g=jn(Math.round(t*n),Math.round(t*e));if(d||Ie(g,Eh),l.length===0)return g.canvas;g.scale(t,t);function y(L){return Math.round(L*t)/t}g.globalCompositeOperation="lighter";var m=kn();l.forEach(function(L,j,v){Km(m,L.extent)});var M=Ce(m),w=ti(m),S=jn(Math.round(t*M/i),Math.round(t*w/i));d||Ie(S,Eh);var A=t/i;l.forEach(function(L,j,v){var H=L.extent[0]-m[0],$=-(L.extent[3]-m[3]),V=Ce(L.extent),rt=ti(L.extent);L.image.width>0&&L.image.height>0&&S.drawImage(L.image,h,h,L.image.width-2*h,L.image.height-2*h,H*A,$*A,V*A,rt*A)});var b=Zr(o);return s.getTriangles().forEach(function(L,j,v){var H=L.source,$=L.target,V=H[0][0],rt=H[0][1],ct=H[1][0],at=H[1][1],yt=H[2][0],bt=H[2][1],mt=y(($[0][0]-b[0])/a),vt=y(-($[0][1]-b[1])/a),ot=y(($[1][0]-b[0])/a),_t=y(-($[1][1]-b[1])/a),Rt=y(($[2][0]-b[0])/a),Wt=y(-($[2][1]-b[1])/a),kt=V,Q=rt;V=0,rt=0,ct-=kt,at-=Q,yt-=kt,bt-=Q;var qt=[[ct,at,0,0,ot-mt],[yt,bt,0,0,Rt-mt],[0,0,ct,at,_t-vt],[0,0,yt,bt,Wt-vt]],At=Fm(qt);if(!!At){if(g.save(),g.beginPath(),_I()||!d){g.moveTo(ot,_t);for(var xe=4,Xe=mt-ot,ue=vt-_t,Ee=0;Ee<xe;Ee++)g.lineTo(ot+y((Ee+1)*Xe/xe),_t+y(Ee*ue/(xe-1))),Ee!=xe-1&&g.lineTo(ot+y((Ee+1)*Xe/xe),_t+y((Ee+1)*ue/(xe-1)));g.lineTo(Rt,Wt)}else g.moveTo(ot,_t),g.lineTo(mt,vt),g.lineTo(Rt,Wt);g.clip(),g.transform(At[0],At[2],At[1],At[3],mt,vt),g.translate(m[0]-kt,m[3]-Q),g.scale(i/t,-i/t),g.drawImage(S.canvas,0,0),g.restore()}}),c&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,s.getTriangles().forEach(function(L,j,v){var H=L.target,$=(H[0][0]-b[0])/a,V=-(H[0][1]-b[1])/a,rt=(H[1][0]-b[0])/a,ct=-(H[1][1]-b[1])/a,at=(H[2][0]-b[0])/a,yt=-(H[2][1]-b[1])/a;g.beginPath(),g.moveTo(rt,ct),g.lineTo($,V),g.lineTo(at,yt),g.closePath(),g.stroke()}),g.restore()),g.canvas}var xI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),EI=function(n){xI(e,n);function e(t,i,r,a,o,s,l,h,c,d,g,y){var m=n.call(this,o,Ot.IDLE,{interpolate:!!y})||this;m.renderEdges_=g!==void 0?g:!1,m.pixelRatio_=l,m.gutter_=h,m.canvas_=null,m.sourceTileGrid_=i,m.targetTileGrid_=a,m.wrappedTileCoord_=s||o,m.sourceTiles_=[],m.sourcesListenerKeys_=null,m.sourceZ_=0;var M=a.getTileCoordExtent(m.wrappedTileCoord_),w=m.targetTileGrid_.getExtent(),S=m.sourceTileGrid_.getExtent(),A=w?mo(M,w):M;if(eh(A)===0)return m.state=Ot.EMPTY,m;var b=t.getExtent();b&&(S?S=mo(S,b):S=b);var L=a.getResolution(m.wrappedTileCoord_[0]),j=yI(t,r,A,L);if(!isFinite(j)||j<=0)return m.state=Ot.EMPTY,m;var v=d!==void 0?d:cI;if(m.triangulation_=new vI(t,r,A,S,j*v,L),m.triangulation_.getTriangles().length===0)return m.state=Ot.EMPTY,m;m.sourceZ_=i.getZForResolution(j);var H=m.triangulation_.calculateSourceExtent();if(S&&(t.canWrapX()?(H[1]=Pe(H[1],S[1],S[3]),H[3]=Pe(H[3],S[1],S[3])):H=mo(H,S)),!eh(H))m.state=Ot.EMPTY;else{for(var $=i.getTileRangeForExtentAndZ(H,m.sourceZ_),V=$.minX;V<=$.maxX;V++)for(var rt=$.minY;rt<=$.maxY;rt++){var ct=c(m.sourceZ_,V,rt,l);ct&&m.sourceTiles_.push(ct)}m.sourceTiles_.length===0&&(m.state=Ot.EMPTY)}return m}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(c,d,g){c&&c.getState()==Ot.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Ot.ERROR;else{var i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),a=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],s=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=mI(a,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,h,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ot.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Ot.IDLE){this.state=Ot.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i,r,a){var o=i.getState();if(o==Ot.IDLE||o==Ot.LOADING){t++;var s=Jt(i,jt.CHANGE,function(l){var h=i.getState();(h==Ot.LOADED||h==Ot.ERROR||h==Ot.EMPTY)&&(_e(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(i,r,a){var o=i.getState();o==Ot.IDLE&&i.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(_e),this.sourcesListenerKeys_=null},e}(Eg),Tg=EI,Cg=function(){function n(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function ia(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new Cg(n,e,t,i)}var wg=Cg,MI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),TI=function(n){MI(e,n);function e(t){var i=n.call(this,t)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=kn(),i.tmpTileRange_=new wg(0,0,0,0),i}return e.prototype.isDrawableTile=function(t){var i=this.getLayer(),r=t.getState(),a=i.getUseInterimTilesOnError();return r==Ot.LOADED||r==Ot.EMPTY||r==Ot.ERROR&&!a},e.prototype.getTile=function(t,i,r,a){var o=a.pixelRatio,s=a.viewState.projection,l=this.getLayer(),h=l.getSource(),c=h.getTile(t,i,r,o,s);return c.getState()==Ot.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):c.setState(Ot.LOADED)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},e.prototype.getData=function(t){var i=this.frameState;if(!i)return null;var r=this.getLayer(),a=Ne(i.pixelToCoordinateTransform,t.slice()),o=r.getExtent();if(o&&!zo(o,a))return null;for(var s=i.pixelRatio,l=i.viewState.projection,h=i.viewState,c=r.getRenderSource(),d=c.getTileGridForProjection(h.projection),g=c.getTilePixelRatio(i.pixelRatio),y=d.getZForResolution(h.resolution);y>=d.getMinZoom();--y){var m=d.getTileCoordForCoordAndZ(a,y),M=c.getTile(y,m[1],m[2],s,l);if(!(M instanceof Mg||M instanceof Tg))return null;if(M.getState()===Ot.LOADED){var w=d.getOrigin(y),S=Yn(d.getTileSize(y)),A=d.getResolution(y),b=Math.floor(g*((a[0]-w[0])/A-m[1]*S[0])),L=Math.floor(g*((w[1]-a[1])/A-m[2]*S[1]));return this.getImageData(M.getImage(),b,L)}}return null},e.prototype.loadedTileCallback=function(t,i,r){return this.isDrawableTile(r)?n.prototype.loadedTileCallback.call(this,t,i,r):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,i){var r=t.layerStatesArray[t.layerIndex],a=t.viewState,o=a.projection,s=a.resolution,l=a.center,h=a.rotation,c=t.pixelRatio,d=this.getLayer(),g=d.getSource(),y=g.getRevision(),m=g.getTileGridForProjection(o),M=m.getZForResolution(s,g.zDirection),w=m.getResolution(M),S=t.extent,A=r.extent&&Dr(r.extent);A&&(S=mo(S,Dr(r.extent)));var b=g.getTilePixelRatio(c),L=Math.round(t.size[0]*b),j=Math.round(t.size[1]*b);if(h){var v=Math.round(Math.sqrt(L*L+j*j));L=v,j=v}var H=w*L/2/b,$=w*j/2/b,V=[l[0]-H,l[1]-$,l[0]+H,l[1]+$],rt=m.getTileRangeForExtentAndZ(S,M),ct={};ct[M]={};var at=this.createLoadedTileFinder(g,o,ct),yt=this.tmpExtent,bt=this.tmpTileRange_;this.newTiles_=!1;for(var mt=rt.minX;mt<=rt.maxX;++mt)for(var vt=rt.minY;vt<=rt.maxY;++vt){var ot=this.getTile(M,mt,vt,t);if(this.isDrawableTile(ot)){var _t=te(this);if(ot.getState()==Ot.LOADED){ct[M][ot.tileCoord.toString()]=ot;var Rt=ot.inTransition(_t);!this.newTiles_&&(Rt||this.renderedTiles.indexOf(ot)===-1)&&(this.newTiles_=!0)}if(ot.getAlpha(_t,t.time)===1)continue}var Wt=m.getTileCoordChildTileRange(ot.tileCoord,bt,yt),kt=!1;Wt&&(kt=at(M+1,Wt)),kt||m.forEachTileCoordParentTileRange(ot.tileCoord,at,bt,yt)}var Q=w/s;bi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/b,1/b,h,-L/2,-j/2);var qt=lv(this.pixelTransform);this.useContainer(i,qt,r.opacity,this.getBackground(t));var At=this.context,xe=At.canvas;af(this.inversePixelTransform,this.pixelTransform),bi(this.tempTransform,L/2,j/2,Q,Q,0,-L/2,-j/2),xe.width!=L||xe.height!=j?(xe.width=L,xe.height=j):this.containerReused||At.clearRect(0,0,L,j),A&&this.clipUnrotated(At,t,A),g.getInterpolate()||Ie(At,Eh),this.preRender(At,t),this.renderedTiles.length=0;var Xe=Object.keys(ct).map(Number);Xe.sort(Xr);var ue,Ee,de;r.opacity===1&&(!this.containerReused||g.getOpaque(t.viewState.projection))?Xe=Xe.reverse():(ue=[],Ee=[]);for(var tn=Xe.length-1;tn>=0;--tn){var Ye=Xe[tn],ei=g.getTilePixelSize(Ye,c,o),R=m.getResolution(Ye),F=R/w,W=ei[0]*F*Q,k=ei[1]*F*Q,X=m.getTileCoordForCoordAndZ(Zr(V),Ye),nt=m.getTileCoordExtent(X),lt=Ne(this.tempTransform,[b*(nt[0]-V[0])/w,b*(V[3]-nt[3])/w]),et=b*g.getGutterForProjection(o),it=ct[Ye];for(var K in it){var ot=it[K],dt=ot.tileCoord,ut=X[1]-dt[1],gt=Math.round(lt[0]-(ut-1)*W),Mt=X[2]-dt[2],$t=Math.round(lt[1]-(Mt-1)*k),mt=Math.round(lt[0]-ut*W),vt=Math.round(lt[1]-Mt*k),Bt=gt-mt,Ut=$t-vt,Yt=M===Ye,Rt=Yt&&ot.getAlpha(te(this),t.time)!==1,Ge=!1;if(!Rt)if(ue){de=[mt,vt,mt+Bt,vt,mt+Bt,vt+Ut,mt,vt+Ut];for(var oe=0,xn=ue.length;oe<xn;++oe)if(M!==Ye&&Ye<Ee[oe]){var pe=ue[oe];pn([mt,vt,mt+Bt,vt+Ut],[pe[0],pe[3],pe[4],pe[7]])&&(Ge||(At.save(),Ge=!0),At.beginPath(),At.moveTo(de[0],de[1]),At.lineTo(de[2],de[3]),At.lineTo(de[4],de[5]),At.lineTo(de[6],de[7]),At.moveTo(pe[6],pe[7]),At.lineTo(pe[4],pe[5]),At.lineTo(pe[2],pe[3]),At.lineTo(pe[0],pe[1]),At.clip())}ue.push(de),Ee.push(Ye)}else At.clearRect(mt,vt,Bt,Ut);this.drawTileImage(ot,t,mt,vt,Bt,Ut,et,Yt),ue&&!Rt?(Ge&&At.restore(),this.renderedTiles.unshift(ot)):this.renderedTiles.push(ot),this.updateUsedTiles(t.usedTiles,g,ot)}}this.renderedRevision=y,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!Oo(this.renderedExtent_,V),this.renderedExtent_=V,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(t,g,m,c,o,S,M,d.getPreload()),this.scheduleExpireCache(t,g),this.postRender(At,t),r.extent&&At.restore(),Ie(At,gI),qt!==xe.style.transform&&(xe.style.transform=qt);var On=Tv(r.opacity),Kt=this.container;return On!==Kt.style.opacity&&(Kt.style.opacity=On),this.container},e.prototype.drawTileImage=function(t,i,r,a,o,s,l,h){var c=this.getTileImage(t);if(!!c){var d=te(this),g=h?t.getAlpha(d,i.time):1,y=g!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=g),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,r,a,o,s),y&&this.context.restore(),g!==1?i.animate=!0:h&&t.endTransition(d)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,i){if(i.canExpireCache()){var r=function(a,o,s){var l=te(a);l in s.usedTiles&&a.expireCache(s.viewState.projection,s.usedTiles[l])}.bind(null,i);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,i,r){var a=te(i);a in t||(t[a]={}),t[a][r.getKey()]=!0},e.prototype.manageTilePyramid=function(t,i,r,a,o,s,l,h,c){var d=te(i);d in t.wantedTiles||(t.wantedTiles[d]={});var g=t.wantedTiles[d],y=t.tileQueue,m=r.getMinZoom(),M=0,w,S,A,b,L,j;for(j=m;j<=l;++j)for(S=r.getTileRangeForExtentAndZ(s,j,S),A=r.getResolution(j),b=S.minX;b<=S.maxX;++b)for(L=S.minY;L<=S.maxY;++L)l-j<=h?(++M,w=i.getTile(j,b,L,a,o),w.getState()==Ot.IDLE&&(g[w.getKey()]=!0,y.isKeyQueued(w.getKey())||y.enqueue([w,d,r.getTileCoordCenter(w.tileCoord),A])),c!==void 0&&c(w)):i.useTile(j,b,L,o);i.updateCacheSize(M,o)},e}(Xv),CI=TI,wI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SI=function(n){wI(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new CI(this)},e}(oI),RI=SI,OI=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var i=this.entries_[e];return Ht(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},n.prototype.remove=function(e){var t=this.entries_[e];return Ht(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){Ht(!(e in this.entries_),16);var i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),II=OI;function zd(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function Wl(n,e,t){return n+"/"+e+"/"+t}function Sg(n){return Wl(n[0],n[1],n[2])}function PI(n){return n.split("/").map(Number)}function AI(n){return(n[1]<<n[0])+n[2]}function bI(n,e){var t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var a=e.getFullTileRange(t);return a?a.containsXY(i,r):!0}var LI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),NI=function(n){LI(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var i=this.peekLast();if(i.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),i=PI(t),r=i[0];this.forEach(function(a){a.tileCoord[0]!==r&&(this.remove(Sg(a.tileCoord)),a.release())}.bind(this))}},e}(II),Rg=NI,Lu={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},FI=[0,0,0],Xi=5,DI=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ht(Em(this.resolutions_,function(o,s){return s-o},!0),17);var t;if(!e.origins){for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(!t)t=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ht(this.origins_.length==this.resolutions_.length,20));var a=e.extent;a!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Zr(a)),Ht(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ht(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:qh,Ht(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=a!==void 0?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(o,s){var l=new wg(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(a){var h=this.getTileRangeForExtentAndZ(a,s);l.minX=Math.max(h.minX,l.minX),l.maxX=Math.min(h.maxX,l.maxX),l.minY=Math.max(h.minY,l.minY),l.maxY=Math.min(h.maxY,l.maxY)}return l},this):a&&this.calculateTileRanges_(a)}return n.prototype.forEachTileCoord=function(e,t,i){for(var r=this.getTileRangeForExtentAndZ(e,t),a=r.minX,o=r.maxX;a<=o;++a)for(var s=r.minY,l=r.maxY;s<=l;++s)i([t,a,s])},n.prototype.forEachTileCoordParentTileRange=function(e,t,i,r){var a,o,s,l=null,h=e[0]-1;for(this.zoomFactor_===2?(o=e[1],s=e[2]):l=this.getTileCoordExtent(e,r);h>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),s=Math.floor(s/2),a=ia(o,o,s,s,i)):a=this.getTileRangeForExtentAndZ(l,h,i),t(h,a))return!0;--h}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var r=e[1]*2,a=e[2]*2;return ia(r,r+1,a,a+1,t)}var o=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],a=e[1],o=e[2];if(t===r)return ia(a,o,a,o,i);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-r),l=Math.floor(a*s),h=Math.floor(o*s);if(t<r)return ia(l,l,h,h,i);var c=Math.floor(s*(a+1))-1,d=Math.floor(s*(o+1))-1;return ia(l,c,h,d,i)}var g=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(g,t,i)},n.prototype.getTileRangeExtent=function(e,t,i){var r=this.getOrigin(e),a=this.getResolution(e),o=Yn(this.getTileSize(e),this.tmpSize_),s=r[0]+t.minX*o[0]*a,l=r[0]+(t.maxX+1)*o[0]*a,h=r[1]+t.minY*o[1]*a,c=r[1]+(t.maxY+1)*o[1]*a;return Qn(s,h,l,c,i)},n.prototype.getTileRangeForExtentAndZ=function(e,t,i){var r=FI;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var a=r[1],o=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),ia(a,r[1],o,r[2],i)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Yn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]},n.prototype.getTileCoordExtent=function(e,t){var i=this.getOrigin(e[0]),r=this.getResolution(e[0]),a=Yn(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*a[0]*r,s=i[1]-(e[2]+1)*a[1]*r,l=o+a[0]*r,h=s+a[1]*r;return Qn(o,s,l,h,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,i,r,a){var o=this.getZForResolution(i),s=i/this.getResolution(o),l=this.getOrigin(o),h=Yn(this.getTileSize(o),this.tmpSize_),c=s*(e-l[0])/i/h[0],d=s*(l[1]-t)/i/h[1];return r?(c=Es(c,Xi)-1,d=Es(d,Xi)-1):(c=xs(c,Xi),d=xs(d,Xi)),zd(o,c,d,a)},n.prototype.getTileCoordForXYAndZ_=function(e,t,i,r,a){var o=this.getOrigin(i),s=this.getResolution(i),l=Yn(this.getTileSize(i),this.tmpSize_),h=(e-o[0])/s/l[0],c=(o[1]-t)/s/l[1];return r?(h=Es(h,Xi)-1,c=Es(c,Xi)-1):(h=xs(h,Xi),c=xs(c,Xi)),zd(i,h,c,a)},n.prototype.getTileCoordForCoordAndZ=function(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var i=Xh(this.resolutions_,e,t||0);return Pe(i,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,i=new Array(t),r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i},n}(),Og=DI;function Ig(n){var e=n.getDefaultTileGrid();return e||(e=BI(n),n.setDefaultTileGrid(e)),e}function GI(n,e,t){var i=e[0],r=n.getTileCoordCenter(e),a=Ef(t);if(zo(a,r))return e;var o=Ce(a),s=Math.ceil((a[0]-r[0])/o);return r[0]+=o*s,n.getTileCoordForCoordAndZ(r,i)}function kI(n,e,t,i){var r=i!==void 0?i:so.TOP_LEFT,a=Pg(n,e,t);return new Og({extent:n,origin:Jm(n,r),resolutions:a,tileSize:t})}function jI(n){var e=n||{},t=e.extent||me("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Pg(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Og(i)}function Pg(n,e,t,i){for(var r=e!==void 0?e:Pm,a=ti(n),o=Ce(n),s=Yn(t!==void 0?t:qh),l=i>0?i:Math.max(o/s[0],a/s[1]),h=r+1,c=new Array(h),d=0;d<h;++d)c[d]=l/Math.pow(2,d);return c}function BI(n,e,t,i){var r=Ef(n);return kI(r,e,t,i)}function Ef(n){n=me(n);var e=n.getExtent();if(!e){var t=180*di[ui.DEGREES]/n.getMetersPerUnit();e=Qn(-t,-t,t,t)}return e}var Ag=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$I=function(n){Ag(e,n);function e(t){var i=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;i.on,i.once,i.un,i.opaque_=t.opaque!==void 0?t.opaque:!1,i.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,i.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var r=[256,256];return i.tileGrid&&Yn(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),r),i.tileCache=new Rg(t.cacheSize||0),i.tmpSize=[0,0],i.key_=t.key||"",i.tileOptions={transition:t.transition,interpolate:t.interpolate},i.zDirection=t.zDirection?t.zDirection:0,i}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,i){var r=this.getTileCacheForProjection(t);r&&r.expireCache(i)},e.prototype.forEachLoadedTile=function(t,i,r,a){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var s=!0,l,h,c,d=r.minX;d<=r.maxX;++d)for(var g=r.minY;g<=r.maxY;++g)h=Wl(i,d,g),c=!1,o.containsKey(h)&&(l=o.get(h),c=l.getState()===Ot.LOADED,c&&(c=a(l)!==!1)),c||(s=!1);return s},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,i,r,a,o){return Nt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Ig(t)},e.prototype.getTileCacheForProjection=function(t){return Ht(Qi(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,i,r){var a=this.getTileGridForProjection(r),o=this.getTilePixelRatio(i),s=Yn(a.getTileSize(t),this.tmpSize);return o==1?s:eE(s,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,i){var r=i!==void 0?i:this.getProjection(),a=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=GI(a,t,r)),bI(t,a)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,i){var r=this.getTileCacheForProjection(i);t>r.highWaterMark&&(r.highWaterMark=t)},e.prototype.useTile=function(t,i,r,a){},e}(Hv),UI=function(n){Ag(e,n);function e(t,i){var r=n.call(this,t)||this;return r.tile=i,r}return e}(Fi),WI=$I;function zI(n,e){var t=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,a=/\{-y\}/g;return function(o,s,l){if(o)return n.replace(t,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(a,function(){var h=o[0],c=e.getFullTileRange(h);Ht(c,55);var d=c.getHeight()-o[2]-1;return d.toString()})}}function XI(n,e){for(var t=n.length,i=new Array(t),r=0;r<t;++r)i[r]=zI(n[r],e);return qI(i)}function qI(n){return n.length===1?n[0]:function(e,t,i){if(e){var r=AI(e),a=Ma(r,n.length);return n[a](e,t,i)}else return}}function YI(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),a=void 0;for(a=i;a<=r;++a)e.push(n.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var o=parseInt(t[2],10),s=parseInt(t[1],10);s<=o;s++)e.push(n.replace(t[0],s.toString()));return e}return e.push(n),e}var HI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),VI=function(n){HI(e,n);function e(t){var i=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(i.tileUrlFunction=t.tileUrlFunction),i.urls=null,t.urls?i.setUrls(t.urls):t.url&&i.setUrl(t.url),i.tileLoadingKeys_={},i}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var i=t.target,r=te(i),a=i.getState(),o;a==Ot.LOADING?(this.tileLoadingKeys_[r]=!0,o=Lu.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],o=a==Ot.ERROR?Lu.TILELOADERROR:a==Ot.LOADED?Lu.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new UI(o,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,i){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof i!="undefined"?this.setKey(i):this.changed()},e.prototype.setUrl=function(t){var i=YI(t);this.urls=i,this.setUrls(i)},e.prototype.setUrls=function(t){this.urls=t;var i=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(XI(t,this.tileGrid),i):this.setKey(i)},e.prototype.tileUrlFunction=function(t,i,r){},e.prototype.useTile=function(t,i,r){var a=Wl(t,i,r);this.tileCache.containsKey(a)&&this.tileCache.get(a)},e}(WI),KI=VI,ZI=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),JI=function(n){ZI(e,n);function e(t){var i=this,r=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(r=t.interpolate),i=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:QI,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:r,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,i.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,i.tileClass=t.tileClass!==void 0?t.tileClass:Mg,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return e.prototype.canExpireCache=function(){if(!Ci)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,i){if(!Ci){n.prototype.expireCache.call(this,t,i);return}var r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?i:{});for(var a in this.tileCacheForProjection){var o=this.tileCacheForProjection[a];o.expireCache(o==r?i:{})}},e.prototype.getGutterForProjection=function(t){return Ci&&this.getProjection()&&t&&!Qi(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return Ci&&this.getProjection()&&t&&!Qi(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!Ci)return n.prototype.getTileGridForProjection.call(this,t);var i=this.getProjection();if(this.tileGrid&&(!i||Qi(i,t)))return this.tileGrid;var r=te(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Ig(t)),this.tileGridForProjection[r]},e.prototype.getTileCacheForProjection=function(t){if(!Ci)return n.prototype.getTileCacheForProjection.call(this,t);var i=this.getProjection();if(!i||Qi(i,t))return this.tileCache;var r=te(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Rg(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,i,r,a,o,s){var l=[t,i,r],h=this.getTileCoordForTileUrlFunction(l,o),c=h?this.tileUrlFunction(h,a,o):void 0,d=new this.tileClass(l,c!==void 0?Ot.IDLE:Ot.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=s,d.addEventListener(jt.CHANGE,this.handleTileChange.bind(this)),d},e.prototype.getTile=function(t,i,r,a,o){var s=this.getProjection();if(!Ci||!s||!o||Qi(s,o))return this.getTileInternal(t,i,r,a,s||o);var l=this.getTileCacheForProjection(o),h=[t,i,r],c=void 0,d=Sg(h);l.containsKey(d)&&(c=l.get(d));var g=this.getKey();if(c&&c.key==g)return c;var y=this.getTileGridForProjection(s),m=this.getTileGridForProjection(o),M=this.getTileCoordForTileUrlFunction(h,o),w=new Tg(s,y,o,m,h,M,this.getTilePixelRatio(a),this.getGutter(),function(S,A,b,L){return this.getTileInternal(S,A,b,L,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=g,c?(w.interimTile=c,w.refreshInterimChain(),l.replace(d,w)):l.set(d,w),w},e.prototype.getTileInternal=function(t,i,r,a,o){var s=null,l=Wl(t,i,r),h=this.getKey();if(!this.tileCache.containsKey(l))s=this.createTile_(t,i,r,a,o,h),this.tileCache.set(l,s);else if(s=this.tileCache.get(l),s.key!=h){var c=s;s=this.createTile_(t,i,r,a,o,h),c.getState()==Ot.IDLE?s.interimTile=c.interimTile:s.interimTile=c,s.refreshInterimChain(),this.tileCache.replace(l,s)}return s},e.prototype.setRenderReprojectionEdges=function(t){if(!(!Ci||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var i in this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,i){if(Ci){var r=me(t);if(r){var a=te(r);a in this.tileGridForProjection||(this.tileGridForProjection[a]=i)}}},e}(KI);function QI(n,e){n.getImage().src=e}var tP=JI,eP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nP=function(n){eP(e,n);function e(t){var i=t||{},r=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(r=i.interpolate);var a=i.projection!==void 0?i.projection:"EPSG:3857",o=i.tileGrid!==void 0?i.tileGrid:jI({extent:Ef(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:r,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return e}(tP),iP=nP;const rP={name:"LayersControl",props:{mapTypeId:String,mapTypes:Object,layerGroup:Li},computed:{selected:{set(n){return this.setMapType(n),n},get(){return this.mapTypeId}}},mounted(){for(const n in this.mapTypes){const e=this.mapTypes[n];this.layerGroup.getLayers().push(new RI({source:new iP({attributions:e.options.attribution,url:e.url}),name:e.name,mapTypeId:n,visible:n==this.mapTypeId}))}},methods:{setMapType(n){this.layerGroup.getLayers().forEach(e=>e.setVisible(e.get("mapTypeId")===n))}}},aP=Te("label",{for:"baselayer"},[Te("b",null,"Toggle base layer")],-1),oP=Te("option",{disabled:"",value:""},"Please select one",-1),sP=["value"];function lP(n,e,t,i,r,a){return dn(),wn("section",null,[aP,Xu(Te("select",{id:"baselayer","onUpdate:modelValue":e[0]||(e[0]=o=>a.selected=o)},[oP,(dn(!0),wn(Ze,null,ks(t.mapTypes,(o,s)=>(dn(),wn("option",{key:s,value:s},ra(o.name),9,sP))),128))],512),[[Wh,a.selected]])])}var uP=Ul(rP,[["render",lP]]),hP=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},bg={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window!="undefined"?window:hP,function(e,t){var i=[],r=Object.getPrototypeOf,a=i.slice,o=i.flat?function(u){return i.flat.call(u)}:function(u){return i.concat.apply([],u)},s=i.push,l=i.indexOf,h={},c=h.toString,d=h.hasOwnProperty,g=d.toString,y=g.call(Object),m={},M=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},w=function(f){return f!=null&&f===f.window},S=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function b(u,f,p){p=p||S;var _,x,E=p.createElement("script");if(E.text=u,f)for(_ in A)x=f[_]||f.getAttribute&&f.getAttribute(_),x&&E.setAttribute(_,x);p.head.appendChild(E).parentNode.removeChild(E)}function L(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?h[c.call(u)]||"object":typeof u}var j="3.6.0",v=function(u,f){return new v.fn.init(u,f)};v.fn=v.prototype={jquery:j,constructor:v,length:0,toArray:function(){return a.call(this)},get:function(u){return u==null?a.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var f=v.merge(this.constructor(),u);return f.prevObject=this,f},each:function(u){return v.each(this,u)},map:function(u){return this.pushStack(v.map(this,function(f,p){return u.call(f,p,f)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(u,f){return(f+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(u,f){return f%2}))},eq:function(u){var f=this.length,p=+u+(u<0?f:0);return this.pushStack(p>=0&&p<f?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},v.extend=v.fn.extend=function(){var u,f,p,_,x,E,T=arguments[0]||{},I=1,P=arguments.length,D=!1;for(typeof T=="boolean"&&(D=T,T=arguments[I]||{},I++),typeof T!="object"&&!M(T)&&(T={}),I===P&&(T=this,I--);I<P;I++)if((u=arguments[I])!=null)for(f in u)_=u[f],!(f==="__proto__"||T===_)&&(D&&_&&(v.isPlainObject(_)||(x=Array.isArray(_)))?(p=T[f],x&&!Array.isArray(p)?E=[]:!x&&!v.isPlainObject(p)?E={}:E=p,x=!1,T[f]=v.extend(D,E,_)):_!==void 0&&(T[f]=_));return T},v.extend({expando:"jQuery"+(j+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var f,p;return!u||c.call(u)!=="[object Object]"?!1:(f=r(u),f?(p=d.call(f,"constructor")&&f.constructor,typeof p=="function"&&g.call(p)===y):!0)},isEmptyObject:function(u){var f;for(f in u)return!1;return!0},globalEval:function(u,f,p){b(u,{nonce:f&&f.nonce},p)},each:function(u,f){var p,_=0;if(H(u))for(p=u.length;_<p&&f.call(u[_],_,u[_])!==!1;_++);else for(_ in u)if(f.call(u[_],_,u[_])===!1)break;return u},makeArray:function(u,f){var p=f||[];return u!=null&&(H(Object(u))?v.merge(p,typeof u=="string"?[u]:u):s.call(p,u)),p},inArray:function(u,f,p){return f==null?-1:l.call(f,u,p)},merge:function(u,f){for(var p=+f.length,_=0,x=u.length;_<p;_++)u[x++]=f[_];return u.length=x,u},grep:function(u,f,p){for(var _,x=[],E=0,T=u.length,I=!p;E<T;E++)_=!f(u[E],E),_!==I&&x.push(u[E]);return x},map:function(u,f,p){var _,x,E=0,T=[];if(H(u))for(_=u.length;E<_;E++)x=f(u[E],E,p),x!=null&&T.push(x);else for(E in u)x=f(u[E],E,p),x!=null&&T.push(x);return o(T)},guid:1,support:m}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=i[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,f){h["[object "+f+"]"]=f.toLowerCase()});function H(u){var f=!!u&&"length"in u&&u.length,p=L(u);return M(u)||w(u)?!1:p==="array"||f===0||typeof f=="number"&&f>0&&f-1 in u}var $=function(u){var f,p,_,x,E,T,I,P,D,U,Z,B,z,xt,Ft,Et,je,Le,En,le="sizzle"+1*new Date,Lt=u.document,un=0,Qt=0,we=hs(),Ja=hs(),ss=hs(),Mn=hs(),Er=function(C,O){return C===O&&(Z=!0),0},Mr={}.hasOwnProperty,hn=[],ji=hn.pop,In=hn.push,Bi=hn.push,Uf=hn.slice,Tr=function(C,O){for(var N=0,q=C.length;N<q;N++)if(C[N]===O)return N;return-1},nu="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",Cr="(?:\\\\[\\da-fA-F]{1,6}"+ee+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Wf="\\["+ee+"*("+Cr+")(?:"+ee+"*([*^$|!~]?=)"+ee+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Cr+"))|)"+ee+"*\\]",iu=":("+Cr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Wf+")*)|.*)\\)|)",f_=new RegExp(ee+"+","g"),ls=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),c_=new RegExp("^"+ee+"*,"+ee+"*"),zf=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),d_=new RegExp(ee+"|>"),p_=new RegExp(iu),v_=new RegExp("^"+Cr+"$"),us={ID:new RegExp("^#("+Cr+")"),CLASS:new RegExp("^\\.("+Cr+")"),TAG:new RegExp("^("+Cr+"|[*])"),ATTR:new RegExp("^"+Wf),PSEUDO:new RegExp("^"+iu),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+nu+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},g_=/HTML$/i,__=/^(?:input|select|textarea|button)$/i,y_=/^h\d$/i,Qa=/^[^{]+\{\s*\[native \w/,m_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ru=/[+~]/,mi=new RegExp("\\\\[\\da-fA-F]{1,6}"+ee+"?|\\\\([^\\r\\n\\f])","g"),xi=function(C,O){var N="0x"+C.slice(1)-65536;return O||(N<0?String.fromCharCode(N+65536):String.fromCharCode(N>>10|55296,N&1023|56320))},Xf=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,qf=function(C,O){return O?C==="\0"?"\uFFFD":C.slice(0,-1)+"\\"+C.charCodeAt(C.length-1).toString(16)+" ":"\\"+C},Yf=function(){B()},x_=cs(function(C){return C.disabled===!0&&C.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Bi.apply(hn=Uf.call(Lt.childNodes),Lt.childNodes),hn[Lt.childNodes.length].nodeType}catch{Bi={apply:hn.length?function(O,N){In.apply(O,Uf.call(N))}:function(O,N){for(var q=O.length,G=0;O[q++]=N[G++];);O.length=q-1}}}function he(C,O,N,q){var G,Y,J,st,ht,Ct,Tt,St=O&&O.ownerDocument,Xt=O?O.nodeType:9;if(N=N||[],typeof C!="string"||!C||Xt!==1&&Xt!==9&&Xt!==11)return N;if(!q&&(B(O),O=O||z,Ft)){if(Xt!==11&&(ht=m_.exec(C)))if(G=ht[1]){if(Xt===9)if(J=O.getElementById(G)){if(J.id===G)return N.push(J),N}else return N;else if(St&&(J=St.getElementById(G))&&En(O,J)&&J.id===G)return N.push(J),N}else{if(ht[2])return Bi.apply(N,O.getElementsByTagName(C)),N;if((G=ht[3])&&p.getElementsByClassName&&O.getElementsByClassName)return Bi.apply(N,O.getElementsByClassName(G)),N}if(p.qsa&&!Mn[C+" "]&&(!Et||!Et.test(C))&&(Xt!==1||O.nodeName.toLowerCase()!=="object")){if(Tt=C,St=O,Xt===1&&(d_.test(C)||zf.test(C))){for(St=ru.test(C)&&ou(O.parentNode)||O,(St!==O||!p.scope)&&((st=O.getAttribute("id"))?st=st.replace(Xf,qf):O.setAttribute("id",st=le)),Ct=T(C),Y=Ct.length;Y--;)Ct[Y]=(st?"#"+st:":scope")+" "+fs(Ct[Y]);Tt=Ct.join(",")}try{return Bi.apply(N,St.querySelectorAll(Tt)),N}catch{Mn(C,!0)}finally{st===le&&O.removeAttribute("id")}}}return P(C.replace(ls,"$1"),O,N,q)}function hs(){var C=[];function O(N,q){return C.push(N+" ")>_.cacheLength&&delete O[C.shift()],O[N+" "]=q}return O}function $n(C){return C[le]=!0,C}function Un(C){var O=z.createElement("fieldset");try{return!!C(O)}catch{return!1}finally{O.parentNode&&O.parentNode.removeChild(O),O=null}}function au(C,O){for(var N=C.split("|"),q=N.length;q--;)_.attrHandle[N[q]]=O}function Hf(C,O){var N=O&&C,q=N&&C.nodeType===1&&O.nodeType===1&&C.sourceIndex-O.sourceIndex;if(q)return q;if(N){for(;N=N.nextSibling;)if(N===O)return-1}return C?1:-1}function E_(C){return function(O){var N=O.nodeName.toLowerCase();return N==="input"&&O.type===C}}function M_(C){return function(O){var N=O.nodeName.toLowerCase();return(N==="input"||N==="button")&&O.type===C}}function Vf(C){return function(O){return"form"in O?O.parentNode&&O.disabled===!1?"label"in O?"label"in O.parentNode?O.parentNode.disabled===C:O.disabled===C:O.isDisabled===C||O.isDisabled!==!C&&x_(O)===C:O.disabled===C:"label"in O?O.disabled===C:!1}}function wr(C){return $n(function(O){return O=+O,$n(function(N,q){for(var G,Y=C([],N.length,O),J=Y.length;J--;)N[G=Y[J]]&&(N[G]=!(q[G]=N[G]))})})}function ou(C){return C&&typeof C.getElementsByTagName!="undefined"&&C}p=he.support={},E=he.isXML=function(C){var O=C&&C.namespaceURI,N=C&&(C.ownerDocument||C).documentElement;return!g_.test(O||N&&N.nodeName||"HTML")},B=he.setDocument=function(C){var O,N,q=C?C.ownerDocument||C:Lt;return q==z||q.nodeType!==9||!q.documentElement||(z=q,xt=z.documentElement,Ft=!E(z),Lt!=z&&(N=z.defaultView)&&N.top!==N&&(N.addEventListener?N.addEventListener("unload",Yf,!1):N.attachEvent&&N.attachEvent("onunload",Yf)),p.scope=Un(function(G){return xt.appendChild(G).appendChild(z.createElement("div")),typeof G.querySelectorAll!="undefined"&&!G.querySelectorAll(":scope fieldset div").length}),p.attributes=Un(function(G){return G.className="i",!G.getAttribute("className")}),p.getElementsByTagName=Un(function(G){return G.appendChild(z.createComment("")),!G.getElementsByTagName("*").length}),p.getElementsByClassName=Qa.test(z.getElementsByClassName),p.getById=Un(function(G){return xt.appendChild(G).id=le,!z.getElementsByName||!z.getElementsByName(le).length}),p.getById?(_.filter.ID=function(G){var Y=G.replace(mi,xi);return function(J){return J.getAttribute("id")===Y}},_.find.ID=function(G,Y){if(typeof Y.getElementById!="undefined"&&Ft){var J=Y.getElementById(G);return J?[J]:[]}}):(_.filter.ID=function(G){var Y=G.replace(mi,xi);return function(J){var st=typeof J.getAttributeNode!="undefined"&&J.getAttributeNode("id");return st&&st.value===Y}},_.find.ID=function(G,Y){if(typeof Y.getElementById!="undefined"&&Ft){var J,st,ht,Ct=Y.getElementById(G);if(Ct){if(J=Ct.getAttributeNode("id"),J&&J.value===G)return[Ct];for(ht=Y.getElementsByName(G),st=0;Ct=ht[st++];)if(J=Ct.getAttributeNode("id"),J&&J.value===G)return[Ct]}return[]}}),_.find.TAG=p.getElementsByTagName?function(G,Y){if(typeof Y.getElementsByTagName!="undefined")return Y.getElementsByTagName(G);if(p.qsa)return Y.querySelectorAll(G)}:function(G,Y){var J,st=[],ht=0,Ct=Y.getElementsByTagName(G);if(G==="*"){for(;J=Ct[ht++];)J.nodeType===1&&st.push(J);return st}return Ct},_.find.CLASS=p.getElementsByClassName&&function(G,Y){if(typeof Y.getElementsByClassName!="undefined"&&Ft)return Y.getElementsByClassName(G)},je=[],Et=[],(p.qsa=Qa.test(z.querySelectorAll))&&(Un(function(G){var Y;xt.appendChild(G).innerHTML="<a id='"+le+"'></a><select id='"+le+"-\r\\' msallowcapture=''><option selected=''></option></select>",G.querySelectorAll("[msallowcapture^='']").length&&Et.push("[*^$]="+ee+`*(?:''|"")`),G.querySelectorAll("[selected]").length||Et.push("\\["+ee+"*(?:value|"+nu+")"),G.querySelectorAll("[id~="+le+"-]").length||Et.push("~="),Y=z.createElement("input"),Y.setAttribute("name",""),G.appendChild(Y),G.querySelectorAll("[name='']").length||Et.push("\\["+ee+"*name"+ee+"*="+ee+`*(?:''|"")`),G.querySelectorAll(":checked").length||Et.push(":checked"),G.querySelectorAll("a#"+le+"+*").length||Et.push(".#.+[+~]"),G.querySelectorAll("\\\f"),Et.push("[\\r\\n\\f]")}),Un(function(G){G.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Y=z.createElement("input");Y.setAttribute("type","hidden"),G.appendChild(Y).setAttribute("name","D"),G.querySelectorAll("[name=d]").length&&Et.push("name"+ee+"*[*^$|!~]?="),G.querySelectorAll(":enabled").length!==2&&Et.push(":enabled",":disabled"),xt.appendChild(G).disabled=!0,G.querySelectorAll(":disabled").length!==2&&Et.push(":enabled",":disabled"),G.querySelectorAll("*,:x"),Et.push(",.*:")})),(p.matchesSelector=Qa.test(Le=xt.matches||xt.webkitMatchesSelector||xt.mozMatchesSelector||xt.oMatchesSelector||xt.msMatchesSelector))&&Un(function(G){p.disconnectedMatch=Le.call(G,"*"),Le.call(G,"[s!='']:x"),je.push("!=",iu)}),Et=Et.length&&new RegExp(Et.join("|")),je=je.length&&new RegExp(je.join("|")),O=Qa.test(xt.compareDocumentPosition),En=O||Qa.test(xt.contains)?function(G,Y){var J=G.nodeType===9?G.documentElement:G,st=Y&&Y.parentNode;return G===st||!!(st&&st.nodeType===1&&(J.contains?J.contains(st):G.compareDocumentPosition&&G.compareDocumentPosition(st)&16))}:function(G,Y){if(Y){for(;Y=Y.parentNode;)if(Y===G)return!0}return!1},Er=O?function(G,Y){if(G===Y)return Z=!0,0;var J=!G.compareDocumentPosition-!Y.compareDocumentPosition;return J||(J=(G.ownerDocument||G)==(Y.ownerDocument||Y)?G.compareDocumentPosition(Y):1,J&1||!p.sortDetached&&Y.compareDocumentPosition(G)===J?G==z||G.ownerDocument==Lt&&En(Lt,G)?-1:Y==z||Y.ownerDocument==Lt&&En(Lt,Y)?1:U?Tr(U,G)-Tr(U,Y):0:J&4?-1:1)}:function(G,Y){if(G===Y)return Z=!0,0;var J,st=0,ht=G.parentNode,Ct=Y.parentNode,Tt=[G],St=[Y];if(!ht||!Ct)return G==z?-1:Y==z?1:ht?-1:Ct?1:U?Tr(U,G)-Tr(U,Y):0;if(ht===Ct)return Hf(G,Y);for(J=G;J=J.parentNode;)Tt.unshift(J);for(J=Y;J=J.parentNode;)St.unshift(J);for(;Tt[st]===St[st];)st++;return st?Hf(Tt[st],St[st]):Tt[st]==Lt?-1:St[st]==Lt?1:0}),z},he.matches=function(C,O){return he(C,null,null,O)},he.matchesSelector=function(C,O){if(B(C),p.matchesSelector&&Ft&&!Mn[O+" "]&&(!je||!je.test(O))&&(!Et||!Et.test(O)))try{var N=Le.call(C,O);if(N||p.disconnectedMatch||C.document&&C.document.nodeType!==11)return N}catch{Mn(O,!0)}return he(O,z,null,[C]).length>0},he.contains=function(C,O){return(C.ownerDocument||C)!=z&&B(C),En(C,O)},he.attr=function(C,O){(C.ownerDocument||C)!=z&&B(C);var N=_.attrHandle[O.toLowerCase()],q=N&&Mr.call(_.attrHandle,O.toLowerCase())?N(C,O,!Ft):void 0;return q!==void 0?q:p.attributes||!Ft?C.getAttribute(O):(q=C.getAttributeNode(O))&&q.specified?q.value:null},he.escape=function(C){return(C+"").replace(Xf,qf)},he.error=function(C){throw new Error("Syntax error, unrecognized expression: "+C)},he.uniqueSort=function(C){var O,N=[],q=0,G=0;if(Z=!p.detectDuplicates,U=!p.sortStable&&C.slice(0),C.sort(Er),Z){for(;O=C[G++];)O===C[G]&&(q=N.push(G));for(;q--;)C.splice(N[q],1)}return U=null,C},x=he.getText=function(C){var O,N="",q=0,G=C.nodeType;if(G){if(G===1||G===9||G===11){if(typeof C.textContent=="string")return C.textContent;for(C=C.firstChild;C;C=C.nextSibling)N+=x(C)}else if(G===3||G===4)return C.nodeValue}else for(;O=C[q++];)N+=x(O);return N},_=he.selectors={cacheLength:50,createPseudo:$n,match:us,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(C){return C[1]=C[1].replace(mi,xi),C[3]=(C[3]||C[4]||C[5]||"").replace(mi,xi),C[2]==="~="&&(C[3]=" "+C[3]+" "),C.slice(0,4)},CHILD:function(C){return C[1]=C[1].toLowerCase(),C[1].slice(0,3)==="nth"?(C[3]||he.error(C[0]),C[4]=+(C[4]?C[5]+(C[6]||1):2*(C[3]==="even"||C[3]==="odd")),C[5]=+(C[7]+C[8]||C[3]==="odd")):C[3]&&he.error(C[0]),C},PSEUDO:function(C){var O,N=!C[6]&&C[2];return us.CHILD.test(C[0])?null:(C[3]?C[2]=C[4]||C[5]||"":N&&p_.test(N)&&(O=T(N,!0))&&(O=N.indexOf(")",N.length-O)-N.length)&&(C[0]=C[0].slice(0,O),C[2]=N.slice(0,O)),C.slice(0,3))}},filter:{TAG:function(C){var O=C.replace(mi,xi).toLowerCase();return C==="*"?function(){return!0}:function(N){return N.nodeName&&N.nodeName.toLowerCase()===O}},CLASS:function(C){var O=we[C+" "];return O||(O=new RegExp("(^|"+ee+")"+C+"("+ee+"|$)"))&&we(C,function(N){return O.test(typeof N.className=="string"&&N.className||typeof N.getAttribute!="undefined"&&N.getAttribute("class")||"")})},ATTR:function(C,O,N){return function(q){var G=he.attr(q,C);return G==null?O==="!=":O?(G+="",O==="="?G===N:O==="!="?G!==N:O==="^="?N&&G.indexOf(N)===0:O==="*="?N&&G.indexOf(N)>-1:O==="$="?N&&G.slice(-N.length)===N:O==="~="?(" "+G.replace(f_," ")+" ").indexOf(N)>-1:O==="|="?G===N||G.slice(0,N.length+1)===N+"-":!1):!0}},CHILD:function(C,O,N,q,G){var Y=C.slice(0,3)!=="nth",J=C.slice(-4)!=="last",st=O==="of-type";return q===1&&G===0?function(ht){return!!ht.parentNode}:function(ht,Ct,Tt){var St,Xt,fe,wt,Be,He,Tn=Y!==J?"nextSibling":"previousSibling",Me=ht.parentNode,to=st&&ht.nodeName.toLowerCase(),eo=!Tt&&!st,Cn=!1;if(Me){if(Y){for(;Tn;){for(wt=ht;wt=wt[Tn];)if(st?wt.nodeName.toLowerCase()===to:wt.nodeType===1)return!1;He=Tn=C==="only"&&!He&&"nextSibling"}return!0}if(He=[J?Me.firstChild:Me.lastChild],J&&eo){for(wt=Me,fe=wt[le]||(wt[le]={}),Xt=fe[wt.uniqueID]||(fe[wt.uniqueID]={}),St=Xt[C]||[],Be=St[0]===un&&St[1],Cn=Be&&St[2],wt=Be&&Me.childNodes[Be];wt=++Be&&wt&&wt[Tn]||(Cn=Be=0)||He.pop();)if(wt.nodeType===1&&++Cn&&wt===ht){Xt[C]=[un,Be,Cn];break}}else if(eo&&(wt=ht,fe=wt[le]||(wt[le]={}),Xt=fe[wt.uniqueID]||(fe[wt.uniqueID]={}),St=Xt[C]||[],Be=St[0]===un&&St[1],Cn=Be),Cn===!1)for(;(wt=++Be&&wt&&wt[Tn]||(Cn=Be=0)||He.pop())&&!((st?wt.nodeName.toLowerCase()===to:wt.nodeType===1)&&++Cn&&(eo&&(fe=wt[le]||(wt[le]={}),Xt=fe[wt.uniqueID]||(fe[wt.uniqueID]={}),Xt[C]=[un,Cn]),wt===ht)););return Cn-=G,Cn===q||Cn%q===0&&Cn/q>=0}}},PSEUDO:function(C,O){var N,q=_.pseudos[C]||_.setFilters[C.toLowerCase()]||he.error("unsupported pseudo: "+C);return q[le]?q(O):q.length>1?(N=[C,C,"",O],_.setFilters.hasOwnProperty(C.toLowerCase())?$n(function(G,Y){for(var J,st=q(G,O),ht=st.length;ht--;)J=Tr(G,st[ht]),G[J]=!(Y[J]=st[ht])}):function(G){return q(G,0,N)}):q}},pseudos:{not:$n(function(C){var O=[],N=[],q=I(C.replace(ls,"$1"));return q[le]?$n(function(G,Y,J,st){for(var ht,Ct=q(G,null,st,[]),Tt=G.length;Tt--;)(ht=Ct[Tt])&&(G[Tt]=!(Y[Tt]=ht))}):function(G,Y,J){return O[0]=G,q(O,null,J,N),O[0]=null,!N.pop()}}),has:$n(function(C){return function(O){return he(C,O).length>0}}),contains:$n(function(C){return C=C.replace(mi,xi),function(O){return(O.textContent||x(O)).indexOf(C)>-1}}),lang:$n(function(C){return v_.test(C||"")||he.error("unsupported lang: "+C),C=C.replace(mi,xi).toLowerCase(),function(O){var N;do if(N=Ft?O.lang:O.getAttribute("xml:lang")||O.getAttribute("lang"))return N=N.toLowerCase(),N===C||N.indexOf(C+"-")===0;while((O=O.parentNode)&&O.nodeType===1);return!1}}),target:function(C){var O=u.location&&u.location.hash;return O&&O.slice(1)===C.id},root:function(C){return C===xt},focus:function(C){return C===z.activeElement&&(!z.hasFocus||z.hasFocus())&&!!(C.type||C.href||~C.tabIndex)},enabled:Vf(!1),disabled:Vf(!0),checked:function(C){var O=C.nodeName.toLowerCase();return O==="input"&&!!C.checked||O==="option"&&!!C.selected},selected:function(C){return C.parentNode&&C.parentNode.selectedIndex,C.selected===!0},empty:function(C){for(C=C.firstChild;C;C=C.nextSibling)if(C.nodeType<6)return!1;return!0},parent:function(C){return!_.pseudos.empty(C)},header:function(C){return y_.test(C.nodeName)},input:function(C){return __.test(C.nodeName)},button:function(C){var O=C.nodeName.toLowerCase();return O==="input"&&C.type==="button"||O==="button"},text:function(C){var O;return C.nodeName.toLowerCase()==="input"&&C.type==="text"&&((O=C.getAttribute("type"))==null||O.toLowerCase()==="text")},first:wr(function(){return[0]}),last:wr(function(C,O){return[O-1]}),eq:wr(function(C,O,N){return[N<0?N+O:N]}),even:wr(function(C,O){for(var N=0;N<O;N+=2)C.push(N);return C}),odd:wr(function(C,O){for(var N=1;N<O;N+=2)C.push(N);return C}),lt:wr(function(C,O,N){for(var q=N<0?N+O:N>O?O:N;--q>=0;)C.push(q);return C}),gt:wr(function(C,O,N){for(var q=N<0?N+O:N;++q<O;)C.push(q);return C})}},_.pseudos.nth=_.pseudos.eq;for(f in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[f]=E_(f);for(f in{submit:!0,reset:!0})_.pseudos[f]=M_(f);function Kf(){}Kf.prototype=_.filters=_.pseudos,_.setFilters=new Kf,T=he.tokenize=function(C,O){var N,q,G,Y,J,st,ht,Ct=Ja[C+" "];if(Ct)return O?0:Ct.slice(0);for(J=C,st=[],ht=_.preFilter;J;){(!N||(q=c_.exec(J)))&&(q&&(J=J.slice(q[0].length)||J),st.push(G=[])),N=!1,(q=zf.exec(J))&&(N=q.shift(),G.push({value:N,type:q[0].replace(ls," ")}),J=J.slice(N.length));for(Y in _.filter)(q=us[Y].exec(J))&&(!ht[Y]||(q=ht[Y](q)))&&(N=q.shift(),G.push({value:N,type:Y,matches:q}),J=J.slice(N.length));if(!N)break}return O?J.length:J?he.error(C):Ja(C,st).slice(0)};function fs(C){for(var O=0,N=C.length,q="";O<N;O++)q+=C[O].value;return q}function cs(C,O,N){var q=O.dir,G=O.next,Y=G||q,J=N&&Y==="parentNode",st=Qt++;return O.first?function(ht,Ct,Tt){for(;ht=ht[q];)if(ht.nodeType===1||J)return C(ht,Ct,Tt);return!1}:function(ht,Ct,Tt){var St,Xt,fe,wt=[un,st];if(Tt){for(;ht=ht[q];)if((ht.nodeType===1||J)&&C(ht,Ct,Tt))return!0}else for(;ht=ht[q];)if(ht.nodeType===1||J)if(fe=ht[le]||(ht[le]={}),Xt=fe[ht.uniqueID]||(fe[ht.uniqueID]={}),G&&G===ht.nodeName.toLowerCase())ht=ht[q]||ht;else{if((St=Xt[Y])&&St[0]===un&&St[1]===st)return wt[2]=St[2];if(Xt[Y]=wt,wt[2]=C(ht,Ct,Tt))return!0}return!1}}function su(C){return C.length>1?function(O,N,q){for(var G=C.length;G--;)if(!C[G](O,N,q))return!1;return!0}:C[0]}function T_(C,O,N){for(var q=0,G=O.length;q<G;q++)he(C,O[q],N);return N}function ds(C,O,N,q,G){for(var Y,J=[],st=0,ht=C.length,Ct=O!=null;st<ht;st++)(Y=C[st])&&(!N||N(Y,q,G))&&(J.push(Y),Ct&&O.push(st));return J}function lu(C,O,N,q,G,Y){return q&&!q[le]&&(q=lu(q)),G&&!G[le]&&(G=lu(G,Y)),$n(function(J,st,ht,Ct){var Tt,St,Xt,fe=[],wt=[],Be=st.length,He=J||T_(O||"*",ht.nodeType?[ht]:ht,[]),Tn=C&&(J||!O)?ds(He,fe,C,ht,Ct):He,Me=N?G||(J?C:Be||q)?[]:st:Tn;if(N&&N(Tn,Me,ht,Ct),q)for(Tt=ds(Me,wt),q(Tt,[],ht,Ct),St=Tt.length;St--;)(Xt=Tt[St])&&(Me[wt[St]]=!(Tn[wt[St]]=Xt));if(J){if(G||C){if(G){for(Tt=[],St=Me.length;St--;)(Xt=Me[St])&&Tt.push(Tn[St]=Xt);G(null,Me=[],Tt,Ct)}for(St=Me.length;St--;)(Xt=Me[St])&&(Tt=G?Tr(J,Xt):fe[St])>-1&&(J[Tt]=!(st[Tt]=Xt))}}else Me=ds(Me===st?Me.splice(Be,Me.length):Me),G?G(null,st,Me,Ct):Bi.apply(st,Me)})}function uu(C){for(var O,N,q,G=C.length,Y=_.relative[C[0].type],J=Y||_.relative[" "],st=Y?1:0,ht=cs(function(St){return St===O},J,!0),Ct=cs(function(St){return Tr(O,St)>-1},J,!0),Tt=[function(St,Xt,fe){var wt=!Y&&(fe||Xt!==D)||((O=Xt).nodeType?ht(St,Xt,fe):Ct(St,Xt,fe));return O=null,wt}];st<G;st++)if(N=_.relative[C[st].type])Tt=[cs(su(Tt),N)];else{if(N=_.filter[C[st].type].apply(null,C[st].matches),N[le]){for(q=++st;q<G&&!_.relative[C[q].type];q++);return lu(st>1&&su(Tt),st>1&&fs(C.slice(0,st-1).concat({value:C[st-2].type===" "?"*":""})).replace(ls,"$1"),N,st<q&&uu(C.slice(st,q)),q<G&&uu(C=C.slice(q)),q<G&&fs(C))}Tt.push(N)}return su(Tt)}function C_(C,O){var N=O.length>0,q=C.length>0,G=function(Y,J,st,ht,Ct){var Tt,St,Xt,fe=0,wt="0",Be=Y&&[],He=[],Tn=D,Me=Y||q&&_.find.TAG("*",Ct),to=un+=Tn==null?1:Math.random()||.1,eo=Me.length;for(Ct&&(D=J==z||J||Ct);wt!==eo&&(Tt=Me[wt])!=null;wt++){if(q&&Tt){for(St=0,!J&&Tt.ownerDocument!=z&&(B(Tt),st=!Ft);Xt=C[St++];)if(Xt(Tt,J||z,st)){ht.push(Tt);break}Ct&&(un=to)}N&&((Tt=!Xt&&Tt)&&fe--,Y&&Be.push(Tt))}if(fe+=wt,N&&wt!==fe){for(St=0;Xt=O[St++];)Xt(Be,He,J,st);if(Y){if(fe>0)for(;wt--;)Be[wt]||He[wt]||(He[wt]=ji.call(ht));He=ds(He)}Bi.apply(ht,He),Ct&&!Y&&He.length>0&&fe+O.length>1&&he.uniqueSort(ht)}return Ct&&(un=to,D=Tn),Be};return N?$n(G):G}return I=he.compile=function(C,O){var N,q=[],G=[],Y=ss[C+" "];if(!Y){for(O||(O=T(C)),N=O.length;N--;)Y=uu(O[N]),Y[le]?q.push(Y):G.push(Y);Y=ss(C,C_(G,q)),Y.selector=C}return Y},P=he.select=function(C,O,N,q){var G,Y,J,st,ht,Ct=typeof C=="function"&&C,Tt=!q&&T(C=Ct.selector||C);if(N=N||[],Tt.length===1){if(Y=Tt[0]=Tt[0].slice(0),Y.length>2&&(J=Y[0]).type==="ID"&&O.nodeType===9&&Ft&&_.relative[Y[1].type]){if(O=(_.find.ID(J.matches[0].replace(mi,xi),O)||[])[0],O)Ct&&(O=O.parentNode);else return N;C=C.slice(Y.shift().value.length)}for(G=us.needsContext.test(C)?0:Y.length;G--&&(J=Y[G],!_.relative[st=J.type]);)if((ht=_.find[st])&&(q=ht(J.matches[0].replace(mi,xi),ru.test(Y[0].type)&&ou(O.parentNode)||O))){if(Y.splice(G,1),C=q.length&&fs(Y),!C)return Bi.apply(N,q),N;break}}return(Ct||I(C,Tt))(q,O,!Ft,N,!O||ru.test(C)&&ou(O.parentNode)||O),N},p.sortStable=le.split("").sort(Er).join("")===le,p.detectDuplicates=!!Z,B(),p.sortDetached=Un(function(C){return C.compareDocumentPosition(z.createElement("fieldset"))&1}),Un(function(C){return C.innerHTML="<a href='#'></a>",C.firstChild.getAttribute("href")==="#"})||au("type|href|height|width",function(C,O,N){if(!N)return C.getAttribute(O,O.toLowerCase()==="type"?1:2)}),(!p.attributes||!Un(function(C){return C.innerHTML="<input/>",C.firstChild.setAttribute("value",""),C.firstChild.getAttribute("value")===""}))&&au("value",function(C,O,N){if(!N&&C.nodeName.toLowerCase()==="input")return C.defaultValue}),Un(function(C){return C.getAttribute("disabled")==null})||au(nu,function(C,O,N){var q;if(!N)return C[O]===!0?O.toLowerCase():(q=C.getAttributeNode(O))&&q.specified?q.value:null}),he}(e);v.find=$,v.expr=$.selectors,v.expr[":"]=v.expr.pseudos,v.uniqueSort=v.unique=$.uniqueSort,v.text=$.getText,v.isXMLDoc=$.isXML,v.contains=$.contains,v.escapeSelector=$.escape;var V=function(u,f,p){for(var _=[],x=p!==void 0;(u=u[f])&&u.nodeType!==9;)if(u.nodeType===1){if(x&&v(u).is(p))break;_.push(u)}return _},rt=function(u,f){for(var p=[];u;u=u.nextSibling)u.nodeType===1&&u!==f&&p.push(u);return p},ct=v.expr.match.needsContext;function at(u,f){return u.nodeName&&u.nodeName.toLowerCase()===f.toLowerCase()}var yt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function bt(u,f,p){return M(f)?v.grep(u,function(_,x){return!!f.call(_,x,_)!==p}):f.nodeType?v.grep(u,function(_){return _===f!==p}):typeof f!="string"?v.grep(u,function(_){return l.call(f,_)>-1!==p}):v.filter(f,u,p)}v.filter=function(u,f,p){var _=f[0];return p&&(u=":not("+u+")"),f.length===1&&_.nodeType===1?v.find.matchesSelector(_,u)?[_]:[]:v.find.matches(u,v.grep(f,function(x){return x.nodeType===1}))},v.fn.extend({find:function(u){var f,p,_=this.length,x=this;if(typeof u!="string")return this.pushStack(v(u).filter(function(){for(f=0;f<_;f++)if(v.contains(x[f],this))return!0}));for(p=this.pushStack([]),f=0;f<_;f++)v.find(u,x[f],p);return _>1?v.uniqueSort(p):p},filter:function(u){return this.pushStack(bt(this,u||[],!1))},not:function(u){return this.pushStack(bt(this,u||[],!0))},is:function(u){return!!bt(this,typeof u=="string"&&ct.test(u)?v(u):u||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ot=v.fn.init=function(u,f,p){var _,x;if(!u)return this;if(p=p||mt,typeof u=="string")if(u[0]==="<"&&u[u.length-1]===">"&&u.length>=3?_=[null,u,null]:_=vt.exec(u),_&&(_[1]||!f))if(_[1]){if(f=f instanceof v?f[0]:f,v.merge(this,v.parseHTML(_[1],f&&f.nodeType?f.ownerDocument||f:S,!0)),yt.test(_[1])&&v.isPlainObject(f))for(_ in f)M(this[_])?this[_](f[_]):this.attr(_,f[_]);return this}else return x=S.getElementById(_[2]),x&&(this[0]=x,this.length=1),this;else return!f||f.jquery?(f||p).find(u):this.constructor(f).find(u);else{if(u.nodeType)return this[0]=u,this.length=1,this;if(M(u))return p.ready!==void 0?p.ready(u):u(v)}return v.makeArray(u,this)};ot.prototype=v.fn,mt=v(S);var _t=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(u){var f=v(u,this),p=f.length;return this.filter(function(){for(var _=0;_<p;_++)if(v.contains(this,f[_]))return!0})},closest:function(u,f){var p,_=0,x=this.length,E=[],T=typeof u!="string"&&v(u);if(!ct.test(u)){for(;_<x;_++)for(p=this[_];p&&p!==f;p=p.parentNode)if(p.nodeType<11&&(T?T.index(p)>-1:p.nodeType===1&&v.find.matchesSelector(p,u))){E.push(p);break}}return this.pushStack(E.length>1?v.uniqueSort(E):E)},index:function(u){return u?typeof u=="string"?l.call(v(u),this[0]):l.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,f){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(u,f))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function Wt(u,f){for(;(u=u[f])&&u.nodeType!==1;);return u}v.each({parent:function(u){var f=u.parentNode;return f&&f.nodeType!==11?f:null},parents:function(u){return V(u,"parentNode")},parentsUntil:function(u,f,p){return V(u,"parentNode",p)},next:function(u){return Wt(u,"nextSibling")},prev:function(u){return Wt(u,"previousSibling")},nextAll:function(u){return V(u,"nextSibling")},prevAll:function(u){return V(u,"previousSibling")},nextUntil:function(u,f,p){return V(u,"nextSibling",p)},prevUntil:function(u,f,p){return V(u,"previousSibling",p)},siblings:function(u){return rt((u.parentNode||{}).firstChild,u)},children:function(u){return rt(u.firstChild)},contents:function(u){return u.contentDocument!=null&&r(u.contentDocument)?u.contentDocument:(at(u,"template")&&(u=u.content||u),v.merge([],u.childNodes))}},function(u,f){v.fn[u]=function(p,_){var x=v.map(this,f,p);return u.slice(-5)!=="Until"&&(_=p),_&&typeof _=="string"&&(x=v.filter(_,x)),this.length>1&&(Rt[u]||v.uniqueSort(x),_t.test(u)&&x.reverse()),this.pushStack(x)}});var kt=/[^\x20\t\r\n\f]+/g;function Q(u){var f={};return v.each(u.match(kt)||[],function(p,_){f[_]=!0}),f}v.Callbacks=function(u){u=typeof u=="string"?Q(u):v.extend({},u);var f,p,_,x,E=[],T=[],I=-1,P=function(){for(x=x||u.once,_=f=!0;T.length;I=-1)for(p=T.shift();++I<E.length;)E[I].apply(p[0],p[1])===!1&&u.stopOnFalse&&(I=E.length,p=!1);u.memory||(p=!1),f=!1,x&&(p?E=[]:E="")},D={add:function(){return E&&(p&&!f&&(I=E.length-1,T.push(p)),function U(Z){v.each(Z,function(B,z){M(z)?(!u.unique||!D.has(z))&&E.push(z):z&&z.length&&L(z)!=="string"&&U(z)})}(arguments),p&&!f&&P()),this},remove:function(){return v.each(arguments,function(U,Z){for(var B;(B=v.inArray(Z,E,B))>-1;)E.splice(B,1),B<=I&&I--}),this},has:function(U){return U?v.inArray(U,E)>-1:E.length>0},empty:function(){return E&&(E=[]),this},disable:function(){return x=T=[],E=p="",this},disabled:function(){return!E},lock:function(){return x=T=[],!p&&!f&&(E=p=""),this},locked:function(){return!!x},fireWith:function(U,Z){return x||(Z=Z||[],Z=[U,Z.slice?Z.slice():Z],T.push(Z),f||P()),this},fire:function(){return D.fireWith(this,arguments),this},fired:function(){return!!_}};return D};function qt(u){return u}function At(u){throw u}function xe(u,f,p,_){var x;try{u&&M(x=u.promise)?x.call(u).done(f).fail(p):u&&M(x=u.then)?x.call(u,f,p):f.apply(void 0,[u].slice(_))}catch(E){p.apply(void 0,[E])}}v.extend({Deferred:function(u){var f=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],p="pending",_={state:function(){return p},always:function(){return x.done(arguments).fail(arguments),this},catch:function(E){return _.then(null,E)},pipe:function(){var E=arguments;return v.Deferred(function(T){v.each(f,function(I,P){var D=M(E[P[4]])&&E[P[4]];x[P[1]](function(){var U=D&&D.apply(this,arguments);U&&M(U.promise)?U.promise().progress(T.notify).done(T.resolve).fail(T.reject):T[P[0]+"With"](this,D?[U]:arguments)})}),E=null}).promise()},then:function(E,T,I){var P=0;function D(U,Z,B,z){return function(){var xt=this,Ft=arguments,Et=function(){var Le,En;if(!(U<P)){if(Le=B.apply(xt,Ft),Le===Z.promise())throw new TypeError("Thenable self-resolution");En=Le&&(typeof Le=="object"||typeof Le=="function")&&Le.then,M(En)?z?En.call(Le,D(P,Z,qt,z),D(P,Z,At,z)):(P++,En.call(Le,D(P,Z,qt,z),D(P,Z,At,z),D(P,Z,qt,Z.notifyWith))):(B!==qt&&(xt=void 0,Ft=[Le]),(z||Z.resolveWith)(xt,Ft))}},je=z?Et:function(){try{Et()}catch(Le){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(Le,je.stackTrace),U+1>=P&&(B!==At&&(xt=void 0,Ft=[Le]),Z.rejectWith(xt,Ft))}};U?je():(v.Deferred.getStackHook&&(je.stackTrace=v.Deferred.getStackHook()),e.setTimeout(je))}}return v.Deferred(function(U){f[0][3].add(D(0,U,M(I)?I:qt,U.notifyWith)),f[1][3].add(D(0,U,M(E)?E:qt)),f[2][3].add(D(0,U,M(T)?T:At))}).promise()},promise:function(E){return E!=null?v.extend(E,_):_}},x={};return v.each(f,function(E,T){var I=T[2],P=T[5];_[T[1]]=I.add,P&&I.add(function(){p=P},f[3-E][2].disable,f[3-E][3].disable,f[0][2].lock,f[0][3].lock),I.add(T[3].fire),x[T[0]]=function(){return x[T[0]+"With"](this===x?void 0:this,arguments),this},x[T[0]+"With"]=I.fireWith}),_.promise(x),u&&u.call(x,x),x},when:function(u){var f=arguments.length,p=f,_=Array(p),x=a.call(arguments),E=v.Deferred(),T=function(I){return function(P){_[I]=this,x[I]=arguments.length>1?a.call(arguments):P,--f||E.resolveWith(_,x)}};if(f<=1&&(xe(u,E.done(T(p)).resolve,E.reject,!f),E.state()==="pending"||M(x[p]&&x[p].then)))return E.then();for(;p--;)xe(x[p],T(p),E.reject);return E.promise()}});var Xe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(u,f){e.console&&e.console.warn&&u&&Xe.test(u.name)&&e.console.warn("jQuery.Deferred exception: "+u.message,u.stack,f)},v.readyException=function(u){e.setTimeout(function(){throw u})};var ue=v.Deferred();v.fn.ready=function(u){return ue.then(u).catch(function(f){v.readyException(f)}),this},v.extend({isReady:!1,readyWait:1,ready:function(u){(u===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(u!==!0&&--v.readyWait>0)&&ue.resolveWith(S,[v]))}}),v.ready.then=ue.then;function Ee(){S.removeEventListener("DOMContentLoaded",Ee),e.removeEventListener("load",Ee),v.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?e.setTimeout(v.ready):(S.addEventListener("DOMContentLoaded",Ee),e.addEventListener("load",Ee));var de=function(u,f,p,_,x,E,T){var I=0,P=u.length,D=p==null;if(L(p)==="object"){x=!0;for(I in p)de(u,f,I,p[I],!0,E,T)}else if(_!==void 0&&(x=!0,M(_)||(T=!0),D&&(T?(f.call(u,_),f=null):(D=f,f=function(U,Z,B){return D.call(v(U),B)})),f))for(;I<P;I++)f(u[I],p,T?_:_.call(u[I],I,f(u[I],p)));return x?u:D?f.call(u):P?f(u[0],p):E},tn=/^-ms-/,Ye=/-([a-z])/g;function ei(u,f){return f.toUpperCase()}function R(u){return u.replace(tn,"ms-").replace(Ye,ei)}var F=function(u){return u.nodeType===1||u.nodeType===9||!+u.nodeType};function W(){this.expando=v.expando+W.uid++}W.uid=1,W.prototype={cache:function(u){var f=u[this.expando];return f||(f={},F(u)&&(u.nodeType?u[this.expando]=f:Object.defineProperty(u,this.expando,{value:f,configurable:!0}))),f},set:function(u,f,p){var _,x=this.cache(u);if(typeof f=="string")x[R(f)]=p;else for(_ in f)x[R(_)]=f[_];return x},get:function(u,f){return f===void 0?this.cache(u):u[this.expando]&&u[this.expando][R(f)]},access:function(u,f,p){return f===void 0||f&&typeof f=="string"&&p===void 0?this.get(u,f):(this.set(u,f,p),p!==void 0?p:f)},remove:function(u,f){var p,_=u[this.expando];if(_!==void 0){if(f!==void 0)for(Array.isArray(f)?f=f.map(R):(f=R(f),f=f in _?[f]:f.match(kt)||[]),p=f.length;p--;)delete _[f[p]];(f===void 0||v.isEmptyObject(_))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var f=u[this.expando];return f!==void 0&&!v.isEmptyObject(f)}};var k=new W,X=new W,nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,lt=/[A-Z]/g;function et(u){return u==="true"?!0:u==="false"?!1:u==="null"?null:u===+u+""?+u:nt.test(u)?JSON.parse(u):u}function it(u,f,p){var _;if(p===void 0&&u.nodeType===1)if(_="data-"+f.replace(lt,"-$&").toLowerCase(),p=u.getAttribute(_),typeof p=="string"){try{p=et(p)}catch{}X.set(u,f,p)}else p=void 0;return p}v.extend({hasData:function(u){return X.hasData(u)||k.hasData(u)},data:function(u,f,p){return X.access(u,f,p)},removeData:function(u,f){X.remove(u,f)},_data:function(u,f,p){return k.access(u,f,p)},_removeData:function(u,f){k.remove(u,f)}}),v.fn.extend({data:function(u,f){var p,_,x,E=this[0],T=E&&E.attributes;if(u===void 0){if(this.length&&(x=X.get(E),E.nodeType===1&&!k.get(E,"hasDataAttrs"))){for(p=T.length;p--;)T[p]&&(_=T[p].name,_.indexOf("data-")===0&&(_=R(_.slice(5)),it(E,_,x[_])));k.set(E,"hasDataAttrs",!0)}return x}return typeof u=="object"?this.each(function(){X.set(this,u)}):de(this,function(I){var P;if(E&&I===void 0)return P=X.get(E,u),P!==void 0||(P=it(E,u),P!==void 0)?P:void 0;this.each(function(){X.set(this,u,I)})},null,f,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){X.remove(this,u)})}}),v.extend({queue:function(u,f,p){var _;if(u)return f=(f||"fx")+"queue",_=k.get(u,f),p&&(!_||Array.isArray(p)?_=k.access(u,f,v.makeArray(p)):_.push(p)),_||[]},dequeue:function(u,f){f=f||"fx";var p=v.queue(u,f),_=p.length,x=p.shift(),E=v._queueHooks(u,f),T=function(){v.dequeue(u,f)};x==="inprogress"&&(x=p.shift(),_--),x&&(f==="fx"&&p.unshift("inprogress"),delete E.stop,x.call(u,T,E)),!_&&E&&E.empty.fire()},_queueHooks:function(u,f){var p=f+"queueHooks";return k.get(u,p)||k.access(u,p,{empty:v.Callbacks("once memory").add(function(){k.remove(u,[f+"queue",p])})})}}),v.fn.extend({queue:function(u,f){var p=2;return typeof u!="string"&&(f=u,u="fx",p--),arguments.length<p?v.queue(this[0],u):f===void 0?this:this.each(function(){var _=v.queue(this,u,f);v._queueHooks(this,u),u==="fx"&&_[0]!=="inprogress"&&v.dequeue(this,u)})},dequeue:function(u){return this.each(function(){v.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,f){var p,_=1,x=v.Deferred(),E=this,T=this.length,I=function(){--_||x.resolveWith(E,[E])};for(typeof u!="string"&&(f=u,u=void 0),u=u||"fx";T--;)p=k.get(E[T],u+"queueHooks"),p&&p.empty&&(_++,p.empty.add(I));return I(),x.promise(f)}});var K=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=new RegExp("^(?:([+-])=|)("+K+")([a-z%]*)$","i"),ut=["Top","Right","Bottom","Left"],gt=S.documentElement,Mt=function(u){return v.contains(u.ownerDocument,u)},$t={composed:!0};gt.getRootNode&&(Mt=function(u){return v.contains(u.ownerDocument,u)||u.getRootNode($t)===u.ownerDocument});var Bt=function(u,f){return u=f||u,u.style.display==="none"||u.style.display===""&&Mt(u)&&v.css(u,"display")==="none"};function Ut(u,f,p,_){var x,E,T=20,I=_?function(){return _.cur()}:function(){return v.css(u,f,"")},P=I(),D=p&&p[3]||(v.cssNumber[f]?"":"px"),U=u.nodeType&&(v.cssNumber[f]||D!=="px"&&+P)&&dt.exec(v.css(u,f));if(U&&U[3]!==D){for(P=P/2,D=D||U[3],U=+P||1;T--;)v.style(u,f,U+D),(1-E)*(1-(E=I()/P||.5))<=0&&(T=0),U=U/E;U=U*2,v.style(u,f,U+D),p=p||[]}return p&&(U=+U||+P||0,x=p[1]?U+(p[1]+1)*p[2]:+p[2],_&&(_.unit=D,_.start=U,_.end=x)),x}var Yt={};function Ge(u){var f,p=u.ownerDocument,_=u.nodeName,x=Yt[_];return x||(f=p.body.appendChild(p.createElement(_)),x=v.css(f,"display"),f.parentNode.removeChild(f),x==="none"&&(x="block"),Yt[_]=x,x)}function oe(u,f){for(var p,_,x=[],E=0,T=u.length;E<T;E++)_=u[E],_.style&&(p=_.style.display,f?(p==="none"&&(x[E]=k.get(_,"display")||null,x[E]||(_.style.display="")),_.style.display===""&&Bt(_)&&(x[E]=Ge(_))):p!=="none"&&(x[E]="none",k.set(_,"display",p)));for(E=0;E<T;E++)x[E]!=null&&(u[E].style.display=x[E]);return u}v.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){Bt(this)?v(this).show():v(this).hide()})}});var xn=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,On=/^$|^module$|\/(?:java|ecma)script/i;(function(){var u=S.createDocumentFragment(),f=u.appendChild(S.createElement("div")),p=S.createElement("input");p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),f.appendChild(p),m.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,f.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!f.cloneNode(!0).lastChild.defaultValue,f.innerHTML="<option></option>",m.option=!!f.lastChild})();var Kt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,m.option||(Kt.optgroup=Kt.option=[1,"<select multiple='multiple'>","</select>"]);function se(u,f){var p;return typeof u.getElementsByTagName!="undefined"?p=u.getElementsByTagName(f||"*"):typeof u.querySelectorAll!="undefined"?p=u.querySelectorAll(f||"*"):p=[],f===void 0||f&&at(u,f)?v.merge([u],p):p}function gi(u,f){for(var p=0,_=u.length;p<_;p++)k.set(u[p],"globalEval",!f||k.get(f[p],"globalEval"))}var za=/<|&#?\w+;/;function es(u,f,p,_,x){for(var E,T,I,P,D,U,Z=f.createDocumentFragment(),B=[],z=0,xt=u.length;z<xt;z++)if(E=u[z],E||E===0)if(L(E)==="object")v.merge(B,E.nodeType?[E]:E);else if(!za.test(E))B.push(f.createTextNode(E));else{for(T=T||Z.appendChild(f.createElement("div")),I=(pe.exec(E)||["",""])[1].toLowerCase(),P=Kt[I]||Kt._default,T.innerHTML=P[1]+v.htmlPrefilter(E)+P[2],U=P[0];U--;)T=T.lastChild;v.merge(B,T.childNodes),T=Z.firstChild,T.textContent=""}for(Z.textContent="",z=0;E=B[z++];){if(_&&v.inArray(E,_)>-1){x&&x.push(E);continue}if(D=Mt(E),T=se(Z.appendChild(E),"script"),D&&gi(T),p)for(U=0;E=T[U++];)On.test(E.type||"")&&p.push(E)}return Z}var ns=/^([^.]*)(?:\.(.+)|)/;function _i(){return!0}function yi(){return!1}function Xa(u,f){return u===is()==(f==="focus")}function is(){try{return S.activeElement}catch{}}function dr(u,f,p,_,x,E){var T,I;if(typeof f=="object"){typeof p!="string"&&(_=_||p,p=void 0);for(I in f)dr(u,I,p,_,f[I],E);return u}if(_==null&&x==null?(x=p,_=p=void 0):x==null&&(typeof p=="string"?(x=_,_=void 0):(x=_,_=p,p=void 0)),x===!1)x=yi;else if(!x)return u;return E===1&&(T=x,x=function(P){return v().off(P),T.apply(this,arguments)},x.guid=T.guid||(T.guid=v.guid++)),u.each(function(){v.event.add(this,f,x,_,p)})}v.event={global:{},add:function(u,f,p,_,x){var E,T,I,P,D,U,Z,B,z,xt,Ft,Et=k.get(u);if(!!F(u))for(p.handler&&(E=p,p=E.handler,x=E.selector),x&&v.find.matchesSelector(gt,x),p.guid||(p.guid=v.guid++),(P=Et.events)||(P=Et.events=Object.create(null)),(T=Et.handle)||(T=Et.handle=function(je){return typeof v!="undefined"&&v.event.triggered!==je.type?v.event.dispatch.apply(u,arguments):void 0}),f=(f||"").match(kt)||[""],D=f.length;D--;)I=ns.exec(f[D])||[],z=Ft=I[1],xt=(I[2]||"").split(".").sort(),z&&(Z=v.event.special[z]||{},z=(x?Z.delegateType:Z.bindType)||z,Z=v.event.special[z]||{},U=v.extend({type:z,origType:Ft,data:_,handler:p,guid:p.guid,selector:x,needsContext:x&&v.expr.match.needsContext.test(x),namespace:xt.join(".")},E),(B=P[z])||(B=P[z]=[],B.delegateCount=0,(!Z.setup||Z.setup.call(u,_,xt,T)===!1)&&u.addEventListener&&u.addEventListener(z,T)),Z.add&&(Z.add.call(u,U),U.handler.guid||(U.handler.guid=p.guid)),x?B.splice(B.delegateCount++,0,U):B.push(U),v.event.global[z]=!0)},remove:function(u,f,p,_,x){var E,T,I,P,D,U,Z,B,z,xt,Ft,Et=k.hasData(u)&&k.get(u);if(!(!Et||!(P=Et.events))){for(f=(f||"").match(kt)||[""],D=f.length;D--;){if(I=ns.exec(f[D])||[],z=Ft=I[1],xt=(I[2]||"").split(".").sort(),!z){for(z in P)v.event.remove(u,z+f[D],p,_,!0);continue}for(Z=v.event.special[z]||{},z=(_?Z.delegateType:Z.bindType)||z,B=P[z]||[],I=I[2]&&new RegExp("(^|\\.)"+xt.join("\\.(?:.*\\.|)")+"(\\.|$)"),T=E=B.length;E--;)U=B[E],(x||Ft===U.origType)&&(!p||p.guid===U.guid)&&(!I||I.test(U.namespace))&&(!_||_===U.selector||_==="**"&&U.selector)&&(B.splice(E,1),U.selector&&B.delegateCount--,Z.remove&&Z.remove.call(u,U));T&&!B.length&&((!Z.teardown||Z.teardown.call(u,xt,Et.handle)===!1)&&v.removeEvent(u,z,Et.handle),delete P[z])}v.isEmptyObject(P)&&k.remove(u,"handle events")}},dispatch:function(u){var f,p,_,x,E,T,I=new Array(arguments.length),P=v.event.fix(u),D=(k.get(this,"events")||Object.create(null))[P.type]||[],U=v.event.special[P.type]||{};for(I[0]=P,f=1;f<arguments.length;f++)I[f]=arguments[f];if(P.delegateTarget=this,!(U.preDispatch&&U.preDispatch.call(this,P)===!1)){for(T=v.event.handlers.call(this,P,D),f=0;(x=T[f++])&&!P.isPropagationStopped();)for(P.currentTarget=x.elem,p=0;(E=x.handlers[p++])&&!P.isImmediatePropagationStopped();)(!P.rnamespace||E.namespace===!1||P.rnamespace.test(E.namespace))&&(P.handleObj=E,P.data=E.data,_=((v.event.special[E.origType]||{}).handle||E.handler).apply(x.elem,I),_!==void 0&&(P.result=_)===!1&&(P.preventDefault(),P.stopPropagation()));return U.postDispatch&&U.postDispatch.call(this,P),P.result}},handlers:function(u,f){var p,_,x,E,T,I=[],P=f.delegateCount,D=u.target;if(P&&D.nodeType&&!(u.type==="click"&&u.button>=1)){for(;D!==this;D=D.parentNode||this)if(D.nodeType===1&&!(u.type==="click"&&D.disabled===!0)){for(E=[],T={},p=0;p<P;p++)_=f[p],x=_.selector+" ",T[x]===void 0&&(T[x]=_.needsContext?v(x,this).index(D)>-1:v.find(x,this,null,[D]).length),T[x]&&E.push(_);E.length&&I.push({elem:D,handlers:E})}}return D=this,P<f.length&&I.push({elem:D,handlers:f.slice(P)}),I},addProp:function(u,f){Object.defineProperty(v.Event.prototype,u,{enumerable:!0,configurable:!0,get:M(f)?function(){if(this.originalEvent)return f(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(p){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:p})}})},fix:function(u){return u[v.expando]?u:new v.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var f=this||u;return xn.test(f.type)&&f.click&&at(f,"input")&&ni(f,"click",_i),!1},trigger:function(u){var f=this||u;return xn.test(f.type)&&f.click&&at(f,"input")&&ni(f,"click"),!0},_default:function(u){var f=u.target;return xn.test(f.type)&&f.click&&at(f,"input")&&k.get(f,"click")||at(f,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}};function ni(u,f,p){if(!p){k.get(u,f)===void 0&&v.event.add(u,f,_i);return}k.set(u,f,!1),v.event.add(u,f,{namespace:!1,handler:function(_){var x,E,T=k.get(this,f);if(_.isTrigger&1&&this[f]){if(T.length)(v.event.special[f]||{}).delegateType&&_.stopPropagation();else if(T=a.call(arguments),k.set(this,f,T),x=p(this,f),this[f](),E=k.get(this,f),T!==E||x?k.set(this,f,!1):E={},T!==E)return _.stopImmediatePropagation(),_.preventDefault(),E&&E.value}else T.length&&(k.set(this,f,{value:v.event.trigger(v.extend(T[0],v.Event.prototype),T.slice(1),this)}),_.stopImmediatePropagation())}})}v.removeEvent=function(u,f,p){u.removeEventListener&&u.removeEventListener(f,p)},v.Event=function(u,f){if(!(this instanceof v.Event))return new v.Event(u,f);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?_i:yi,this.target=u.target&&u.target.nodeType===3?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,f&&v.extend(this,f),this.timeStamp=u&&u.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:yi,isPropagationStopped:yi,isImmediatePropagationStopped:yi,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=_i,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=_i,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=_i,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(u,f){v.event.special[u]={setup:function(){return ni(this,u,Xa),!1},trigger:function(){return ni(this,u),!0},_default:function(){return!0},delegateType:f}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,f){v.event.special[u]={delegateType:f,bindType:f,handle:function(p){var _,x=this,E=p.relatedTarget,T=p.handleObj;return(!E||E!==x&&!v.contains(x,E))&&(p.type=T.origType,_=T.handler.apply(this,arguments),p.type=f),_}}}),v.fn.extend({on:function(u,f,p,_){return dr(this,u,f,p,_)},one:function(u,f,p,_){return dr(this,u,f,p,_,1)},off:function(u,f,p){var _,x;if(u&&u.preventDefault&&u.handleObj)return _=u.handleObj,v(u.delegateTarget).off(_.namespace?_.origType+"."+_.namespace:_.origType,_.selector,_.handler),this;if(typeof u=="object"){for(x in u)this.off(x,f,u[x]);return this}return(f===!1||typeof f=="function")&&(p=f,f=void 0),p===!1&&(p=yi),this.each(function(){v.event.remove(this,u,p,f)})}});var pr=/<script|<style|<link/i,vr=/checked\s*(?:[^=]|=\s*.checked.)/i,rs=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qa(u,f){return at(u,"table")&&at(f.nodeType!==11?f:f.firstChild,"tr")&&v(u).children("tbody")[0]||u}function zl(u){return u.type=(u.getAttribute("type")!==null)+"/"+u.type,u}function Xl(u){return(u.type||"").slice(0,5)==="true/"?u.type=u.type.slice(5):u.removeAttribute("type"),u}function Gi(u,f){var p,_,x,E,T,I,P;if(f.nodeType===1){if(k.hasData(u)&&(E=k.get(u),P=E.events,P)){k.remove(f,"handle events");for(x in P)for(p=0,_=P[x].length;p<_;p++)v.event.add(f,x,P[x][p])}X.hasData(u)&&(T=X.access(u),I=v.extend({},T),X.set(f,I))}}function gr(u,f){var p=f.nodeName.toLowerCase();p==="input"&&xn.test(u.type)?f.checked=u.checked:(p==="input"||p==="textarea")&&(f.defaultValue=u.defaultValue)}function en(u,f,p,_){f=o(f);var x,E,T,I,P,D,U=0,Z=u.length,B=Z-1,z=f[0],xt=M(z);if(xt||Z>1&&typeof z=="string"&&!m.checkClone&&vr.test(z))return u.each(function(Ft){var Et=u.eq(Ft);xt&&(f[0]=z.call(this,Ft,Et.html())),en(Et,f,p,_)});if(Z&&(x=es(f,u[0].ownerDocument,!1,u,_),E=x.firstChild,x.childNodes.length===1&&(x=E),E||_)){for(T=v.map(se(x,"script"),zl),I=T.length;U<Z;U++)P=x,U!==B&&(P=v.clone(P,!0,!0),I&&v.merge(T,se(P,"script"))),p.call(u[U],P,U);if(I)for(D=T[T.length-1].ownerDocument,v.map(T,Xl),U=0;U<I;U++)P=T[U],On.test(P.type||"")&&!k.access(P,"globalEval")&&v.contains(D,P)&&(P.src&&(P.type||"").toLowerCase()!=="module"?v._evalUrl&&!P.noModule&&v._evalUrl(P.src,{nonce:P.nonce||P.getAttribute("nonce")},D):b(P.textContent.replace(rs,""),P,D))}return u}function _r(u,f,p){for(var _,x=f?v.filter(f,u):u,E=0;(_=x[E])!=null;E++)!p&&_.nodeType===1&&v.cleanData(se(_)),_.parentNode&&(p&&Mt(_)&&gi(se(_,"script")),_.parentNode.removeChild(_));return u}v.extend({htmlPrefilter:function(u){return u},clone:function(u,f,p){var _,x,E,T,I=u.cloneNode(!0),P=Mt(u);if(!m.noCloneChecked&&(u.nodeType===1||u.nodeType===11)&&!v.isXMLDoc(u))for(T=se(I),E=se(u),_=0,x=E.length;_<x;_++)gr(E[_],T[_]);if(f)if(p)for(E=E||se(u),T=T||se(I),_=0,x=E.length;_<x;_++)Gi(E[_],T[_]);else Gi(u,I);return T=se(I,"script"),T.length>0&&gi(T,!P&&se(u,"script")),I},cleanData:function(u){for(var f,p,_,x=v.event.special,E=0;(p=u[E])!==void 0;E++)if(F(p)){if(f=p[k.expando]){if(f.events)for(_ in f.events)x[_]?v.event.remove(p,_):v.removeEvent(p,_,f.handle);p[k.expando]=void 0}p[X.expando]&&(p[X.expando]=void 0)}}}),v.fn.extend({detach:function(u){return _r(this,u,!0)},remove:function(u){return _r(this,u)},text:function(u){return de(this,function(f){return f===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=f)})},null,u,arguments.length)},append:function(){return en(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=qa(this,u);f.appendChild(u)}})},prepend:function(){return en(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=qa(this,u);f.insertBefore(u,f.firstChild)}})},before:function(){return en(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return en(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,f=0;(u=this[f])!=null;f++)u.nodeType===1&&(v.cleanData(se(u,!1)),u.textContent="");return this},clone:function(u,f){return u=u==null?!1:u,f=f==null?u:f,this.map(function(){return v.clone(this,u,f)})},html:function(u){return de(this,function(f){var p=this[0]||{},_=0,x=this.length;if(f===void 0&&p.nodeType===1)return p.innerHTML;if(typeof f=="string"&&!pr.test(f)&&!Kt[(pe.exec(f)||["",""])[1].toLowerCase()]){f=v.htmlPrefilter(f);try{for(;_<x;_++)p=this[_]||{},p.nodeType===1&&(v.cleanData(se(p,!1)),p.innerHTML=f);p=0}catch{}}p&&this.empty().append(f)},null,u,arguments.length)},replaceWith:function(){var u=[];return en(this,arguments,function(f){var p=this.parentNode;v.inArray(this,u)<0&&(v.cleanData(se(this)),p&&p.replaceChild(f,this))},u)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,f){v.fn[u]=function(p){for(var _,x=[],E=v(p),T=E.length-1,I=0;I<=T;I++)_=I===T?this:this.clone(!0),v(E[I])[f](_),s.apply(x,_.get());return this.pushStack(x)}});var ki=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),ke=function(u){var f=u.ownerDocument.defaultView;return(!f||!f.opener)&&(f=e),f.getComputedStyle(u)},nn=function(u,f,p){var _,x,E={};for(x in f)E[x]=u.style[x],u.style[x]=f[x];_=p.call(u);for(x in f)u.style[x]=E[x];return _},Ya=new RegExp(ut.join("|"),"i");(function(){function u(){if(!!D){P.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",D.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",gt.appendChild(P).appendChild(D);var U=e.getComputedStyle(D);p=U.top!=="1%",I=f(U.marginLeft)===12,D.style.right="60%",E=f(U.right)===36,_=f(U.width)===36,D.style.position="absolute",x=f(D.offsetWidth/3)===12,gt.removeChild(P),D=null}}function f(U){return Math.round(parseFloat(U))}var p,_,x,E,T,I,P=S.createElement("div"),D=S.createElement("div");!D.style||(D.style.backgroundClip="content-box",D.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=D.style.backgroundClip==="content-box",v.extend(m,{boxSizingReliable:function(){return u(),_},pixelBoxStyles:function(){return u(),E},pixelPosition:function(){return u(),p},reliableMarginLeft:function(){return u(),I},scrollboxSize:function(){return u(),x},reliableTrDimensions:function(){var U,Z,B,z;return T==null&&(U=S.createElement("table"),Z=S.createElement("tr"),B=S.createElement("div"),U.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Z.style.cssText="border:1px solid",Z.style.height="1px",B.style.height="9px",B.style.display="block",gt.appendChild(U).appendChild(Z).appendChild(B),z=e.getComputedStyle(Z),T=parseInt(z.height,10)+parseInt(z.borderTopWidth,10)+parseInt(z.borderBottomWidth,10)===Z.offsetHeight,gt.removeChild(U)),T}}))})();function yr(u,f,p){var _,x,E,T,I=u.style;return p=p||ke(u),p&&(T=p.getPropertyValue(f)||p[f],T===""&&!Mt(u)&&(T=v.style(u,f)),!m.pixelBoxStyles()&&ki.test(T)&&Ya.test(f)&&(_=I.width,x=I.minWidth,E=I.maxWidth,I.minWidth=I.maxWidth=I.width=T,T=p.width,I.width=_,I.minWidth=x,I.maxWidth=E)),T!==void 0?T+"":T}function Ha(u,f){return{get:function(){if(u()){delete this.get;return}return(this.get=f).apply(this,arguments)}}}var Tf=["Webkit","Moz","ms"],Cf=S.createElement("div").style,wf={};function jg(u){for(var f=u[0].toUpperCase()+u.slice(1),p=Tf.length;p--;)if(u=Tf[p]+f,u in Cf)return u}function ql(u){var f=v.cssProps[u]||wf[u];return f||(u in Cf?u:wf[u]=jg(u)||u)}var Bg=/^(none|table(?!-c[ea]).+)/,Sf=/^--/,$g={position:"absolute",visibility:"hidden",display:"block"},Rf={letterSpacing:"0",fontWeight:"400"};function Of(u,f,p){var _=dt.exec(f);return _?Math.max(0,_[2]-(p||0))+(_[3]||"px"):f}function Yl(u,f,p,_,x,E){var T=f==="width"?1:0,I=0,P=0;if(p===(_?"border":"content"))return 0;for(;T<4;T+=2)p==="margin"&&(P+=v.css(u,p+ut[T],!0,x)),_?(p==="content"&&(P-=v.css(u,"padding"+ut[T],!0,x)),p!=="margin"&&(P-=v.css(u,"border"+ut[T]+"Width",!0,x))):(P+=v.css(u,"padding"+ut[T],!0,x),p!=="padding"?P+=v.css(u,"border"+ut[T]+"Width",!0,x):I+=v.css(u,"border"+ut[T]+"Width",!0,x));return!_&&E>=0&&(P+=Math.max(0,Math.ceil(u["offset"+f[0].toUpperCase()+f.slice(1)]-E-P-I-.5))||0),P}function If(u,f,p){var _=ke(u),x=!m.boxSizingReliable()||p,E=x&&v.css(u,"boxSizing",!1,_)==="border-box",T=E,I=yr(u,f,_),P="offset"+f[0].toUpperCase()+f.slice(1);if(ki.test(I)){if(!p)return I;I="auto"}return(!m.boxSizingReliable()&&E||!m.reliableTrDimensions()&&at(u,"tr")||I==="auto"||!parseFloat(I)&&v.css(u,"display",!1,_)==="inline")&&u.getClientRects().length&&(E=v.css(u,"boxSizing",!1,_)==="border-box",T=P in u,T&&(I=u[P])),I=parseFloat(I)||0,I+Yl(u,f,p||(E?"border":"content"),T,_,I)+"px"}v.extend({cssHooks:{opacity:{get:function(u,f){if(f){var p=yr(u,"opacity");return p===""?"1":p}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(u,f,p,_){if(!(!u||u.nodeType===3||u.nodeType===8||!u.style)){var x,E,T,I=R(f),P=Sf.test(f),D=u.style;if(P||(f=ql(I)),T=v.cssHooks[f]||v.cssHooks[I],p!==void 0){if(E=typeof p,E==="string"&&(x=dt.exec(p))&&x[1]&&(p=Ut(u,f,x),E="number"),p==null||p!==p)return;E==="number"&&!P&&(p+=x&&x[3]||(v.cssNumber[I]?"":"px")),!m.clearCloneStyle&&p===""&&f.indexOf("background")===0&&(D[f]="inherit"),(!T||!("set"in T)||(p=T.set(u,p,_))!==void 0)&&(P?D.setProperty(f,p):D[f]=p)}else return T&&"get"in T&&(x=T.get(u,!1,_))!==void 0?x:D[f]}},css:function(u,f,p,_){var x,E,T,I=R(f),P=Sf.test(f);return P||(f=ql(I)),T=v.cssHooks[f]||v.cssHooks[I],T&&"get"in T&&(x=T.get(u,!0,p)),x===void 0&&(x=yr(u,f,_)),x==="normal"&&f in Rf&&(x=Rf[f]),p===""||p?(E=parseFloat(x),p===!0||isFinite(E)?E||0:x):x}}),v.each(["height","width"],function(u,f){v.cssHooks[f]={get:function(p,_,x){if(_)return Bg.test(v.css(p,"display"))&&(!p.getClientRects().length||!p.getBoundingClientRect().width)?nn(p,$g,function(){return If(p,f,x)}):If(p,f,x)},set:function(p,_,x){var E,T=ke(p),I=!m.scrollboxSize()&&T.position==="absolute",P=I||x,D=P&&v.css(p,"boxSizing",!1,T)==="border-box",U=x?Yl(p,f,x,D,T):0;return D&&I&&(U-=Math.ceil(p["offset"+f[0].toUpperCase()+f.slice(1)]-parseFloat(T[f])-Yl(p,f,"border",!1,T)-.5)),U&&(E=dt.exec(_))&&(E[3]||"px")!=="px"&&(p.style[f]=_,_=v.css(p,f)),Of(p,_,U)}}}),v.cssHooks.marginLeft=Ha(m.reliableMarginLeft,function(u,f){if(f)return(parseFloat(yr(u,"marginLeft"))||u.getBoundingClientRect().left-nn(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(u,f){v.cssHooks[u+f]={expand:function(p){for(var _=0,x={},E=typeof p=="string"?p.split(" "):[p];_<4;_++)x[u+ut[_]+f]=E[_]||E[_-2]||E[0];return x}},u!=="margin"&&(v.cssHooks[u+f].set=Of)}),v.fn.extend({css:function(u,f){return de(this,function(p,_,x){var E,T,I={},P=0;if(Array.isArray(_)){for(E=ke(p),T=_.length;P<T;P++)I[_[P]]=v.css(p,_[P],!1,E);return I}return x!==void 0?v.style(p,_,x):v.css(p,_)},u,f,arguments.length>1)}});function ln(u,f,p,_,x){return new ln.prototype.init(u,f,p,_,x)}v.Tween=ln,ln.prototype={constructor:ln,init:function(u,f,p,_,x,E){this.elem=u,this.prop=p,this.easing=x||v.easing._default,this.options=f,this.start=this.now=this.cur(),this.end=_,this.unit=E||(v.cssNumber[p]?"":"px")},cur:function(){var u=ln.propHooks[this.prop];return u&&u.get?u.get(this):ln.propHooks._default.get(this)},run:function(u){var f,p=ln.propHooks[this.prop];return this.options.duration?this.pos=f=v.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):this.pos=f=u,this.now=(this.end-this.start)*f+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),p&&p.set?p.set(this):ln.propHooks._default.set(this),this}},ln.prototype.init.prototype=ln.prototype,ln.propHooks={_default:{get:function(u){var f;return u.elem.nodeType!==1||u.elem[u.prop]!=null&&u.elem.style[u.prop]==null?u.elem[u.prop]:(f=v.css(u.elem,u.prop,""),!f||f==="auto"?0:f)},set:function(u){v.fx.step[u.prop]?v.fx.step[u.prop](u):u.elem.nodeType===1&&(v.cssHooks[u.prop]||u.elem.style[ql(u.prop)]!=null)?v.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},ln.propHooks.scrollTop=ln.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},v.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2},_default:"swing"},v.fx=ln.prototype.init,v.fx.step={};var Qr,as,Ug=/^(?:toggle|show|hide)$/,Wg=/queueHooks$/;function Hl(){as&&(S.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Hl):e.setTimeout(Hl,v.fx.interval),v.fx.tick())}function Pf(){return e.setTimeout(function(){Qr=void 0}),Qr=Date.now()}function os(u,f){var p,_=0,x={height:u};for(f=f?1:0;_<4;_+=2-f)p=ut[_],x["margin"+p]=x["padding"+p]=u;return f&&(x.opacity=x.width=u),x}function Af(u,f,p){for(var _,x=(Bn.tweeners[f]||[]).concat(Bn.tweeners["*"]),E=0,T=x.length;E<T;E++)if(_=x[E].call(p,f,u))return _}function zg(u,f,p){var _,x,E,T,I,P,D,U,Z="width"in f||"height"in f,B=this,z={},xt=u.style,Ft=u.nodeType&&Bt(u),Et=k.get(u,"fxshow");p.queue||(T=v._queueHooks(u,"fx"),T.unqueued==null&&(T.unqueued=0,I=T.empty.fire,T.empty.fire=function(){T.unqueued||I()}),T.unqueued++,B.always(function(){B.always(function(){T.unqueued--,v.queue(u,"fx").length||T.empty.fire()})}));for(_ in f)if(x=f[_],Ug.test(x)){if(delete f[_],E=E||x==="toggle",x===(Ft?"hide":"show"))if(x==="show"&&Et&&Et[_]!==void 0)Ft=!0;else continue;z[_]=Et&&Et[_]||v.style(u,_)}if(P=!v.isEmptyObject(f),!(!P&&v.isEmptyObject(z))){Z&&u.nodeType===1&&(p.overflow=[xt.overflow,xt.overflowX,xt.overflowY],D=Et&&Et.display,D==null&&(D=k.get(u,"display")),U=v.css(u,"display"),U==="none"&&(D?U=D:(oe([u],!0),D=u.style.display||D,U=v.css(u,"display"),oe([u]))),(U==="inline"||U==="inline-block"&&D!=null)&&v.css(u,"float")==="none"&&(P||(B.done(function(){xt.display=D}),D==null&&(U=xt.display,D=U==="none"?"":U)),xt.display="inline-block")),p.overflow&&(xt.overflow="hidden",B.always(function(){xt.overflow=p.overflow[0],xt.overflowX=p.overflow[1],xt.overflowY=p.overflow[2]})),P=!1;for(_ in z)P||(Et?"hidden"in Et&&(Ft=Et.hidden):Et=k.access(u,"fxshow",{display:D}),E&&(Et.hidden=!Ft),Ft&&oe([u],!0),B.done(function(){Ft||oe([u]),k.remove(u,"fxshow");for(_ in z)v.style(u,_,z[_])})),P=Af(Ft?Et[_]:0,_,B),_ in Et||(Et[_]=P.start,Ft&&(P.end=P.start,P.start=0))}}function Xg(u,f){var p,_,x,E,T;for(p in u)if(_=R(p),x=f[_],E=u[p],Array.isArray(E)&&(x=E[1],E=u[p]=E[0]),p!==_&&(u[_]=E,delete u[p]),T=v.cssHooks[_],T&&"expand"in T){E=T.expand(E),delete u[_];for(p in E)p in u||(u[p]=E[p],f[p]=x)}else f[_]=x}function Bn(u,f,p){var _,x,E=0,T=Bn.prefilters.length,I=v.Deferred().always(function(){delete P.elem}),P=function(){if(x)return!1;for(var Z=Qr||Pf(),B=Math.max(0,D.startTime+D.duration-Z),z=B/D.duration||0,xt=1-z,Ft=0,Et=D.tweens.length;Ft<Et;Ft++)D.tweens[Ft].run(xt);return I.notifyWith(u,[D,xt,B]),xt<1&&Et?B:(Et||I.notifyWith(u,[D,1,0]),I.resolveWith(u,[D]),!1)},D=I.promise({elem:u,props:v.extend({},f),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},p),originalProperties:f,originalOptions:p,startTime:Qr||Pf(),duration:p.duration,tweens:[],createTween:function(Z,B){var z=v.Tween(u,D.opts,Z,B,D.opts.specialEasing[Z]||D.opts.easing);return D.tweens.push(z),z},stop:function(Z){var B=0,z=Z?D.tweens.length:0;if(x)return this;for(x=!0;B<z;B++)D.tweens[B].run(1);return Z?(I.notifyWith(u,[D,1,0]),I.resolveWith(u,[D,Z])):I.rejectWith(u,[D,Z]),this}}),U=D.props;for(Xg(U,D.opts.specialEasing);E<T;E++)if(_=Bn.prefilters[E].call(D,u,U,D.opts),_)return M(_.stop)&&(v._queueHooks(D.elem,D.opts.queue).stop=_.stop.bind(_)),_;return v.map(U,Af,D),M(D.opts.start)&&D.opts.start.call(u,D),D.progress(D.opts.progress).done(D.opts.done,D.opts.complete).fail(D.opts.fail).always(D.opts.always),v.fx.timer(v.extend(P,{elem:u,anim:D,queue:D.opts.queue})),D}v.Animation=v.extend(Bn,{tweeners:{"*":[function(u,f){var p=this.createTween(u,f);return Ut(p.elem,u,dt.exec(f),p),p}]},tweener:function(u,f){M(u)?(f=u,u=["*"]):u=u.match(kt);for(var p,_=0,x=u.length;_<x;_++)p=u[_],Bn.tweeners[p]=Bn.tweeners[p]||[],Bn.tweeners[p].unshift(f)},prefilters:[zg],prefilter:function(u,f){f?Bn.prefilters.unshift(u):Bn.prefilters.push(u)}}),v.speed=function(u,f,p){var _=u&&typeof u=="object"?v.extend({},u):{complete:p||!p&&f||M(u)&&u,duration:u,easing:p&&f||f&&!M(f)&&f};return v.fx.off?_.duration=0:typeof _.duration!="number"&&(_.duration in v.fx.speeds?_.duration=v.fx.speeds[_.duration]:_.duration=v.fx.speeds._default),(_.queue==null||_.queue===!0)&&(_.queue="fx"),_.old=_.complete,_.complete=function(){M(_.old)&&_.old.call(this),_.queue&&v.dequeue(this,_.queue)},_},v.fn.extend({fadeTo:function(u,f,p,_){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:f},u,p,_)},animate:function(u,f,p,_){var x=v.isEmptyObject(u),E=v.speed(f,p,_),T=function(){var I=Bn(this,v.extend({},u),E);(x||k.get(this,"finish"))&&I.stop(!0)};return T.finish=T,x||E.queue===!1?this.each(T):this.queue(E.queue,T)},stop:function(u,f,p){var _=function(x){var E=x.stop;delete x.stop,E(p)};return typeof u!="string"&&(p=f,f=u,u=void 0),f&&this.queue(u||"fx",[]),this.each(function(){var x=!0,E=u!=null&&u+"queueHooks",T=v.timers,I=k.get(this);if(E)I[E]&&I[E].stop&&_(I[E]);else for(E in I)I[E]&&I[E].stop&&Wg.test(E)&&_(I[E]);for(E=T.length;E--;)T[E].elem===this&&(u==null||T[E].queue===u)&&(T[E].anim.stop(p),x=!1,T.splice(E,1));(x||!p)&&v.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var f,p=k.get(this),_=p[u+"queue"],x=p[u+"queueHooks"],E=v.timers,T=_?_.length:0;for(p.finish=!0,v.queue(this,u,[]),x&&x.stop&&x.stop.call(this,!0),f=E.length;f--;)E[f].elem===this&&E[f].queue===u&&(E[f].anim.stop(!0),E.splice(f,1));for(f=0;f<T;f++)_[f]&&_[f].finish&&_[f].finish.call(this);delete p.finish})}}),v.each(["toggle","show","hide"],function(u,f){var p=v.fn[f];v.fn[f]=function(_,x,E){return _==null||typeof _=="boolean"?p.apply(this,arguments):this.animate(os(f,!0),_,x,E)}}),v.each({slideDown:os("show"),slideUp:os("hide"),slideToggle:os("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,f){v.fn[u]=function(p,_,x){return this.animate(f,p,_,x)}}),v.timers=[],v.fx.tick=function(){var u,f=0,p=v.timers;for(Qr=Date.now();f<p.length;f++)u=p[f],!u()&&p[f]===u&&p.splice(f--,1);p.length||v.fx.stop(),Qr=void 0},v.fx.timer=function(u){v.timers.push(u),v.fx.start()},v.fx.interval=13,v.fx.start=function(){as||(as=!0,Hl())},v.fx.stop=function(){as=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(u,f){return u=v.fx&&v.fx.speeds[u]||u,f=f||"fx",this.queue(f,function(p,_){var x=e.setTimeout(p,u);_.stop=function(){e.clearTimeout(x)}})},function(){var u=S.createElement("input"),f=S.createElement("select"),p=f.appendChild(S.createElement("option"));u.type="checkbox",m.checkOn=u.value!=="",m.optSelected=p.selected,u=S.createElement("input"),u.value="t",u.type="radio",m.radioValue=u.value==="t"}();var bf,Va=v.expr.attrHandle;v.fn.extend({attr:function(u,f){return de(this,v.attr,u,f,arguments.length>1)},removeAttr:function(u){return this.each(function(){v.removeAttr(this,u)})}}),v.extend({attr:function(u,f,p){var _,x,E=u.nodeType;if(!(E===3||E===8||E===2)){if(typeof u.getAttribute=="undefined")return v.prop(u,f,p);if((E!==1||!v.isXMLDoc(u))&&(x=v.attrHooks[f.toLowerCase()]||(v.expr.match.bool.test(f)?bf:void 0)),p!==void 0){if(p===null){v.removeAttr(u,f);return}return x&&"set"in x&&(_=x.set(u,p,f))!==void 0?_:(u.setAttribute(f,p+""),p)}return x&&"get"in x&&(_=x.get(u,f))!==null?_:(_=v.find.attr(u,f),_==null?void 0:_)}},attrHooks:{type:{set:function(u,f){if(!m.radioValue&&f==="radio"&&at(u,"input")){var p=u.value;return u.setAttribute("type",f),p&&(u.value=p),f}}}},removeAttr:function(u,f){var p,_=0,x=f&&f.match(kt);if(x&&u.nodeType===1)for(;p=x[_++];)u.removeAttribute(p)}}),bf={set:function(u,f,p){return f===!1?v.removeAttr(u,p):u.setAttribute(p,p),p}},v.each(v.expr.match.bool.source.match(/\w+/g),function(u,f){var p=Va[f]||v.find.attr;Va[f]=function(_,x,E){var T,I,P=x.toLowerCase();return E||(I=Va[P],Va[P]=T,T=p(_,x,E)!=null?P:null,Va[P]=I),T}});var qg=/^(?:input|select|textarea|button)$/i,Yg=/^(?:a|area)$/i;v.fn.extend({prop:function(u,f){return de(this,v.prop,u,f,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[v.propFix[u]||u]})}}),v.extend({prop:function(u,f,p){var _,x,E=u.nodeType;if(!(E===3||E===8||E===2))return(E!==1||!v.isXMLDoc(u))&&(f=v.propFix[f]||f,x=v.propHooks[f]),p!==void 0?x&&"set"in x&&(_=x.set(u,p,f))!==void 0?_:u[f]=p:x&&"get"in x&&(_=x.get(u,f))!==null?_:u[f]},propHooks:{tabIndex:{get:function(u){var f=v.find.attr(u,"tabindex");return f?parseInt(f,10):qg.test(u.nodeName)||Yg.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(v.propHooks.selected={get:function(u){var f=u.parentNode;return f&&f.parentNode&&f.parentNode.selectedIndex,null},set:function(u){var f=u.parentNode;f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function mr(u){var f=u.match(kt)||[];return f.join(" ")}function xr(u){return u.getAttribute&&u.getAttribute("class")||""}function Vl(u){return Array.isArray(u)?u:typeof u=="string"?u.match(kt)||[]:[]}v.fn.extend({addClass:function(u){var f,p,_,x,E,T,I,P=0;if(M(u))return this.each(function(D){v(this).addClass(u.call(this,D,xr(this)))});if(f=Vl(u),f.length){for(;p=this[P++];)if(x=xr(p),_=p.nodeType===1&&" "+mr(x)+" ",_){for(T=0;E=f[T++];)_.indexOf(" "+E+" ")<0&&(_+=E+" ");I=mr(_),x!==I&&p.setAttribute("class",I)}}return this},removeClass:function(u){var f,p,_,x,E,T,I,P=0;if(M(u))return this.each(function(D){v(this).removeClass(u.call(this,D,xr(this)))});if(!arguments.length)return this.attr("class","");if(f=Vl(u),f.length){for(;p=this[P++];)if(x=xr(p),_=p.nodeType===1&&" "+mr(x)+" ",_){for(T=0;E=f[T++];)for(;_.indexOf(" "+E+" ")>-1;)_=_.replace(" "+E+" "," ");I=mr(_),x!==I&&p.setAttribute("class",I)}}return this},toggleClass:function(u,f){var p=typeof u,_=p==="string"||Array.isArray(u);return typeof f=="boolean"&&_?f?this.addClass(u):this.removeClass(u):M(u)?this.each(function(x){v(this).toggleClass(u.call(this,x,xr(this),f),f)}):this.each(function(){var x,E,T,I;if(_)for(E=0,T=v(this),I=Vl(u);x=I[E++];)T.hasClass(x)?T.removeClass(x):T.addClass(x);else(u===void 0||p==="boolean")&&(x=xr(this),x&&k.set(this,"__className__",x),this.setAttribute&&this.setAttribute("class",x||u===!1?"":k.get(this,"__className__")||""))})},hasClass:function(u){var f,p,_=0;for(f=" "+u+" ";p=this[_++];)if(p.nodeType===1&&(" "+mr(xr(p))+" ").indexOf(f)>-1)return!0;return!1}});var Hg=/\r/g;v.fn.extend({val:function(u){var f,p,_,x=this[0];return arguments.length?(_=M(u),this.each(function(E){var T;this.nodeType===1&&(_?T=u.call(this,E,v(this).val()):T=u,T==null?T="":typeof T=="number"?T+="":Array.isArray(T)&&(T=v.map(T,function(I){return I==null?"":I+""})),f=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!f||!("set"in f)||f.set(this,T,"value")===void 0)&&(this.value=T))})):x?(f=v.valHooks[x.type]||v.valHooks[x.nodeName.toLowerCase()],f&&"get"in f&&(p=f.get(x,"value"))!==void 0?p:(p=x.value,typeof p=="string"?p.replace(Hg,""):p==null?"":p)):void 0}}),v.extend({valHooks:{option:{get:function(u){var f=v.find.attr(u,"value");return f!=null?f:mr(v.text(u))}},select:{get:function(u){var f,p,_,x=u.options,E=u.selectedIndex,T=u.type==="select-one",I=T?null:[],P=T?E+1:x.length;for(E<0?_=P:_=T?E:0;_<P;_++)if(p=x[_],(p.selected||_===E)&&!p.disabled&&(!p.parentNode.disabled||!at(p.parentNode,"optgroup"))){if(f=v(p).val(),T)return f;I.push(f)}return I},set:function(u,f){for(var p,_,x=u.options,E=v.makeArray(f),T=x.length;T--;)_=x[T],(_.selected=v.inArray(v.valHooks.option.get(_),E)>-1)&&(p=!0);return p||(u.selectedIndex=-1),E}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(u,f){if(Array.isArray(f))return u.checked=v.inArray(v(u).val(),f)>-1}},m.checkOn||(v.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})}),m.focusin="onfocusin"in e;var Lf=/^(?:focusinfocus|focusoutblur)$/,Nf=function(u){u.stopPropagation()};v.extend(v.event,{trigger:function(u,f,p,_){var x,E,T,I,P,D,U,Z,B=[p||S],z=d.call(u,"type")?u.type:u,xt=d.call(u,"namespace")?u.namespace.split("."):[];if(E=Z=T=p=p||S,!(p.nodeType===3||p.nodeType===8)&&!Lf.test(z+v.event.triggered)&&(z.indexOf(".")>-1&&(xt=z.split("."),z=xt.shift(),xt.sort()),P=z.indexOf(":")<0&&"on"+z,u=u[v.expando]?u:new v.Event(z,typeof u=="object"&&u),u.isTrigger=_?2:3,u.namespace=xt.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+xt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=p),f=f==null?[u]:v.makeArray(f,[u]),U=v.event.special[z]||{},!(!_&&U.trigger&&U.trigger.apply(p,f)===!1))){if(!_&&!U.noBubble&&!w(p)){for(I=U.delegateType||z,Lf.test(I+z)||(E=E.parentNode);E;E=E.parentNode)B.push(E),T=E;T===(p.ownerDocument||S)&&B.push(T.defaultView||T.parentWindow||e)}for(x=0;(E=B[x++])&&!u.isPropagationStopped();)Z=E,u.type=x>1?I:U.bindType||z,D=(k.get(E,"events")||Object.create(null))[u.type]&&k.get(E,"handle"),D&&D.apply(E,f),D=P&&E[P],D&&D.apply&&F(E)&&(u.result=D.apply(E,f),u.result===!1&&u.preventDefault());return u.type=z,!_&&!u.isDefaultPrevented()&&(!U._default||U._default.apply(B.pop(),f)===!1)&&F(p)&&P&&M(p[z])&&!w(p)&&(T=p[P],T&&(p[P]=null),v.event.triggered=z,u.isPropagationStopped()&&Z.addEventListener(z,Nf),p[z](),u.isPropagationStopped()&&Z.removeEventListener(z,Nf),v.event.triggered=void 0,T&&(p[P]=T)),u.result}},simulate:function(u,f,p){var _=v.extend(new v.Event,p,{type:u,isSimulated:!0});v.event.trigger(_,null,f)}}),v.fn.extend({trigger:function(u,f){return this.each(function(){v.event.trigger(u,f,this)})},triggerHandler:function(u,f){var p=this[0];if(p)return v.event.trigger(u,f,p,!0)}}),m.focusin||v.each({focus:"focusin",blur:"focusout"},function(u,f){var p=function(_){v.event.simulate(f,_.target,v.event.fix(_))};v.event.special[f]={setup:function(){var _=this.ownerDocument||this.document||this,x=k.access(_,f);x||_.addEventListener(u,p,!0),k.access(_,f,(x||0)+1)},teardown:function(){var _=this.ownerDocument||this.document||this,x=k.access(_,f)-1;x?k.access(_,f,x):(_.removeEventListener(u,p,!0),k.remove(_,f))}}});var Ka=e.location,Ff={guid:Date.now()},Kl=/\?/;v.parseXML=function(u){var f,p;if(!u||typeof u!="string")return null;try{f=new e.DOMParser().parseFromString(u,"text/xml")}catch{}return p=f&&f.getElementsByTagName("parsererror")[0],(!f||p)&&v.error("Invalid XML: "+(p?v.map(p.childNodes,function(_){return _.textContent}).join(`
`):u)),f};var Vg=/\[\]$/,Df=/\r?\n/g,Kg=/^(?:submit|button|image|reset|file)$/i,Zg=/^(?:input|select|textarea|keygen)/i;function Zl(u,f,p,_){var x;if(Array.isArray(f))v.each(f,function(E,T){p||Vg.test(u)?_(u,T):Zl(u+"["+(typeof T=="object"&&T!=null?E:"")+"]",T,p,_)});else if(!p&&L(f)==="object")for(x in f)Zl(u+"["+x+"]",f[x],p,_);else _(u,f)}v.param=function(u,f){var p,_=[],x=function(E,T){var I=M(T)?T():T;_[_.length]=encodeURIComponent(E)+"="+encodeURIComponent(I==null?"":I)};if(u==null)return"";if(Array.isArray(u)||u.jquery&&!v.isPlainObject(u))v.each(u,function(){x(this.name,this.value)});else for(p in u)Zl(p,u[p],f,x);return _.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=v.prop(this,"elements");return u?v.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!v(this).is(":disabled")&&Zg.test(this.nodeName)&&!Kg.test(u)&&(this.checked||!xn.test(u))}).map(function(u,f){var p=v(this).val();return p==null?null:Array.isArray(p)?v.map(p,function(_){return{name:f.name,value:_.replace(Df,`\r
`)}}):{name:f.name,value:p.replace(Df,`\r
`)}}).get()}});var Jg=/%20/g,Qg=/#.*$/,t_=/([?&])_=[^&]*/,e_=/^(.*?):[ \t]*([^\r\n]*)$/mg,n_=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,i_=/^(?:GET|HEAD)$/,r_=/^\/\//,Gf={},Jl={},kf="*/".concat("*"),Ql=S.createElement("a");Ql.href=Ka.href;function jf(u){return function(f,p){typeof f!="string"&&(p=f,f="*");var _,x=0,E=f.toLowerCase().match(kt)||[];if(M(p))for(;_=E[x++];)_[0]==="+"?(_=_.slice(1)||"*",(u[_]=u[_]||[]).unshift(p)):(u[_]=u[_]||[]).push(p)}}function Bf(u,f,p,_){var x={},E=u===Jl;function T(I){var P;return x[I]=!0,v.each(u[I]||[],function(D,U){var Z=U(f,p,_);if(typeof Z=="string"&&!E&&!x[Z])return f.dataTypes.unshift(Z),T(Z),!1;if(E)return!(P=Z)}),P}return T(f.dataTypes[0])||!x["*"]&&T("*")}function tu(u,f){var p,_,x=v.ajaxSettings.flatOptions||{};for(p in f)f[p]!==void 0&&((x[p]?u:_||(_={}))[p]=f[p]);return _&&v.extend(!0,u,_),u}function a_(u,f,p){for(var _,x,E,T,I=u.contents,P=u.dataTypes;P[0]==="*";)P.shift(),_===void 0&&(_=u.mimeType||f.getResponseHeader("Content-Type"));if(_){for(x in I)if(I[x]&&I[x].test(_)){P.unshift(x);break}}if(P[0]in p)E=P[0];else{for(x in p){if(!P[0]||u.converters[x+" "+P[0]]){E=x;break}T||(T=x)}E=E||T}if(E)return E!==P[0]&&P.unshift(E),p[E]}function o_(u,f,p,_){var x,E,T,I,P,D={},U=u.dataTypes.slice();if(U[1])for(T in u.converters)D[T.toLowerCase()]=u.converters[T];for(E=U.shift();E;)if(u.responseFields[E]&&(p[u.responseFields[E]]=f),!P&&_&&u.dataFilter&&(f=u.dataFilter(f,u.dataType)),P=E,E=U.shift(),E){if(E==="*")E=P;else if(P!=="*"&&P!==E){if(T=D[P+" "+E]||D["* "+E],!T){for(x in D)if(I=x.split(" "),I[1]===E&&(T=D[P+" "+I[0]]||D["* "+I[0]],T)){T===!0?T=D[x]:D[x]!==!0&&(E=I[0],U.unshift(I[1]));break}}if(T!==!0)if(T&&u.throws)f=T(f);else try{f=T(f)}catch(Z){return{state:"parsererror",error:T?Z:"No conversion from "+P+" to "+E}}}}return{state:"success",data:f}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ka.href,type:"GET",isLocal:n_.test(Ka.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,f){return f?tu(tu(u,v.ajaxSettings),f):tu(v.ajaxSettings,u)},ajaxPrefilter:jf(Gf),ajaxTransport:jf(Jl),ajax:function(u,f){typeof u=="object"&&(f=u,u=void 0),f=f||{};var p,_,x,E,T,I,P,D,U,Z,B=v.ajaxSetup({},f),z=B.context||B,xt=B.context&&(z.nodeType||z.jquery)?v(z):v.event,Ft=v.Deferred(),Et=v.Callbacks("once memory"),je=B.statusCode||{},Le={},En={},le="canceled",Lt={readyState:0,getResponseHeader:function(Qt){var we;if(P){if(!E)for(E={};we=e_.exec(x);)E[we[1].toLowerCase()+" "]=(E[we[1].toLowerCase()+" "]||[]).concat(we[2]);we=E[Qt.toLowerCase()+" "]}return we==null?null:we.join(", ")},getAllResponseHeaders:function(){return P?x:null},setRequestHeader:function(Qt,we){return P==null&&(Qt=En[Qt.toLowerCase()]=En[Qt.toLowerCase()]||Qt,Le[Qt]=we),this},overrideMimeType:function(Qt){return P==null&&(B.mimeType=Qt),this},statusCode:function(Qt){var we;if(Qt)if(P)Lt.always(Qt[Lt.status]);else for(we in Qt)je[we]=[je[we],Qt[we]];return this},abort:function(Qt){var we=Qt||le;return p&&p.abort(we),un(0,we),this}};if(Ft.promise(Lt),B.url=((u||B.url||Ka.href)+"").replace(r_,Ka.protocol+"//"),B.type=f.method||f.type||B.method||B.type,B.dataTypes=(B.dataType||"*").toLowerCase().match(kt)||[""],B.crossDomain==null){I=S.createElement("a");try{I.href=B.url,I.href=I.href,B.crossDomain=Ql.protocol+"//"+Ql.host!=I.protocol+"//"+I.host}catch{B.crossDomain=!0}}if(B.data&&B.processData&&typeof B.data!="string"&&(B.data=v.param(B.data,B.traditional)),Bf(Gf,B,f,Lt),P)return Lt;D=v.event&&B.global,D&&v.active++===0&&v.event.trigger("ajaxStart"),B.type=B.type.toUpperCase(),B.hasContent=!i_.test(B.type),_=B.url.replace(Qg,""),B.hasContent?B.data&&B.processData&&(B.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(B.data=B.data.replace(Jg,"+")):(Z=B.url.slice(_.length),B.data&&(B.processData||typeof B.data=="string")&&(_+=(Kl.test(_)?"&":"?")+B.data,delete B.data),B.cache===!1&&(_=_.replace(t_,"$1"),Z=(Kl.test(_)?"&":"?")+"_="+Ff.guid+++Z),B.url=_+Z),B.ifModified&&(v.lastModified[_]&&Lt.setRequestHeader("If-Modified-Since",v.lastModified[_]),v.etag[_]&&Lt.setRequestHeader("If-None-Match",v.etag[_])),(B.data&&B.hasContent&&B.contentType!==!1||f.contentType)&&Lt.setRequestHeader("Content-Type",B.contentType),Lt.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+(B.dataTypes[0]!=="*"?", "+kf+"; q=0.01":""):B.accepts["*"]);for(U in B.headers)Lt.setRequestHeader(U,B.headers[U]);if(B.beforeSend&&(B.beforeSend.call(z,Lt,B)===!1||P))return Lt.abort();if(le="abort",Et.add(B.complete),Lt.done(B.success),Lt.fail(B.error),p=Bf(Jl,B,f,Lt),!p)un(-1,"No Transport");else{if(Lt.readyState=1,D&&xt.trigger("ajaxSend",[Lt,B]),P)return Lt;B.async&&B.timeout>0&&(T=e.setTimeout(function(){Lt.abort("timeout")},B.timeout));try{P=!1,p.send(Le,un)}catch(Qt){if(P)throw Qt;un(-1,Qt)}}function un(Qt,we,Ja,ss){var Mn,Er,Mr,hn,ji,In=we;P||(P=!0,T&&e.clearTimeout(T),p=void 0,x=ss||"",Lt.readyState=Qt>0?4:0,Mn=Qt>=200&&Qt<300||Qt===304,Ja&&(hn=a_(B,Lt,Ja)),!Mn&&v.inArray("script",B.dataTypes)>-1&&v.inArray("json",B.dataTypes)<0&&(B.converters["text script"]=function(){}),hn=o_(B,hn,Lt,Mn),Mn?(B.ifModified&&(ji=Lt.getResponseHeader("Last-Modified"),ji&&(v.lastModified[_]=ji),ji=Lt.getResponseHeader("etag"),ji&&(v.etag[_]=ji)),Qt===204||B.type==="HEAD"?In="nocontent":Qt===304?In="notmodified":(In=hn.state,Er=hn.data,Mr=hn.error,Mn=!Mr)):(Mr=In,(Qt||!In)&&(In="error",Qt<0&&(Qt=0))),Lt.status=Qt,Lt.statusText=(we||In)+"",Mn?Ft.resolveWith(z,[Er,In,Lt]):Ft.rejectWith(z,[Lt,In,Mr]),Lt.statusCode(je),je=void 0,D&&xt.trigger(Mn?"ajaxSuccess":"ajaxError",[Lt,B,Mn?Er:Mr]),Et.fireWith(z,[Lt,In]),D&&(xt.trigger("ajaxComplete",[Lt,B]),--v.active||v.event.trigger("ajaxStop")))}return Lt},getJSON:function(u,f,p){return v.get(u,f,p,"json")},getScript:function(u,f){return v.get(u,void 0,f,"script")}}),v.each(["get","post"],function(u,f){v[f]=function(p,_,x,E){return M(_)&&(E=E||x,x=_,_=void 0),v.ajax(v.extend({url:p,type:f,dataType:E,data:_,success:x},v.isPlainObject(p)&&p))}}),v.ajaxPrefilter(function(u){var f;for(f in u.headers)f.toLowerCase()==="content-type"&&(u.contentType=u.headers[f]||"")}),v._evalUrl=function(u,f,p){return v.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(_){v.globalEval(_,f,p)}})},v.fn.extend({wrapAll:function(u){var f;return this[0]&&(M(u)&&(u=u.call(this[0])),f=v(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&f.insertBefore(this[0]),f.map(function(){for(var p=this;p.firstElementChild;)p=p.firstElementChild;return p}).append(this)),this},wrapInner:function(u){return M(u)?this.each(function(f){v(this).wrapInner(u.call(this,f))}):this.each(function(){var f=v(this),p=f.contents();p.length?p.wrapAll(u):f.append(u)})},wrap:function(u){var f=M(u);return this.each(function(p){v(this).wrapAll(f?u.call(this,p):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(u){return!v.expr.pseudos.visible(u)},v.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var s_={0:200,1223:204},Za=v.ajaxSettings.xhr();m.cors=!!Za&&"withCredentials"in Za,m.ajax=Za=!!Za,v.ajaxTransport(function(u){var f,p;if(m.cors||Za&&!u.crossDomain)return{send:function(_,x){var E,T=u.xhr();if(T.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(E in u.xhrFields)T[E]=u.xhrFields[E];u.mimeType&&T.overrideMimeType&&T.overrideMimeType(u.mimeType),!u.crossDomain&&!_["X-Requested-With"]&&(_["X-Requested-With"]="XMLHttpRequest");for(E in _)T.setRequestHeader(E,_[E]);f=function(I){return function(){f&&(f=p=T.onload=T.onerror=T.onabort=T.ontimeout=T.onreadystatechange=null,I==="abort"?T.abort():I==="error"?typeof T.status!="number"?x(0,"error"):x(T.status,T.statusText):x(s_[T.status]||T.status,T.statusText,(T.responseType||"text")!=="text"||typeof T.responseText!="string"?{binary:T.response}:{text:T.responseText},T.getAllResponseHeaders()))}},T.onload=f(),p=T.onerror=T.ontimeout=f("error"),T.onabort!==void 0?T.onabort=p:T.onreadystatechange=function(){T.readyState===4&&e.setTimeout(function(){f&&p()})},f=f("abort");try{T.send(u.hasContent&&u.data||null)}catch(I){if(f)throw I}},abort:function(){f&&f()}}}),v.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return v.globalEval(u),u}}}),v.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),v.ajaxTransport("script",function(u){if(u.crossDomain||u.scriptAttrs){var f,p;return{send:function(_,x){f=v("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",p=function(E){f.remove(),p=null,E&&x(E.type==="error"?404:200,E.type)}),S.head.appendChild(f[0])},abort:function(){p&&p()}}}});var $f=[],eu=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=$f.pop()||v.expando+"_"+Ff.guid++;return this[u]=!0,u}}),v.ajaxPrefilter("json jsonp",function(u,f,p){var _,x,E,T=u.jsonp!==!1&&(eu.test(u.url)?"url":typeof u.data=="string"&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&eu.test(u.data)&&"data");if(T||u.dataTypes[0]==="jsonp")return _=u.jsonpCallback=M(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,T?u[T]=u[T].replace(eu,"$1"+_):u.jsonp!==!1&&(u.url+=(Kl.test(u.url)?"&":"?")+u.jsonp+"="+_),u.converters["script json"]=function(){return E||v.error(_+" was not called"),E[0]},u.dataTypes[0]="json",x=e[_],e[_]=function(){E=arguments},p.always(function(){x===void 0?v(e).removeProp(_):e[_]=x,u[_]&&(u.jsonpCallback=f.jsonpCallback,$f.push(_)),E&&M(x)&&x(E[0]),E=x=void 0}),"script"}),m.createHTMLDocument=function(){var u=S.implementation.createHTMLDocument("").body;return u.innerHTML="<form></form><form></form>",u.childNodes.length===2}(),v.parseHTML=function(u,f,p){if(typeof u!="string")return[];typeof f=="boolean"&&(p=f,f=!1);var _,x,E;return f||(m.createHTMLDocument?(f=S.implementation.createHTMLDocument(""),_=f.createElement("base"),_.href=S.location.href,f.head.appendChild(_)):f=S),x=yt.exec(u),E=!p&&[],x?[f.createElement(x[1])]:(x=es([u],f,E),E&&E.length&&v(E).remove(),v.merge([],x.childNodes))},v.fn.load=function(u,f,p){var _,x,E,T=this,I=u.indexOf(" ");return I>-1&&(_=mr(u.slice(I)),u=u.slice(0,I)),M(f)?(p=f,f=void 0):f&&typeof f=="object"&&(x="POST"),T.length>0&&v.ajax({url:u,type:x||"GET",dataType:"html",data:f}).done(function(P){E=arguments,T.html(_?v("<div>").append(v.parseHTML(P)).find(_):P)}).always(p&&function(P,D){T.each(function(){p.apply(this,E||[P.responseText,D,P])})}),this},v.expr.pseudos.animated=function(u){return v.grep(v.timers,function(f){return u===f.elem}).length},v.offset={setOffset:function(u,f,p){var _,x,E,T,I,P,D,U=v.css(u,"position"),Z=v(u),B={};U==="static"&&(u.style.position="relative"),I=Z.offset(),E=v.css(u,"top"),P=v.css(u,"left"),D=(U==="absolute"||U==="fixed")&&(E+P).indexOf("auto")>-1,D?(_=Z.position(),T=_.top,x=_.left):(T=parseFloat(E)||0,x=parseFloat(P)||0),M(f)&&(f=f.call(u,p,v.extend({},I))),f.top!=null&&(B.top=f.top-I.top+T),f.left!=null&&(B.left=f.left-I.left+x),"using"in f?f.using.call(u,B):Z.css(B)}},v.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(x){v.offset.setOffset(this,u,x)});var f,p,_=this[0];if(!!_)return _.getClientRects().length?(f=_.getBoundingClientRect(),p=_.ownerDocument.defaultView,{top:f.top+p.pageYOffset,left:f.left+p.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var u,f,p,_=this[0],x={top:0,left:0};if(v.css(_,"position")==="fixed")f=_.getBoundingClientRect();else{for(f=this.offset(),p=_.ownerDocument,u=_.offsetParent||p.documentElement;u&&(u===p.body||u===p.documentElement)&&v.css(u,"position")==="static";)u=u.parentNode;u&&u!==_&&u.nodeType===1&&(x=v(u).offset(),x.top+=v.css(u,"borderTopWidth",!0),x.left+=v.css(u,"borderLeftWidth",!0))}return{top:f.top-x.top-v.css(_,"marginTop",!0),left:f.left-x.left-v.css(_,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&v.css(u,"position")==="static";)u=u.offsetParent;return u||gt})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,f){var p=f==="pageYOffset";v.fn[u]=function(_){return de(this,function(x,E,T){var I;if(w(x)?I=x:x.nodeType===9&&(I=x.defaultView),T===void 0)return I?I[f]:x[E];I?I.scrollTo(p?I.pageXOffset:T,p?T:I.pageYOffset):x[E]=T},u,_,arguments.length)}}),v.each(["top","left"],function(u,f){v.cssHooks[f]=Ha(m.pixelPosition,function(p,_){if(_)return _=yr(p,f),ki.test(_)?v(p).position()[f]+"px":_})}),v.each({Height:"height",Width:"width"},function(u,f){v.each({padding:"inner"+u,content:f,"":"outer"+u},function(p,_){v.fn[_]=function(x,E){var T=arguments.length&&(p||typeof x!="boolean"),I=p||(x===!0||E===!0?"margin":"border");return de(this,function(P,D,U){var Z;return w(P)?_.indexOf("outer")===0?P["inner"+u]:P.document.documentElement["client"+u]:P.nodeType===9?(Z=P.documentElement,Math.max(P.body["scroll"+u],Z["scroll"+u],P.body["offset"+u],Z["offset"+u],Z["client"+u])):U===void 0?v.css(P,D,I):v.style(P,D,U,I)},f,T?x:void 0,T)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,f){v.fn[f]=function(p){return this.on(f,p)}}),v.fn.extend({bind:function(u,f,p){return this.on(u,null,f,p)},unbind:function(u,f){return this.off(u,null,f)},delegate:function(u,f,p,_){return this.on(f,u,p,_)},undelegate:function(u,f,p){return arguments.length===1?this.off(u,"**"):this.off(f,u||"**",p)},hover:function(u,f){return this.mouseenter(u).mouseleave(f||u)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,f){v.fn[f]=function(p,_){return arguments.length>0?this.on(f,null,p,_):this.trigger(f)}});var l_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;v.proxy=function(u,f){var p,_,x;if(typeof f=="string"&&(p=u[f],f=u,u=p),!!M(u))return _=a.call(arguments,2),x=function(){return u.apply(f||this,_.concat(a.call(arguments)))},x.guid=u.guid=u.guid||v.guid++,x},v.holdReady=function(u){u?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=at,v.isFunction=M,v.isWindow=w,v.camelCase=R,v.type=L,v.now=Date.now,v.isNumeric=function(u){var f=v.type(u);return(f==="number"||f==="string")&&!isNaN(u-parseFloat(u))},v.trim=function(u){return u==null?"":(u+"").replace(l_,"")};var u_=e.jQuery,h_=e.$;return v.noConflict=function(u){return e.$===v&&(e.$=h_),u&&e.jQuery===v&&(e.jQuery=u_),v},typeof t=="undefined"&&(e.jQuery=e.$=v),v})})(bg);var fP=bg.exports,cP=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(e,t){var i;if(t){var r=t.dataProjection?me(t.dataProjection):this.readProjection(e);t.extent&&r&&r.getUnits()===ui.TILE_PIXELS&&(r=me(r),r.setWorldExtent(t.extent)),i={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(i)},n.prototype.adaptOptions=function(e){return Ie({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},n.prototype.getType=function(){return Nt()},n.prototype.readFeature=function(e,t){return Nt()},n.prototype.readFeatures=function(e,t){return Nt()},n.prototype.readGeometry=function(e,t){return Nt()},n.prototype.readProjection=function(e){return Nt()},n.prototype.writeFeature=function(e,t){return Nt()},n.prototype.writeFeatures=function(e,t){return Nt()},n.prototype.writeGeometry=function(e,t){return Nt()},n}(),dP=cP;function Lg(n,e,t){var i=t?me(t.featureProjection):null,r=t?me(t.dataProjection):null,a;if(i&&r&&!Qi(i,r)?a=(e?n.clone():n).transform(e?i:r,e?r:i):a=n,e&&t&&t.decimals!==void 0){var o=Math.pow(10,t.decimals),s=function(l){for(var h=0,c=l.length;h<c;++h)l[h]=Math.round(l[h]*o)/o;return l};a===n&&(a=n.clone()),a.applyTransform(s)}return a}function Ng(n,e){var t=e?me(e.featureProjection):null,i=e?me(e.dataProjection):null;return t&&i&&!Qi(t,i)?h1(n,i,t):n}function Xn(n,e){return Gg().createElementNS(n,e)}function Fg(n,e){return Dg(n,e,[]).join("")}function Dg(n,e,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)e?t.push(String(n.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(n.nodeValue);else{var i=void 0;for(i=n.firstChild;i;i=i.nextSibling)Dg(i,e,t)}return t}function Ls(n){return"documentElement"in n}function pP(n,e,t){return n.getAttributeNS(e,t)||""}function Ns(n){return new DOMParser().parseFromString(n,"application/xml")}function yn(n,e){return function(t,i){var r=n.call(e!==void 0?e:this,t,i);if(r!==void 0){var a=i[i.length-1];a.push(r)}}}function Ln(n,e){return function(t,i){var r=n.call(e!==void 0?e:this,t,i);r!==void 0&&(i[i.length-1]=r)}}function Se(n,e){return function(t,i,r){n.call(e!==void 0?e:this,t,i,r);var a=r[r.length-1],o=a.node;o.appendChild(t)}}function Mh(n,e){var t=n;return function(i,r,a){var o=r[r.length-1],s=o.node,l=t;l===void 0&&(l=a);var h=e!==void 0?e:s.namespaceURI;return Xn(h,l)}}var vP=Mh();function gP(n,e,t){var i=t!==void 0?t:{},r,a;for(r=0,a=n.length;r<a;++r)i[n[r]]=e;return i}function Xs(n,e,t,i){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var a=n[r.namespaceURI];if(a!==void 0){var o=a[r.localName];o!==void 0&&o.call(i,r,t)}}}function on(n,e,t,i,r){return i.push(n),Xs(e,t,i,r),i.pop()}function _P(n,e,t,i,r,a){for(var o=(r!==void 0?r:t).length,s,l,h=0;h<o;++h)s=t[h],s!==void 0&&(l=e.call(a!==void 0?a:this,s,i,r!==void 0?r[h]:void 0),l!==void 0&&n[l.namespaceURI][l.localName].call(a,l,s,i))}function Pr(n,e,t,i,r,a,o){return r.push(n),_P(e,t,i,r,a,o),r.pop()}var Nu=void 0;function yP(){return Nu===void 0&&typeof XMLSerializer!="undefined"&&(Nu=new XMLSerializer),Nu}var Fu=void 0;function Gg(){return Fu===void 0&&typeof document!="undefined"&&(Fu=document.implementation.createDocument("","",null)),Fu}var mP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xP=function(n){mP(e,n);function e(){var t=n.call(this)||this;return t.xmlSerializer_=yP(),t}return e.prototype.getType=function(){return ua.XML},e.prototype.readFeature=function(t,i){if(t)if(typeof t=="string"){var r=Ns(t);return this.readFeatureFromDocument(r,i)}else return Ls(t)?this.readFeatureFromDocument(t,i):this.readFeatureFromNode(t,i);else return null},e.prototype.readFeatureFromDocument=function(t,i){var r=this.readFeaturesFromDocument(t,i);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,i){return null},e.prototype.readFeatures=function(t,i){if(t)if(typeof t=="string"){var r=Ns(t);return this.readFeaturesFromDocument(r,i)}else return Ls(t)?this.readFeaturesFromDocument(t,i):this.readFeaturesFromNode(t,i);else return[]},e.prototype.readFeaturesFromDocument=function(t,i){for(var r=[],a=t.firstChild;a;a=a.nextSibling)a.nodeType==Node.ELEMENT_NODE&&Gn(r,this.readFeaturesFromNode(a,i));return r},e.prototype.readFeaturesFromNode=function(t,i){return Nt()},e.prototype.readGeometry=function(t,i){if(t)if(typeof t=="string"){var r=Ns(t);return this.readGeometryFromDocument(r,i)}else return Ls(t)?this.readGeometryFromDocument(t,i):this.readGeometryFromNode(t,i);else return null},e.prototype.readGeometryFromDocument=function(t,i){return null},e.prototype.readGeometryFromNode=function(t,i){return null},e.prototype.readProjection=function(t){if(t)if(typeof t=="string"){var i=Ns(t);return this.readProjectionFromDocument(i)}else return Ls(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t);else return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,i){var r=this.writeFeatureNode(t,i);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,i){return null},e.prototype.writeFeatures=function(t,i){var r=this.writeFeaturesNode(t,i);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,i){return null},e.prototype.writeGeometry=function(t,i){var r=this.writeGeometryNode(t,i);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,i){return null},e}(dP),kg=xP,EP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Mf="http://www.opengis.net/gml",MP=/^[\s\xa0]*$/,Ae=function(n){EP(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.featureType=r.featureType,i.featureNS=r.featureNS,i.srsName=r.srsName,i.schemaLocation="",i.FEATURE_COLLECTION_PARSERS={},i.FEATURE_COLLECTION_PARSERS[i.namespace]={featureMember:yn(i.readFeaturesInternal),featureMembers:Ln(i.readFeaturesInternal)},i.supportedMediaTypes=["application/gml+xml"],i}return e.prototype.readFeaturesInternal=function(t,i){var r=t.localName,a=null;if(r=="FeatureCollection")a=on([],this.FEATURE_COLLECTION_PARSERS,t,i,this);else if(r=="featureMembers"||r=="featureMember"||r=="member"){var o=i[0],s=o.featureType,l=o.featureNS,h="p",c="p0";if(!s&&t.childNodes){s=[],l={};for(var d=0,g=t.childNodes.length;d<g;++d){var y=t.childNodes[d];if(y.nodeType===1){var m=y.nodeName.split(":").pop();if(s.indexOf(m)===-1){var M="",w=0,S=y.namespaceURI;for(var A in l){if(l[A]===S){M=A;break}++w}M||(M=h+w,l[M]=S),s.push(M+":"+m)}}}r!="featureMember"&&(o.featureType=s,o.featureNS=l)}if(typeof l=="string"){var b=l;l={},l[c]=b}var L={},j=Array.isArray(s)?s:[s];for(var v in l){for(var H={},d=0,g=j.length;d<g;++d){var $=j[d].indexOf(":")===-1?c:j[d].split(":")[0];$===v&&(H[j[d].split(":").pop()]=r=="featureMembers"?yn(this.readFeatureElement,this):Ln(this.readFeatureElement,this))}L[l[v]]=H}r=="featureMember"||r=="member"?a=on(void 0,L,t,i):a=on([],L,t,i)}return a===null&&(a=[]),a},e.prototype.readGeometryOrExtent=function(t,i){var r=i[0];return r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension"),on(null,this.GEOMETRY_PARSERS,t,i,this)},e.prototype.readExtentElement=function(t,i){var r=i[0],a=this.readGeometryOrExtent(t,i);return a?Ng(a,r):void 0},e.prototype.readGeometryElement=function(t,i){var r=i[0],a=this.readGeometryOrExtent(t,i);return a?Lg(a,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,i,r){for(var a,o={},s=t.firstElementChild;s;s=s.nextElementSibling){var l=void 0,h=s.localName;s.childNodes.length===0||s.childNodes.length===1&&(s.firstChild.nodeType===3||s.firstChild.nodeType===4)?(l=Fg(s,!1),MP.test(l)&&(l=void 0)):(r&&(l=h==="boundedBy"?this.readExtentElement(s,i):this.readGeometryElement(s,i)),l?h!=="boundedBy"&&(a=h):l=this.readFeatureElementInternal(s,i,!1)),o[h]?(o[h]instanceof Array||(o[h]=[o[h]]),o[h].push(l)):o[h]=l;var c=s.attributes.length;if(c>0){o[h]={_content_:o[h]};for(var d=0;d<c;d++){var g=s.attributes[d].name;o[h][g]=s.attributes[d].value}}}if(r){var y=new yM(o);a&&y.setGeometryName(a);var m=t.getAttribute("fid")||pP(t,this.namespace,"id");return m&&y.setId(m),y}else return o},e.prototype.readFeatureElement=function(t,i){return this.readFeatureElementInternal(t,i,!0)},e.prototype.readPoint=function(t,i){var r=this.readFlatCoordinatesFromNode(t,i);if(r)return new el(r,ye.XYZ)},e.prototype.readMultiPoint=function(t,i){var r=on([],this.MULTIPOINT_PARSERS,t,i,this);if(r)return new Bv(r)},e.prototype.readMultiLineString=function(t,i){var r=on([],this.MULTILINESTRING_PARSERS,t,i,this);if(r)return new CM(r)},e.prototype.readMultiPolygon=function(t,i){var r=on([],this.MULTIPOLYGON_PARSERS,t,i,this);if(r)return new PM(r)},e.prototype.pointMemberParser=function(t,i){Xs(this.POINTMEMBER_PARSERS,t,i,this)},e.prototype.lineStringMemberParser=function(t,i){Xs(this.LINESTRINGMEMBER_PARSERS,t,i,this)},e.prototype.polygonMemberParser=function(t,i){Xs(this.POLYGONMEMBER_PARSERS,t,i,this)},e.prototype.readLineString=function(t,i){var r=this.readFlatCoordinatesFromNode(t,i);if(r){var a=new vh(r,ye.XYZ);return a}else return},e.prototype.readFlatLinearRing=function(t,i){var r=on(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,i,this);if(r)return r},e.prototype.readLinearRing=function(t,i){var r=this.readFlatCoordinatesFromNode(t,i);if(r)return new sh(r,ye.XYZ)},e.prototype.readPolygon=function(t,i){var r=on([null],this.FLAT_LINEAR_RINGS_PARSERS,t,i,this);if(r&&r[0]){var a=r[0],o=[a.length],s=void 0,l=void 0;for(s=1,l=r.length;s<l;++s)Gn(a,r[s]),o.push(a.length);return new Ao(a,ye.XYZ,o)}else return},e.prototype.readFlatCoordinatesFromNode=function(t,i){return on(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,i,this)},e.prototype.readGeometryFromNode=function(t,i){var r=this.readGeometryElement(t,[this.getReadOptions(t,i||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,i){var r={featureType:this.featureType,featureNS:this.featureNS};i&&Ie(r,this.getReadOptions(t,i));var a=this.readFeaturesInternal(t,[r]);return a||[]},e.prototype.readProjectionFromNode=function(t){return me(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(kg);Ae.prototype.namespace=Mf;Ae.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};Ae.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};Ae.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};Ae.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:yn(Ae.prototype.pointMemberParser),pointMembers:yn(Ae.prototype.pointMemberParser)}};Ae.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:yn(Ae.prototype.lineStringMemberParser),lineStringMembers:yn(Ae.prototype.lineStringMemberParser)}};Ae.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:yn(Ae.prototype.polygonMemberParser),polygonMembers:yn(Ae.prototype.polygonMemberParser)}};Ae.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:yn(Ae.prototype.readFlatCoordinatesFromNode)}};Ae.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:yn(Ae.prototype.readLineString)}};Ae.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:yn(Ae.prototype.readPolygon)}};Ae.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Ln(Ae.prototype.readFlatLinearRing)}};var Vi=Ae;function Eo(n,e){n.appendChild(Gg().createTextNode(e))}var TP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),CP=Mf+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",wP={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Vt=function(n){TP(e,n);function e(t){var i=this,r=t||{};return i=n.call(this,r)||this,i.FEATURE_COLLECTION_PARSERS[Mf].featureMember=yn(i.readFeaturesInternal),i.schemaLocation=r.schemaLocation?r.schemaLocation:CP,i}return e.prototype.readFlatCoordinates=function(t,i){var r=Fg(t,!1).replace(/^\s*|\s*$/g,""),a=i[0],o=a.srsName,s="enu";if(o){var l=me(o);l&&(s=l.getAxisOrientation())}for(var h=r.trim().split(/\s+/),c=[],d=0,g=h.length;d<g;d++){var y=h[d].split(/,+/),m=parseFloat(y[0]),M=parseFloat(y[1]),w=y.length===3?parseFloat(y[2]):0;s.substr(0,2)==="en"?c.push(m,M,w):c.push(M,m,w)}return c},e.prototype.readBox=function(t,i){var r=on([null],this.BOX_PARSERS_,t,i,this);return Qn(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser=function(t,i){var r=on(void 0,this.RING_PARSERS,t,i,this);if(r){var a=i[i.length-1];a.push(r)}},e.prototype.outerBoundaryIsParser=function(t,i){var r=on(void 0,this.RING_PARSERS,t,i,this);if(r){var a=i[i.length-1];a[0]=r}},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,i,r){var a=i[i.length-1],o=a.multiSurface,s=a.surface,l=a.multiCurve,h;return Array.isArray(t)?h="Envelope":(h=t.getType(),h==="MultiPolygon"&&o===!0?h="MultiSurface":h==="Polygon"&&s===!0?h="Surface":h==="MultiLineString"&&l===!0&&(h="MultiCurve")),Xn("http://www.opengis.net/gml",h)},e.prototype.writeFeatureElement=function(t,i,r){var a=i.getId();a&&t.setAttribute("fid",a);var o=r[r.length-1],s=o.featureNS,l=i.getGeometryName();o.serializers||(o.serializers={},o.serializers[s]={});var h=[],c=[];if(i.hasProperties()){var d=i.getProperties();for(var g in d){var y=d[g];y!==null&&(h.push(g),c.push(y),g==l||typeof y.getSimplifiedGeometry=="function"?g in o.serializers[s]||(o.serializers[s][g]=Se(this.writeGeometryElement,this)):g in o.serializers[s]||(o.serializers[s][g]=Se(Eo)))}}var m=Ie({},o);m.node=t,Pr(m,o.serializers,Mh(void 0,s),c,r,h)},e.prototype.writeCurveOrLineString=function(t,i,r){var a=r[r.length-1],o=a.srsName;if(t.nodeName!=="LineStringSegment"&&o&&t.setAttribute("srsName",o),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,i,r)}else if(t.nodeName==="Curve"){var l=Xn(t.namespaceURI,"segments");t.appendChild(l),this.writeCurveSegments_(l,i,r)}},e.prototype.writeLineStringOrCurveMember=function(t,i,r){var a=this.GEOMETRY_NODE_FACTORY_(i,r);a&&(t.appendChild(a),this.writeCurveOrLineString(a,i,r))},e.prototype.writeMultiCurveOrLineString=function(t,i,r){var a=r[r.length-1],o=a.hasZ,s=a.srsName,l=a.curve;s&&t.setAttribute("srsName",s);var h=i.getLineStrings();Pr({node:t,hasZ:o,srsName:s,curve:l},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,r,void 0,this)},e.prototype.writeGeometryElement=function(t,i,r){var a=r[r.length-1],o=Ie({},a);o.node=t;var s;Array.isArray(i)?s=Ng(i,a):s=Lg(i,!0,a),Pr(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var i=Xn(t,"coordinates");return i.setAttribute("decimal","."),i.setAttribute("cs",","),i.setAttribute("ts"," "),i},e.prototype.writeCoordinates_=function(t,i,r){for(var a=r[r.length-1],o=a.hasZ,s=a.srsName,l=i.getCoordinates(),h=l.length,c=new Array(h),d=0;d<h;++d){var g=l[d];c[d]=this.getCoords_(g,s,o)}Eo(t,c.join(" "))},e.prototype.writeCurveSegments_=function(t,i,r){var a=Xn(t.namespaceURI,"LineStringSegment");t.appendChild(a),this.writeCurveOrLineString(a,i,r)},e.prototype.writeSurfaceOrPolygon=function(t,i,r){var a=r[r.length-1],o=a.hasZ,s=a.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var l=i.getLinearRings();Pr({node:t,hasZ:o,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,l,r,void 0,this)}else if(t.nodeName==="Surface"){var h=Xn(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,i,r)}},e.prototype.RING_NODE_FACTORY_=function(t,i,r){var a=i[i.length-1],o=a.node,s=a.exteriorWritten;return s===void 0&&(a.exteriorWritten=!0),Xn(o.namespaceURI,s!==void 0?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,i,r){var a=Xn(t.namespaceURI,"PolygonPatch");t.appendChild(a),this.writeSurfaceOrPolygon(a,i,r)},e.prototype.writeRing=function(t,i,r){var a=Xn(t.namespaceURI,"LinearRing");t.appendChild(a),this.writeLinearRing(a,i,r)},e.prototype.getCoords_=function(t,i,r){var a="enu";i&&(a=me(i).getAxisOrientation());var o=a.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(r){var s=t[2]||0;o+=","+s}return o},e.prototype.writePoint=function(t,i,r){var a=r[r.length-1],o=a.hasZ,s=a.srsName;s&&t.setAttribute("srsName",s);var l=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(l);var h=i.getCoordinates(),c=this.getCoords_(h,s,o);Eo(l,c)},e.prototype.writeMultiPoint=function(t,i,r){var a=r[r.length-1],o=a.hasZ,s=a.srsName;s&&t.setAttribute("srsName",s);var l=i.getPoints();Pr({node:t,hasZ:o,srsName:s},this.POINTMEMBER_SERIALIZERS,Mh("pointMember"),l,r,void 0,this)},e.prototype.writePointMember=function(t,i,r){var a=Xn(t.namespaceURI,"Point");t.appendChild(a),this.writePoint(a,i,r)},e.prototype.writeLinearRing=function(t,i,r){var a=r[r.length-1],o=a.srsName;o&&t.setAttribute("srsName",o);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,i,r)},e.prototype.writeMultiSurfaceOrPolygon=function(t,i,r){var a=r[r.length-1],o=a.hasZ,s=a.srsName,l=a.surface;s&&t.setAttribute("srsName",s);var h=i.getPolygons();Pr({node:t,hasZ:o,srsName:s,surface:l},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember=function(t,i,r){var a=this.GEOMETRY_NODE_FACTORY_(i,r);a&&(t.appendChild(a),this.writeSurfaceOrPolygon(a,i,r))},e.prototype.writeEnvelope=function(t,i,r){var a=r[r.length-1],o=a.srsName;o&&t.setAttribute("srsName",o);var s=["lowerCorner","upperCorner"],l=[i[0]+" "+i[1],i[2]+" "+i[3]];Pr({node:t},this.ENVELOPE_SERIALIZERS,vP,l,r,s,this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,i,r){var a=i[i.length-1].node;return Xn("http://www.opengis.net/gml",wP[a.nodeName])},e}(Vi);Vt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Ln(Vt.prototype.readFlatCoordinates)}};Vt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Vt.prototype.innerBoundaryIsParser,outerBoundaryIs:Vt.prototype.outerBoundaryIsParser}};Vt.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:yn(Vt.prototype.readFlatCoordinates)}};Vt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Ln(Vi.prototype.readPoint),MultiPoint:Ln(Vi.prototype.readMultiPoint),LineString:Ln(Vi.prototype.readLineString),MultiLineString:Ln(Vi.prototype.readMultiLineString),LinearRing:Ln(Vi.prototype.readLinearRing),Polygon:Ln(Vi.prototype.readPolygon),MultiPolygon:Ln(Vi.prototype.readMultiPolygon),Box:Ln(Vt.prototype.readBox)}};Vt.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Se(Vt.prototype.writeCurveOrLineString),MultiCurve:Se(Vt.prototype.writeMultiCurveOrLineString),Point:Se(Vt.prototype.writePoint),MultiPoint:Se(Vt.prototype.writeMultiPoint),LineString:Se(Vt.prototype.writeCurveOrLineString),MultiLineString:Se(Vt.prototype.writeMultiCurveOrLineString),LinearRing:Se(Vt.prototype.writeLinearRing),Polygon:Se(Vt.prototype.writeSurfaceOrPolygon),MultiPolygon:Se(Vt.prototype.writeMultiSurfaceOrPolygon),Surface:Se(Vt.prototype.writeSurfaceOrPolygon),MultiSurface:Se(Vt.prototype.writeMultiSurfaceOrPolygon),Envelope:Se(Vt.prototype.writeEnvelope)}};Vt.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Se(Vt.prototype.writeLineStringOrCurveMember),curveMember:Se(Vt.prototype.writeLineStringOrCurveMember)}};Vt.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:Se(Vt.prototype.writeRing),innerBoundaryIs:Se(Vt.prototype.writeRing)}};Vt.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Se(Vt.prototype.writePointMember)}};Vt.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Se(Vt.prototype.writeSurfaceOrPolygonMember),polygonMember:Se(Vt.prototype.writeSurfaceOrPolygonMember)}};Vt.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Se(Eo),upperCorner:Se(Eo)}};var SP=Vt,RP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),OP="_feature",IP="_layer",PP=function(n){RP(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.featureNS_="http://mapserver.gis.umn.edu/mapserver",i.gmlFormat_=new SP,i.layers_=r.layers?r.layers:null,i}return e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,i){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,a=[];if(t.childNodes.length===0)return a;if(r=="msGMLOutput")for(var o=0,s=t.childNodes.length;o<s;o++){var l=t.childNodes[o];if(l.nodeType===Node.ELEMENT_NODE){var h=l,c=i[0],d=IP,g=h.localName.replace(d,"");if(!(this.layers_&&!mm(this.layers_,g))){var y=g+OP;c.featureType=y,c.featureNS=this.featureNS_;var m={};m[y]=yn(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var M=gP([c.featureNS,null],m);h.setAttribute("namespaceURI",this.featureNS_);var w=on([],M,h,i,this.gmlFormat_);w&&Gn(a,w)}}}if(r=="FeatureCollection"){var S=on([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);S&&(a=S)}return a},e.prototype.readFeaturesFromNode=function(t,i){var r={};return i&&Ie(r,this.getReadOptions(t,i)),this.readFeatures_(t,[r])},e}(kg),AP=PP;window.jQuery=window.$=fP;const Xd=new hC({source:new yC}),bP={name:"WpsControl",props:{map:{type:Zv}},data(){return{processes:[],current_process:void 0,process_data:{abstract:null,inputs:[],outputs:[]}}},async created(){this.wpsService=new WpsService({url:"/ol-vue-vite/data/wps/getcapabilities.xml",version:"1.0.0"}),this.wpsService.getCapabilities_GET(n=>{try{const e=n.capabilities&&n.capabilities.processes||[];this.processes=e}catch(e){console.log(e)}})},methods:{async run(){const n={status:"ok",data:null,type:null},e=`/ol-vue-vite/data/wps/output_${this.current_process}.xml`;this.wpsService.setUrl(e);const i=await new Promise((r,a)=>{this.wpsService.execute(o=>{if(o.executeResponse){let s;const{type:l}=o.executeResponse;switch(l){case"responseDocument":if(s=this._parser.xml2json(o.responseDocument),s.ExecuteResponse.Status.ProcessFailed)n.status="error",n.data=s.ExecuteResponse.Status.ProcessFailed.ExceptionReport.Exception.ExceptionText.toString();else{const c=o.responseDocument,d=this._parser.xml2json(c);n.type="link",n.data=d.ExecuteResponse.ProcessOutputs.Output.map(g=>{if(g.Data.ComplexData){const y=this._parser.xml_str2json(g.Data.ComplexData.toString());if(y.metalink){const{identity:m,resources:M,metaurl:w}=y.metalink.files?y.metalink.files.file:y.metalink.file;return{abstract:g.Abstract.toString(),title:m,url:M?M.url.toString():w.toString()}}}})}r(n);break;case"rawOutput":const h=this.process_data.outputs.find(c=>c.execute.complexData)?"vector":"string";if(s=o.executeResponse.responseDocument,n.type=h,h==="vector"){const d=new AP().readFeatures(s,{dataProjection:"EPSG:32632",featureProjection:"EPSG:4326"});d.forEach(g=>console.log(g.getGeometry().getCoordinates())),n.data=d,n.download={file:{content:s,mime_type:o.responseDocument.contentType}}}else n.data=s;r(n);break}}else if(o.textStatus&&o.textStatus==="error"){const s={},l=this._parser.xml_str2json(o.errorThrown);s.status="error",s.data=l.ExceptionReport.Exception.ExceptionText.toString(),a(s)}},this.current_process,"raw","sync",!1,this.createInputsForExcute(),this.createOutputsForExcute())});if(i.status==="ok"&&i.type==="vector"){const r=Xd.getSource();r.clear(),r.addFeatures(i.data),r.getFeatures()[0].getGeometry().transform("EPSG:32632","EPSG:3857"),this.map.getView().fit(r.getFeatures()[0].getGeometry().getExtent())}},createInputsForExcute(){return this.process_data.inputs.map(n=>{let e;const t=new InputGenerator;switch(n.type){case"string":case"float":e=t.createLiteralDataInput_wps_1_0_and_2_0(n.id,void 0,void 0,n.value);break;case"file":const r=n.value,a=r.getExtent();let o;r.getType()==="MultiPolygon"?o=r.getPolygon(0).getCoordinates()[0]:o=r.getCoordinates()[0],o=o.map(c=>`${c[0]},${c[1]}SEP`).toString(),o=o.replace(/SEP(,*)/g," ");const s=`
          <ogr:FeatureCollection xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://ogr.maptools.org/ bacinoprova2.xsd"
            xmlns:ogr="http://ogr.maptools.org/"
            xmlns:gml="http://www.opengis.net/gml">
            <gml:boundedBy>
              <gml:Box>
                <gml:coord>
                  <gml:X>${a[0]}</gml:X>
                  <gml:Y>${a[1]}</gml:Y></gml:coord>
                 <gml:coord>
                  <gml:X>${a[2]}</gml:X>
                  <gml:Y>${a[3]}</gml:Y>
                </gml:coord>
              </gml:Box>
              </gml:boundedBy>
              <gml:featureMember>
                 <geometry>
                   <gml:Polygon srsName="EPSG:32632">
                     <gml:outerBoundaryIs>
                       <gml:LinearRing>
                         <gml:coordinates>${o}</gml:coordinates>
                       </gml:LinearRing>
                     </gml:outerBoundaryIs>
                   </gml:Polygon>
                 </geometry>
             </gml:featureMember>
        </ogr:FeatureCollection>`;e=t.createComplexDataInput_wps_1_0_and_2_0(n.id,n.options.mimetype,void 0,void 0,void 0,s);break;case"bbox":const l=`${n.value.llx} ${n.value.lly}`,h=`${n.value.upx} ${n.value.upy}`;e=t.createBboxDataInput_wps_1_0_and_2_0(n.id,n.epsg,2,l,h);break}return e})},createOutputsForExcute(){return this.process_data.outputs.map((n,e)=>{const t=n.execute,i=new OutputGenerator;if(t.literalData)return i.createLiteralOutput_WPS_1_0(t.identifier,!1);if(t.complexData)return i.createComplexOutput_WPS_1_0(t.identifier,t.complexData.formats[0].mimeType,t.complexData.formats[0].schema,t.complexData.formats[0].encoding,void 0,void 0,void 0,"Pippo","Prova");if(t.boundingBoxData)return i.createComplexOutput_WPS_1_0(t.identifier)})},createProcessInputType(n){const e={type:null,dataType:null,value:null,options:{}};return n.complexData?(e.type="file",e.options.mimetype=n.complexData.formats[0].mimeType):n.literalData?(e.type=n.literalData.literalDataDomains[0].dataType.type,e.dataType=e.type,e.options=null):n.boundingBoxData&&(e.value={llx:null,lly:null,upx:null,upy:null},e.type="bbox",e.epsg=n.boundingBoxData.supportedCRSs[0],e.options.epsg=n.boundingBoxData.supportedCRSs),e},buildFormFromDescribeProcessResponse({abstractValue:n,inputs:e,outputs:t}={}){return e=e.map(i=>{const r=this.createProcessInputType(i);return hu({id:i.identifier,label:i.title},r)}),t=t.map(i=>({id:i.identifier,label:i.title,sublabel:i.abstractValue||"",value:"",execute:i})),{abstract:n,inputs:e,outputs:t}}},watch:{map:{handler(){this.map.addLayer(Xd)}},current_process(n){if(n){const e=`/ol-vue-vite/data/wps/${n}.xml`;this.wpsService.setUrl(e),this.wpsService.describeProcess_GET(t=>{const i=t.processOffering&&t.processOffering.process,{abstract:r,inputs:a,outputs:o}=this.buildFormFromDescribeProcessResponse(i);this.process_data.abstract=r,this.process_data.inputs=a,this.process_data.outputs=o},n)}}}},ts=n=>(by("data-v-6bbc4676"),n=n(),Ly(),n),LP=ts(()=>Te("label",{for:"wpsprocess"},[Te("b",null,"Seleziona un processo")],-1)),NP=ts(()=>Te("option",{disabled:"",value:""},"Seleziona un processo",-1)),FP=["value"],DP={key:0},GP={class:"process_abstract"},kP=ts(()=>Te("h3",null,"Abstract",-1)),jP={class:"process_inputs"},BP=ts(()=>Te("h2",null,"Inputs",-1)),$P=["for"],UP=["id","type","onUpdate:modelValue"],WP={class:"process_outputs"},zP=ts(()=>Te("h2",null,"Outputs",-1)),XP={style:{"font-weight":"bold"}};function qP(n,e,t,i,r,a){return dn(),wn("section",null,[LP,Xu(Te("select",{id:"wpsprocess","onUpdate:modelValue":e[0]||(e[0]=o=>r.current_process=o)},[NP,(dn(!0),wn(Ze,null,ks(r.processes,o=>(dn(),wn("option",{key:o.title,value:o.identifier},ra(o.title),9,FP))),128))],512),[[Wh,r.current_process]]),r.current_process?(dn(),wn("section",DP,[Te("section",GP,[kP,Te("span",null,ra(r.process_data.abstract),1)]),Te("section",jP,[BP,(dn(!0),wn(Ze,null,ks(r.process_data.inputs,o=>(dn(),wn(Ze,null,[Te("label",{for:o.id},ra(o.label),9,$P),Xu(Te("input",{id:o.id,type:o.type,"onUpdate:modelValue":s=>o.value=s},null,8,UP),[[um,o.value]])],64))),256))]),Te("div",WP,[zP,(dn(!0),wn(Ze,null,ks(r.process_data.outputs,o=>(dn(),wn(Ze,null,[Te("div",XP,ra(o.label),1),Te("div",null,ra(o.sublabel),1)],64))),256))]),Te("section",null,[Te("button",{onClick:e[1]||(e[1]=(...o)=>a.run&&a.run(...o))},"Run")])])):R0("",!0)])}var YP=Ul(bP,[["render",qP],["__scopeId","data-v-6bbc4676"]]);const HP={name:"App",components:{WpsControl:YP,MapContainer:iI,LayersControl:uP},data:()=>Qf(hu({},vm),{baselayers:new Li({name:"baselayer"}),overlays:new Li({name:"overlay"}),controls:Av(),map:null}),created(){this.interactions=new Proxy(Kv(),{})},mounted(){this.controls.extend([new EE({source:document.querySelector(this.fullscreenElement)})]),this.interactions.extend([new pM])},methods:{initMap(n){this.map=n}}},VP={id:"app"};function KP(n,e,t,i,r,a){const o=gu("LayersControl"),s=gu("WpsControl"),l=gu("MapContainer");return dn(),wn("main",VP,[Te("aside",null,[Dn(o,{mapTypeId:n.mapTypeId,mapTypes:n.mapTypes,layerGroup:n.baselayers},null,8,["mapTypeId","mapTypes","layerGroup"]),Dn(s,{map:n.map},null,8,["map"])]),Dn(l,{onInit:a.initMap,center:n.center,zoom:n.zoom,baselayers:n.baselayers,overlays:n.overlays,controls:n.controls,interactions:n.interactions},null,8,["onInit","center","zoom","baselayers","overlays","controls","interactions"])])}var ZP=Ul(HP,[["render",KP]]);const JP=dm(ZP);JP.mount("#app")});export default QP();
